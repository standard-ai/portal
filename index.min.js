!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react")):"function"==typeof define&&define.amd?define("@standard/auth",["React"],e):"object"==typeof exports?exports["@standard/auth"]=e(require("react")):t["@standard/auth"]=e(t.React)}(window,(function(t){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var c=e[n]={i:n,l:!1,exports:{}};return t[n].call(c.exports,c,c.exports,i),c.l=!0,c.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var c in t)i.d(n,c,function(e){return t[e]}.bind(null,c));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=23)}([function(e,i){e.exports=t},function(t,e,i){"use strict";(function(t){var n=i(10),c=i(0),r=i.n(c),l=i(18),o=i.n(l),s=i(19),I=i(20),g=i(13),a=i(12),u=i.n(a);function d(){return(d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t}).apply(this,arguments)}var b=function(t,e){for(var i=[t[0]],n=0,c=e.length;n<c;n+=1)i.push(e[n],t[n+1]);return i},B=function(t){return null!==t&&"object"==typeof t&&"[object Object]"===(t.toString?t.toString():Object.prototype.toString.call(t))&&!Object(n.typeOf)(t)},C=Object.freeze([]),m=Object.freeze({});function F(t){return"function"==typeof t}function y(t){return t.displayName||t.name||"Component"}function Z(t){return t&&"string"==typeof t.styledComponentId}var U=void 0!==t&&(t.env.REACT_APP_SC_ATTR||t.env.SC_ATTR)||"data-styled",V="undefined"!=typeof window&&"HTMLElement"in window,h="boolean"==typeof SC_DISABLE_SPEEDY&&SC_DISABLE_SPEEDY||void 0!==t&&(t.env.REACT_APP_SC_DISABLE_SPEEDY||t.env.SC_DISABLE_SPEEDY)||!1,G=function(){return i.nc};function p(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];throw new Error("An error occurred. See https://git.io/JUIaE#"+t+" for more information."+(i.length>0?" Args: "+i.join(", "):""))}var X=function(t){var e=document.head,i=t||e,n=document.createElement("style"),c=function(t){for(var e=t.childNodes,i=e.length;i>=0;i--){var n=e[i];if(n&&1===n.nodeType&&n.hasAttribute(U))return n}}(i),r=void 0!==c?c.nextSibling:null;n.setAttribute(U,"active"),n.setAttribute("data-styled-version","5.2.0");var l=G();return l&&n.setAttribute("nonce",l),i.insertBefore(n,r),n},f=function(){function t(t){var e=this.element=X(t);e.appendChild(document.createTextNode("")),this.sheet=function(t){if(t.sheet)return t.sheet;for(var e=document.styleSheets,i=0,n=e.length;i<n;i++){var c=e[i];if(c.ownerNode===t)return c}p(17)}(e),this.length=0}var e=t.prototype;return e.insertRule=function(t,e){try{return this.sheet.insertRule(e,t),this.length++,!0}catch(t){return!1}},e.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.getRule=function(t){var e=this.sheet.cssRules[t];return void 0!==e&&"string"==typeof e.cssText?e.cssText:""},t}(),Q=function(){function t(t){var e=this.element=X(t);this.nodes=e.childNodes,this.length=0}var e=t.prototype;return e.insertRule=function(t,e){if(t<=this.length&&t>=0){var i=document.createTextNode(e),n=this.nodes[t];return this.element.insertBefore(i,n||null),this.length++,!0}return!1},e.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},t}(),R=function(){function t(t){this.rules=[],this.length=0}var e=t.prototype;return e.insertRule=function(t,e){return t<=this.length&&(this.rules.splice(t,0,e),this.length++,!0)},e.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.getRule=function(t){return t<this.length?this.rules[t]:""},t}(),A=function(){function t(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}var e=t.prototype;return e.indexOfGroup=function(t){for(var e=0,i=0;i<t;i++)e+=this.groupSizes[i];return e},e.insertRules=function(t,e){if(t>=this.groupSizes.length){for(var i=this.groupSizes,n=i.length,c=n;t>=c;)(c<<=1)<0&&p(16,""+t);this.groupSizes=new Uint32Array(c),this.groupSizes.set(i),this.length=c;for(var r=n;r<c;r++)this.groupSizes[r]=0}for(var l=this.indexOfGroup(t+1),o=0,s=e.length;o<s;o++)this.tag.insertRule(l,e[o])&&(this.groupSizes[t]++,l++)},e.clearGroup=function(t){if(t<this.length){var e=this.groupSizes[t],i=this.indexOfGroup(t),n=i+e;this.groupSizes[t]=0;for(var c=i;c<n;c++)this.tag.deleteRule(i)}},e.getGroup=function(t){var e="";if(t>=this.length||0===this.groupSizes[t])return e;for(var i=this.groupSizes[t],n=this.indexOfGroup(t),c=n+i,r=n;r<c;r++)e+=this.tag.getRule(r)+"/*!sc*/\n";return e},t}(),x=new Map,W=new Map,S=1,J=function(t){if(x.has(t))return x.get(t);var e=S++;return x.set(t,e),W.set(e,t),e},v=function(t){return W.get(t)},L=function(t,e){e>=S&&(S=e+1),x.set(t,e),W.set(e,t)},Y="style["+U+'][data-styled-version="5.2.0"]',H=new RegExp("^"+U+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),N=function(t,e,i){for(var n,c=i.split(","),r=0,l=c.length;r<l;r++)(n=c[r])&&t.registerName(e,n)},w=function(t,e){for(var i=e.innerHTML.split("/*!sc*/\n"),n=[],c=0,r=i.length;c<r;c++){var l=i[c].trim();if(l){var o=l.match(H);if(o){var s=0|parseInt(o[1],10),I=o[2];0!==s&&(L(I,s),N(t,I,o[3]),t.getTag().insertRules(s,n)),n.length=0}else n.push(l)}}},E=V,k={isServer:!V,useCSSOMInjection:!h},T=function(){function t(t,e,i){void 0===t&&(t=k),void 0===e&&(e={}),this.options=d({},k,{},t),this.gs=e,this.names=new Map(i),!this.options.isServer&&V&&E&&(E=!1,function(t){for(var e=document.querySelectorAll(Y),i=0,n=e.length;i<n;i++){var c=e[i];c&&"active"!==c.getAttribute(U)&&(w(t,c),c.parentNode&&c.parentNode.removeChild(c))}}(this))}t.registerId=function(t){return J(t)};var e=t.prototype;return e.reconstructWithOptions=function(e,i){return void 0===i&&(i=!0),new t(d({},this.options,{},e),this.gs,i&&this.names||void 0)},e.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.getTag=function(){return this.tag||(this.tag=(i=(e=this.options).isServer,n=e.useCSSOMInjection,c=e.target,t=i?new R(c):n?new f(c):new Q(c),new A(t)));var t,e,i,n,c},e.hasNameForId=function(t,e){return this.names.has(t)&&this.names.get(t).has(e)},e.registerName=function(t,e){if(J(t),this.names.has(t))this.names.get(t).add(e);else{var i=new Set;i.add(e),this.names.set(t,i)}},e.insertRules=function(t,e,i){this.registerName(t,e),this.getTag().insertRules(J(t),i)},e.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.clearRules=function(t){this.getTag().clearGroup(J(t)),this.clearNames(t)},e.clearTag=function(){this.tag=void 0},e.toString=function(){return function(t){for(var e=t.getTag(),i=e.length,n="",c=0;c<i;c++){var r=v(c);if(void 0!==r){var l=t.names.get(r),o=e.getGroup(c);if(void 0!==l&&0!==o.length){var s=U+".g"+c+'[id="'+r+'"]',I="";void 0!==l&&l.forEach((function(t){t.length>0&&(I+=t+",")})),n+=""+o+s+'{content:"'+I+'"}/*!sc*/\n'}}}return n}(this)},t}(),K=function(t,e){for(var i=e.length;i;)t=33*t^e.charCodeAt(--i);return t},z=function(t){return K(5381,t)},j=/^\s*\/\/.*$/gm,P=[":","[",".","#"];function D(t){var e,i,n,c,r=void 0===t?m:t,l=r.options,o=void 0===l?m:l,I=r.plugins,g=void 0===I?C:I,a=new s.a(o),u=[],d=function(t){function e(e){if(e)try{t(e+"}")}catch(t){}}return function(i,n,c,r,l,o,s,I,g,a){switch(i){case 1:if(0===g&&64===n.charCodeAt(0))return t(n+";"),"";break;case 2:if(0===I)return n+"/*|*/";break;case 3:switch(I){case 102:case 112:return t(c[0]+n),"";default:return n+(0===a?"/*|*/":"")}case-2:n.split("/*|*/}").forEach(e)}}}((function(t){u.push(t)})),b=function(t,n,r){return 0===n&&P.includes(r[i.length])||r.match(c)?t:"."+e};function B(t,r,l,o){void 0===o&&(o="&");var s=t.replace(j,""),I=r&&l?l+" "+r+" { "+s+" }":s;return e=o,i=r,n=new RegExp("\\"+i+"\\b","g"),c=new RegExp("(\\"+i+"\\b){2,}"),a(l||!r?"":r,I)}return a.use([].concat(g,[function(t,e,c){2===t&&c.length&&c[0].lastIndexOf(i)>0&&(c[0]=c[0].replace(n,b))},d,function(t){if(-2===t){var e=u;return u=[],e}}])),B.hash=g.length?g.reduce((function(t,e){return e.name||p(15),K(t,e.name)}),5381).toString():"",B}var M=r.a.createContext(),O=(M.Consumer,r.a.createContext()),_=(O.Consumer,new T),q=D();function $(){return Object(c.useContext)(M)||_}function tt(){return Object(c.useContext)(O)||q}function et(t){var e=Object(c.useState)(t.stylisPlugins),i=e[0],n=e[1],l=$(),s=Object(c.useMemo)((function(){var e=l;return t.sheet?e=t.sheet:t.target&&(e=e.reconstructWithOptions({target:t.target},!1)),t.disableCSSOMInjection&&(e=e.reconstructWithOptions({useCSSOMInjection:!1})),e}),[t.disableCSSOMInjection,t.sheet,t.target]),I=Object(c.useMemo)((function(){return D({options:{prefix:!t.disableVendorPrefixes},plugins:i})}),[t.disableVendorPrefixes,i]);return Object(c.useEffect)((function(){o()(i,t.stylisPlugins)||n(t.stylisPlugins)}),[t.stylisPlugins]),r.a.createElement(M.Provider,{value:s},r.a.createElement(O.Provider,{value:I},t.children))}var it=function(){function t(t,e){var i=this;this.inject=function(t,e){void 0===e&&(e=q);var n=i.name+e.hash;t.hasNameForId(i.id,n)||t.insertRules(i.id,n,e(i.rules,n,"@keyframes"))},this.toString=function(){return p(12,String(i.name))},this.name=t,this.id="sc-keyframes-"+t,this.rules=e}return t.prototype.getName=function(t){return void 0===t&&(t=q),this.name+t.hash},t}(),nt=/([A-Z])/,ct=new RegExp(nt,"g"),rt=/^ms-/,lt=function(t){return"-"+t.toLowerCase()};function ot(t){return nt.test(t)?t.replace(ct,lt).replace(rt,"-ms-"):t}var st=function(t){return null==t||!1===t||""===t};function It(t,e,i,n){if(Array.isArray(t)){for(var c,r=[],l=0,o=t.length;l<o;l+=1)""!==(c=It(t[l],e,i,n))&&(Array.isArray(c)?r.push.apply(r,c):r.push(c));return r}return st(t)?"":Z(t)?"."+t.styledComponentId:F(t)?"function"!=typeof(s=t)||s.prototype&&s.prototype.isReactComponent||!e?t:It(t(e),e,i,n):t instanceof it?i?(t.inject(i,n),t.getName(n)):t:B(t)?function t(e,i){var n,c,r=[];for(var l in e)e.hasOwnProperty(l)&&!st(e[l])&&(B(e[l])?r.push.apply(r,t(e[l],l)):F(e[l])?r.push(ot(l)+":",e[l],";"):r.push(ot(l)+": "+(n=l,(null==(c=e[l])||"boolean"==typeof c||""===c?"":"number"!=typeof c||0===c||n in I.a?String(c).trim():c+"px")+";")));return i?[i+" {"].concat(r,["}"]):r}(t):t.toString();var s}function gt(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return F(t)||B(t)?It(b(C,[t].concat(i))):0===i.length&&1===t.length&&"string"==typeof t[0]?t:It(b(t,i))}var at=function(t){return"function"==typeof t||"object"==typeof t&&null!==t&&!Array.isArray(t)},ut=function(t){return"__proto__"!==t&&"constructor"!==t&&"prototype"!==t};function dt(t,e,i){var n=t[i];at(e)&&at(n)?bt(n,e):t[i]=e}function bt(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];for(var c=0,r=i;c<r.length;c++){var l=r[c];if(at(l))for(var o in l)ut(o)&&dt(t,l[o],o)}return t}var Bt=/(a)(d)/gi,Ct=function(t){return String.fromCharCode(t+(t>25?39:97))};function mt(t){var e,i="";for(e=Math.abs(t);e>52;e=e/52|0)i=Ct(e%52)+i;return(Ct(e%52)+i).replace(Bt,"$1-$2")}function Ft(t){for(var e=0;e<t.length;e+=1){var i=t[e];if(F(i)&&!Z(i))return!1}return!0}var yt=z("5.2.0"),Zt=function(){function t(t,e,i){this.rules=t,this.staticRulesId="",this.isStatic=(void 0===i||i.isStatic)&&Ft(t),this.componentId=e,this.baseHash=K(yt,e),this.baseStyle=i,T.registerId(e)}return t.prototype.generateAndInjectStyles=function(t,e,i){var n=this.componentId,c=[];if(this.baseStyle&&c.push(this.baseStyle.generateAndInjectStyles(t,e,i)),this.isStatic&&!i.hash)if(this.staticRulesId&&e.hasNameForId(n,this.staticRulesId))c.push(this.staticRulesId);else{var r=It(this.rules,t,e,i).join(""),l=mt(K(this.baseHash,r.length)>>>0);if(!e.hasNameForId(n,l)){var o=i(r,"."+l,void 0,n);e.insertRules(n,l,o)}c.push(l),this.staticRulesId=l}else{for(var s=this.rules.length,I=K(this.baseHash,i.hash),g="",a=0;a<s;a++){var u=this.rules[a];if("string"==typeof u)g+=u;else if(u){var d=It(u,t,e,i),b=Array.isArray(d)?d.join(""):d;I=K(I,b+a),g+=b}}if(g){var B=mt(I>>>0);if(!e.hasNameForId(n,B)){var C=i(g,"."+B,void 0,n);e.insertRules(n,B,C)}c.push(B)}}return c.join(" ")},t}(),Ut=(new Set,function(t,e,i){return void 0===i&&(i=m),t.theme!==i.theme&&t.theme||e||i.theme}),Vt=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,ht=/(^-|-$)/g;function Gt(t){return t.replace(Vt,"-").replace(ht,"")}function pt(t){return"string"==typeof t&&!0}var Xt=function(t){return mt(z(t)>>>0)},ft=r.a.createContext();ft.Consumer;var Qt={};function Rt(t,e,i){var n=Z(t),l=!pt(t),o=e.displayName,s=void 0===o?function(t){return pt(t)?"styled."+t:"Styled("+y(t)+")"}(t):o,I=e.componentId,a=void 0===I?function(t,e){var i="string"!=typeof t?"sc":Gt(t);Qt[i]=(Qt[i]||0)+1;var n=i+"-"+Xt("5.2.0"+i+Qt[i]);return e?e+"-"+n:n}(e.displayName,e.parentComponentId):I,b=e.attrs,B=void 0===b?C:b,U=e.displayName&&e.componentId?Gt(e.displayName)+"-"+e.componentId:e.componentId||a,V=n&&t.attrs?Array.prototype.concat(t.attrs,B).filter(Boolean):B,h=e.shouldForwardProp;n&&t.shouldForwardProp&&(h=h?function(i,n){return t.shouldForwardProp(i,n)&&e.shouldForwardProp(i,n)}:t.shouldForwardProp);var G,p=new Zt(i,U,n?t.componentStyle:void 0),X=function(t,e){return function(t,e,i){var n=t.attrs,r=t.componentStyle,l=t.defaultProps,o=t.foldedComponentIds,s=t.shouldForwardProp,I=t.styledComponentId,a=t.target,u=function(t,e,i){void 0===t&&(t=m);var n=d({},e,{theme:t}),c={};return i.forEach((function(t){var e,i,r,l=t;for(e in F(l)&&(l=l(n)),l)n[e]=c[e]="className"===e?(i=c[e],r=l[e],i&&r?i+" "+r:i||r):l[e]})),[n,c]}(Ut(e,Object(c.useContext)(ft),l)||m,e,n),b=u[0],B=u[1],C=function(t,e,i,n){var c=$(),r=tt();return t.isStatic&&!e?t.generateAndInjectStyles(m,c,r):t.generateAndInjectStyles(i,c,r)}(r,n.length>0,b),y=i,Z=B.$as||e.$as||B.as||e.as||a,U=pt(Z),V=B!==e?d({},e,{},B):e,h=s||U&&g.a,G={};for(var p in V)"$"!==p[0]&&"as"!==p&&("forwardedAs"===p?G.as=V[p]:h&&!h(p,g.a)||(G[p]=V[p]));return e.style&&B.style!==e.style&&(G.style=d({},e.style,{},B.style)),G.className=Array.prototype.concat(o,I,C!==I?C:null,e.className,B.className).filter(Boolean).join(" "),G.ref=y,Object(c.createElement)(Z,G)}(G,t,e)};return X.displayName=s,(G=r.a.forwardRef(X)).attrs=V,G.componentStyle=p,G.displayName=s,G.shouldForwardProp=h,G.foldedComponentIds=n?Array.prototype.concat(t.foldedComponentIds,t.styledComponentId):C,G.styledComponentId=U,G.target=n?t.target:t,G.withComponent=function(t){var n=e.componentId,c=function(t,e){if(null==t)return{};var i,n,c={},r=Object.keys(t);for(n=0;n<r.length;n++)i=r[n],e.indexOf(i)>=0||(c[i]=t[i]);return c}(e,["componentId"]),r=n&&n+"-"+(pt(t)?t:Gt(y(t)));return Rt(t,d({},c,{attrs:V,componentId:r}),i)},Object.defineProperty(G,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=n?bt({},t.defaultProps,e):e}}),G.toString=function(){return"."+G.styledComponentId},l&&u()(G,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,self:!0,styledComponentId:!0,target:!0,withComponent:!0}),G}var At=function(t){return function t(e,i,c){if(void 0===c&&(c=m),!Object(n.isValidElementType)(i))return p(1,String(i));var r=function(){return e(i,c,gt.apply(void 0,arguments))};return r.withConfig=function(n){return t(e,i,d({},c,{},n))},r.attrs=function(n){return t(e,i,d({},c,{attrs:Array.prototype.concat(c.attrs,n).filter(Boolean)}))},r}(Rt,t)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(t){At[t]=At(t)}));!function(){function t(t,e){this.rules=t,this.componentId=e,this.isStatic=Ft(t),T.registerId(this.componentId+1)}var e=t.prototype;e.createStyles=function(t,e,i,n){var c=n(It(this.rules,e,i,n).join(""),""),r=this.componentId+t;i.insertRules(r,r,c)},e.removeStyles=function(t,e){e.clearRules(this.componentId+t)},e.renderStyles=function(t,e,i,n){t>2&&T.registerId(this.componentId+t),this.removeStyles(t,i),this.createStyles(t,e,i,n)}}();!function(){function t(){var t=this;this._emitSheetCSS=function(){var e=t.instance.toString(),i=G();return"<style "+[i&&'nonce="'+i+'"',U+'="true"','data-styled-version="5.2.0"'].filter(Boolean).join(" ")+">"+e+"</style>"},this.getStyleTags=function(){return t.sealed?p(2):t._emitSheetCSS()},this.getStyleElement=function(){var e;if(t.sealed)return p(2);var i=((e={})[U]="",e["data-styled-version"]="5.2.0",e.dangerouslySetInnerHTML={__html:t.instance.toString()},e),n=G();return n&&(i.nonce=n),[r.a.createElement("style",d({},i,{key:"sc-0-0"}))]},this.seal=function(){t.sealed=!0},this.instance=new T({isServer:!0}),this.sealed=!1}var e=t.prototype;e.collectStyles=function(t){return this.sealed?p(2):r.a.createElement(et,{sheet:this.instance},t)},e.interleaveWithNodeStream=function(t){return p(3)}}();e.a=At}).call(this,i(11))},function(t,e,i){!function(t){"use strict";var e=Symbol("options"),i=function(t,e){function n(t,e){for(var i in t=t||{},e)void 0===t[i]&&(t[i]=e[i]);return t}function c(t){var e=t;return e instanceof Date||(e=new Date).setTime(e.getTime()+1e3*t),e.toUTCString()}if(n(i,{expires:31536e3,path:"/",secure:"https:"===window.location.protocol,nulltoremove:!0,autojson:!0,autoencode:!0,encode:function(t){return encodeURIComponent(t)},decode:function(t){return decodeURIComponent(t)},fallback:!1}),e=n(e,i),"string"==typeof t){var r,l=document.cookie.split(/;\s*/).map(e.autoencode?e.decode:function(t){return t}).map((function(t){return t.split("=")})).reduce((function(t,e){return t[e[0]]=e.splice(1).join("="),t}),{})[t];if(!e.autojson)return l;try{r=JSON.parse(l)}catch(t){r=l}return void 0===r&&e.fallback&&(r=e.fallback(t,e)),r}for(var o in t){var s=t[o],I=void 0===s||e.nulltoremove&&null===s,g=e.autojson?JSON.stringify(s):s,a=e.autoencode?e.encode(g):g;I&&(a="");var u=e.encode(o)+"="+a+(e.expires?";expires="+c(I?-1e4:e.expires):"")+";path="+e.path+(e.domain?";domain="+e.domain:"")+(e.secure?";secure":"");e.test&&e.test(u),document.cookie=u}return i},n=[];const c=(t,n)=>{if(n===Symbol.iterator)return o();if(n===e)return i;const c=i(n);return void 0===c?null:c},r=(t,c,r=null)=>{if(c===e)for(let t in r)return i[t]=r[t],!0;return i({[c]:r}),n.filter(t=>t.key===c).forEach(({check:t})=>t()),!0},l=()=>{const t=document.cookie.split(";"),e={};for(var i=0;i<t.length;i++){const n=(t[i].split("=")[0]+"").trim();try{e[n]=c(0,n)}catch(t){console.warn(t)}}return e},o=()=>{const t=Object.values(l());return function*(){for(;t.length;)yield t.shift()}};var s=new Proxy({},{get:c,set:r,deleteProperty:r,getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),ownKeys:()=>Object.keys(l())}),I=(t,e)=>{e||(e={}),"function"==typeof e&&(e={cmp:e});var i=e.space||"";"number"==typeof i&&(i=Array(i+1).join(" "));var n,c="boolean"==typeof e.cycles&&e.cycles,r=e.replacer||function(t,e){return e},l=e.cmp&&(n=e.cmp,function(t){return function(e,i){var c={key:e,value:t[e]},r={key:i,value:t[i]};return n(c,r)}}),o=[];return function t(e,n,s,I){var u=i?"\n"+new Array(I+1).join(i):"",d=i?": ":":";if(s&&s.toJSON&&"function"==typeof s.toJSON&&(s=s.toJSON()),void 0!==(s=r.call(e,n,s))){if("object"!=typeof s||null===s)return JSON.stringify(s);if(g(s)){for(var b=[],B=0;B<s.length;B++){var C=t(s,B,s[B],I+1)||JSON.stringify(null);b.push(u+i+C)}return"["+b.join(",")+u+"]"}if(-1!==o.indexOf(s)){if(c)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}o.push(s);var m=a(s).sort(l&&l(s));for(b=[],B=0;B<m.length;B++){var F=t(s,n=m[B],s[n],I+1);if(F){var y=JSON.stringify(n)+d+F;b.push(u+i+y)}}return o.splice(o.indexOf(s),1),"{"+b.join(",")+u+"}"}}({"":t},"",t,0)},g=Array.isArray||function(t){return"[object Array]"==={}.toString.call(t)},a=Object.keys||function(t){var e=Object.prototype.hasOwnProperty||function(){return!0},i=[];for(var n in t)e.call(t,n)&&i.push(n);return i};const u="JSSTR:",d=t=>("string"!=typeof t&&(t=u+I(t)),t),b=t=>t&&"string"==typeof t&&t.slice(0,u.length)===u?JSON.parse(t.slice(u.length)):t,B=()=>{const t={};for(var e in localStorage)null!==C[e]&&(t[e]=C[e]);return t},C=new Proxy({},{get:(t,e)=>{if(e===Symbol.iterator){const t=Object.values(B());return function*(){for(;t.length;)yield t.shift()}}return b(localStorage.getItem(e))},set:(t,e,i)=>(localStorage.setItem(e,d(i)),n.filter(t=>t.key===e).forEach(({check:t})=>t()),!0),deleteProperty:(t,e)=>(localStorage.removeItem(e),n.filter(t=>t.key===e).forEach(({check:t})=>t()),!0),getOwnPropertyDescriptor:t=>({enumerable:!0,configurable:!0}),ownKeys:t=>Object.keys(B())}),m=()=>{const t={};for(var e in sessionStorage)null!==F[e]&&(t[e]=F[e]);return t},F=new Proxy({},{get:(t,e)=>{if(e===Symbol.iterator){const t=Object.values(m());return function*(){for(;t.length;)yield t.shift()}}return b(sessionStorage.getItem(e))},set:(t,e,i)=>(sessionStorage.setItem(e,d(i)),n.filter(t=>t.key===e).forEach(({check:t})=>t()),!0),deleteProperty:(t,e)=>(sessionStorage.removeItem(e),n.filter(t=>t.key===e).forEach(({check:t})=>t()),!0),getOwnPropertyDescriptor:t=>({enumerable:!0,configurable:!0}),ownKeys:t=>Object.keys(m())});class y{constructor(t="keyval-store",e="keyval"){this.storeName=e,this._dbp=new Promise((i,n)=>{const c=indexedDB.open(t,1);c.onerror=()=>n(c.error),c.onsuccess=()=>i(c.result),c.onupgradeneeded=()=>{c.result.createObjectStore(e)}})}_withIDBStore(t,e){return this._dbp.then(i=>new Promise((n,c)=>{const r=i.transaction(this.storeName,t);r.oncomplete=()=>n(),r.onabort=r.onerror=()=>c(r.error),e(r.objectStore(this.storeName))}))}}let Z;function U(){return Z||(Z=new y),Z}function V(t,e=U()){let i;return e._withIDBStore("readonly",e=>{i=e.get(t)}).then(()=>i.result)}const h=new Proxy(async()=>{const t={},e=await function(t=U()){const e=[];return t._withIDBStore("readonly",t=>{(t.openKeyCursor||t.openCursor).call(t).onsuccess=function(){this.result&&(e.push(this.result.key),this.result.continue())}}).then(()=>e)}();return await Promise.all(e.map(async e=>{t[e]=await V(e)})),t},{get:async(t,e)=>{const i=await V(e);return void 0===i?null:i},set:(t,e,i)=>(function(t,e,i=U()){i._withIDBStore("readwrite",i=>{i.put(e,t)})}(e,i),n.filter(t=>t.key===e).forEach(({check:t})=>t()),!0),deleteProperty:(t,e)=>(function(t,e=U()){e._withIDBStore("readwrite",e=>{e.delete(t)})}(e),n.filter(t=>t.key===e).forEach(({check:t})=>t()),!0)}),G=t=>(t=>!t||["boolean","number","string"].includes(typeof t))(t)?t:JSON.parse(I(t));t.cookies=s,t.local=C,t.session=F,t.db=h,t.options=e,t.subscribe=(t,e,i)=>{let c=t[e]&&t[e].then?t[e].then(G):G(t[e]);const r=()=>{const n=t[e];if(c&&c.then||n&&n.then)return Promise.all([c,n]).then(([t,e])=>{I(t)!==I(e)&&(i(e,t),c=G(e))});I(c)!==I(n)&&(i(n,c),c=G(n))},l=setInterval(r,100);return n.push({id:l,key:e,check:r,cb:i}),l},t.unsubscribe=t=>"number"==typeof t?clearInterval(t):n.filter(({cb:e})=>e===t).map(t=>clearInterval(t.id)),Object.defineProperty(t,"__esModule",{value:!0})}(e)},function(t,e,i){"use strict";var n=i(5),c=i(15),r=process.env,l=r.REACT_APP_AUTH_DOMAIN,o=r.REACT_APP_AUTH_CLIENT_ID,s=r.REACT_APP_AUTH_AUDIENCE,I=r.REACT_APP_AUTH_RETURN_TO,g=void 0===I?"/":I,a=r.REACT_APP_AUTH_REDIRECT,u=void 0===a?"/":a,d=new c.a({domain:l,client_id:o,audience:s,redirect_uri:Object(n.a)(u),useRefreshTokens:!0,cacheLocation:"localstorage"}),b={},B=function(t){b[t]=function(){return d[t].apply(d,arguments)}};for(var C in d)B(C);b.login=function(){return d.loginWithRedirect()},b.logout=function(){return d.logout({client_id:o,returnTo:Object(n.a)(g)})},e.a=b},function(t,e,i){"use strict";var n=i(0),c=i.n(n);e.a=c.a.createContext({})},function(t,e,i){"use strict";e.a=function(t){return/^https?:\/\//i.test(t)?t:window.location.origin+"/"+t.replace(/^\//,"")}},function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){"use strict";var n=i(2),c=i(3);e.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.pathname;return t&&"string"==typeof t&&(n.local.redirect=t),c.a.logout()}},function(t,e,i){"use strict";var n=i(0),c=i(4);e.a=function(){return Object(n.useContext)(c.a)}},function(t,e,i){"use strict";var n=i(3);e.a=function(){return n.a.getTokenSilently()}},function(t,e,i){"use strict";t.exports=i(30)},function(t,e){var i,n,c=t.exports={};function r(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}function o(t){if(i===setTimeout)return setTimeout(t,0);if((i===r||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:r}catch(t){i=r}try{n="function"==typeof clearTimeout?clearTimeout:l}catch(t){n=l}}();var s,I=[],g=!1,a=-1;function u(){g&&s&&(g=!1,s.length?I=s.concat(I):a=-1,I.length&&d())}function d(){if(!g){var t=o(u);g=!0;for(var e=I.length;e;){for(s=I,I=[];++a<e;)s&&s[a].run();a=-1,e=I.length}s=null,g=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===l||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function b(t,e){this.fun=t,this.array=e}function B(){}c.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];I.push(new b(t,e)),1!==I.length||g||o(d)},b.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=B,c.addListener=B,c.once=B,c.off=B,c.removeListener=B,c.removeAllListeners=B,c.emit=B,c.prependListener=B,c.prependOnceListener=B,c.listeners=function(t){return[]},c.binding=function(t){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(t){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},function(t,e,i){"use strict";var n=i(10),c={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},l={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};function s(t){return n.isMemo(t)?l:o[t.$$typeof]||c}o[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o[n.Memo]=l;var I=Object.defineProperty,g=Object.getOwnPropertyNames,a=Object.getOwnPropertySymbols,u=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,b=Object.prototype;t.exports=function t(e,i,n){if("string"!=typeof i){if(b){var c=d(i);c&&c!==b&&t(e,c,n)}var l=g(i);a&&(l=l.concat(a(i)));for(var o=s(e),B=s(i),C=0;C<l.length;++C){var m=l[C];if(!(r[m]||n&&n[m]||B&&B[m]||o&&o[m])){var F=u(i,m);try{I(e,m,F)}catch(t){}}}}return e}},function(t,e,i){"use strict";var n=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,c=function(t){var e={};return function(i){return void 0===e[i]&&(e[i]=t(i)),e[i]}}((function(t){return n.test(t)||111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&t.charCodeAt(2)<91}));e.a=c},function(t,e,i){"use strict";(function(t){var n=i(5),c=i(3),r=i(0),l=i.n(r),o=i(2),s=i(16),I=i.n(s),g=i(17),a=i(22),u=i(4),d=i(21),b=i(9);function B(t,e,i,n,c,r,l){try{var o=t[r](l),s=o.value}catch(t){return void i(t)}o.done?e(s):Promise.resolve(s).then(n,c)}function C(t){return function(){var e=this,i=arguments;return new Promise((function(n,c){var r=t.apply(e,i);function l(t){B(r,n,c,l,o,"next",t)}function o(t){B(r,n,c,l,o,"throw",t)}l(void 0)}))}}function m(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var i=[],n=!0,c=!1,r=void 0;try{for(var l,o=t[Symbol.iterator]();!(n=(l=o.next()).done)&&(i.push(l.value),!e||i.length!==e);n=!0);}catch(t){c=!0,r=t}finally{try{n||null==o.return||o.return()}finally{if(c)throw r}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return F(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return F(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var y=t.env.REACT_APP_AUTH_REDIRECT,Z=void 0===y?"/":y,U=function(t){return window.history.replaceState("",document.title,t)},V=function(t){return t.href.startsWith(Object(n.a)(Z))&&t.searchParams.has("code")},h=new URL(window.location.href);e.a=function(t){var e,i=t.onUser,n=t.showProfile,s=void 0===n||n,B=t.children,F=m(Object(r.useState)(!1),2),y=F[0],Z=F[1],G=m(Object(r.useState)(!1),2),p=G[0],X=G[1],f=m(Object(r.useState)(V(h)||(e=Object.keys(o.local),Boolean(e.find((function(t){return/auth0spajs/.test(t)}))))),2),Q=f[0],R=f[1];I()(C(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!y){t.next=2;break}return t.abrupt("return");case 2:if(R(!0),t.prev=3,!V(h)){t.next=8;break}return t.next=7,c.a.handleRedirectCallback(h.href);case 7:o.local.redirect&&o.local.redirect!==h.pathname+h.search?(U(o.local.redirect),delete o.local.redirect):U("/");case 8:t.next=14;break;case 10:t.prev=10,t.t0=t.catch(3),U("/"),X(t.t0.message);case 14:return t.prev=14,t.next=17,Object(b.a)();case 17:return t.next=19,c.a.getUser();case 19:(e=t.sent)&&(n={id:e.sub,name:e.name,email:e.email,img:e.picture},Z(n),i&&i(n)),t.next=25;break;case 23:t.prev=23,t.t1=t.catch(14);case 25:return t.prev=25,R(!1),t.finish(25);case 28:case"end":return t.stop()}}),t,null,[[3,10],[14,23,25,28]])}))),[y]);var A=function(){var t=C(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o.local.redirect=window.location.pathname+window.location.search,R(!0),t.next=4,c.a.login();case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return y?l.a.createElement(u.a.Provider,{value:y},s&&l.a.createElement(d.a,null),B):l.a.createElement(l.a.Fragment,null,l.a.createElement(g.a,{active:Q}),",",l.a.createElement(a.a,{error:p,onLogin:A}))}}).call(this,i(11))},function(t,e,i){"use strict";(function(t,n,c){i.d(e,"a",(function(){return ur}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function l(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var o=function(){return(o=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var c in e=arguments[i])Object.prototype.hasOwnProperty.call(e,c)&&(t[c]=e[c]);return t}).apply(this,arguments)};function s(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var c=0;for(n=Object.getOwnPropertySymbols(t);c<n.length;c++)e.indexOf(n[c])<0&&Object.prototype.propertyIsEnumerable.call(t,n[c])&&(i[n[c]]=t[n[c]])}return i}function I(t,e,i,n){return new(i||(i=Promise))((function(c,r){function l(t){try{s(n.next(t))}catch(t){r(t)}}function o(t){try{s(n.throw(t))}catch(t){r(t)}}function s(t){t.done?c(t.value):new i((function(e){e(t.value)})).then(l,o)}s((n=n.apply(t,e||[])).next())}))}function g(t,e){var i,n,c,r,l={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,n&&(c=2&r[0]?n.return:r[0]?n.throw||((c=n.return)&&c.call(n),0):n.next)&&!(c=c.call(n,r[1])).done)return c;switch(n=0,c&&(r=[2&r[0],c.value]),r[0]){case 0:case 1:c=r;break;case 4:return l.label++,{value:r[1],done:!1};case 5:l.label++,n=r[1],r=[0];continue;case 7:r=l.ops.pop(),l.trys.pop();continue;default:if(!((c=(c=l.trys).length>0&&c[c.length-1])||6!==r[0]&&2!==r[0])){l=0;continue}if(3===r[0]&&(!c||r[1]>c[0]&&r[1]<c[3])){l.label=r[1];break}if(6===r[0]&&l.label<c[1]){l.label=c[1],c=r;break}if(c&&l.label<c[2]){l.label=c[2],l.ops.push(r);break}c[2]&&l.ops.pop(),l.trys.pop();continue}r=e.call(t,l)}catch(t){r=[6,t],n=0}finally{i=c=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{};function u(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function d(t,e){return t(e={exports:{}},e.exports),e.exports}var b=function(t){return t&&t.Math==Math&&t},B=b("object"==typeof globalThis&&globalThis)||b("object"==typeof window&&window)||b("object"==typeof self&&self)||b("object"==typeof a&&a)||Function("return this")(),C=function(t){try{return!!t()}catch(t){return!0}},m=!C((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),F={}.propertyIsEnumerable,y=Object.getOwnPropertyDescriptor,Z={f:y&&!F.call({1:2},1)?function(t){var e=y(this,t);return!!e&&e.enumerable}:F},U=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},V={}.toString,h=function(t){return V.call(t).slice(8,-1)},G="".split,p=C((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==h(t)?G.call(t,""):Object(t)}:Object,X=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},f=function(t){return p(X(t))},Q=function(t){return"object"==typeof t?null!==t:"function"==typeof t},R=function(t,e){if(!Q(t))return t;var i,n;if(e&&"function"==typeof(i=t.toString)&&!Q(n=i.call(t)))return n;if("function"==typeof(i=t.valueOf)&&!Q(n=i.call(t)))return n;if(!e&&"function"==typeof(i=t.toString)&&!Q(n=i.call(t)))return n;throw TypeError("Can't convert object to primitive value")},A={}.hasOwnProperty,x=function(t,e){return A.call(t,e)},W=B.document,S=Q(W)&&Q(W.createElement),J=function(t){return S?W.createElement(t):{}},v=!m&&!C((function(){return 7!=Object.defineProperty(J("div"),"a",{get:function(){return 7}}).a})),L=Object.getOwnPropertyDescriptor,Y={f:m?L:function(t,e){if(t=f(t),e=R(e,!0),v)try{return L(t,e)}catch(t){}if(x(t,e))return U(!Z.f.call(t,e),t[e])}},H=function(t){if(!Q(t))throw TypeError(String(t)+" is not an object");return t},N=Object.defineProperty,w={f:m?N:function(t,e,i){if(H(t),e=R(e,!0),H(i),v)try{return N(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported");return"value"in i&&(t[e]=i.value),t}},E=m?function(t,e,i){return w.f(t,e,U(1,i))}:function(t,e,i){return t[e]=i,t},k=function(t,e){try{E(B,t,e)}catch(i){B[t]=e}return e},T=B["__core-js_shared__"]||k("__core-js_shared__",{}),K=Function.toString;"function"!=typeof T.inspectSource&&(T.inspectSource=function(t){return K.call(t)});var z,j,P,D=T.inspectSource,M=B.WeakMap,O="function"==typeof M&&/native code/.test(D(M)),_=d((function(t){(t.exports=function(t,e){return T[t]||(T[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.5",mode:"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})})),q=0,$=Math.random(),tt=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++q+$).toString(36)},et=_("keys"),it=function(t){return et[t]||(et[t]=tt(t))},nt={},ct=B.WeakMap;if(O){var rt=new ct,lt=rt.get,ot=rt.has,st=rt.set;z=function(t,e){return st.call(rt,t,e),e},j=function(t){return lt.call(rt,t)||{}},P=function(t){return ot.call(rt,t)}}else{var It=it("state");nt[It]=!0,z=function(t,e){return E(t,It,e),e},j=function(t){return x(t,It)?t[It]:{}},P=function(t){return x(t,It)}}var gt,at={set:z,get:j,has:P,enforce:function(t){return P(t)?j(t):z(t,{})},getterFor:function(t){return function(e){var i;if(!Q(e)||(i=j(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return i}}},ut=d((function(t){var e=at.get,i=at.enforce,n=String(String).split("String");(t.exports=function(t,e,c,r){var l=!!r&&!!r.unsafe,o=!!r&&!!r.enumerable,s=!!r&&!!r.noTargetGet;"function"==typeof c&&("string"!=typeof e||x(c,"name")||E(c,"name",e),i(c).source=n.join("string"==typeof e?e:"")),t!==B?(l?!s&&t[e]&&(o=!0):delete t[e],o?t[e]=c:E(t,e,c)):o?t[e]=c:k(e,c)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||D(this)}))})),dt=B,bt=function(t){return"function"==typeof t?t:void 0},Bt=function(t,e){return arguments.length<2?bt(dt[t])||bt(B[t]):dt[t]&&dt[t][e]||B[t]&&B[t][e]},Ct=Math.ceil,mt=Math.floor,Ft=function(t){return isNaN(t=+t)?0:(t>0?mt:Ct)(t)},yt=Math.min,Zt=function(t){return t>0?yt(Ft(t),9007199254740991):0},Ut=Math.max,Vt=Math.min,ht=function(t){return function(e,i,n){var c,r=f(e),l=Zt(r.length),o=function(t,e){var i=Ft(t);return i<0?Ut(i+e,0):Vt(i,e)}(n,l);if(t&&i!=i){for(;l>o;)if((c=r[o++])!=c)return!0}else for(;l>o;o++)if((t||o in r)&&r[o]===i)return t||o||0;return!t&&-1}},Gt={includes:ht(!0),indexOf:ht(!1)},pt=Gt.indexOf,Xt=function(t,e){var i,n=f(t),c=0,r=[];for(i in n)!x(nt,i)&&x(n,i)&&r.push(i);for(;e.length>c;)x(n,i=e[c++])&&(~pt(r,i)||r.push(i));return r},ft=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Qt=ft.concat("length","prototype"),Rt={f:Object.getOwnPropertyNames||function(t){return Xt(t,Qt)}},At={f:Object.getOwnPropertySymbols},xt=Bt("Reflect","ownKeys")||function(t){var e=Rt.f(H(t)),i=At.f;return i?e.concat(i(t)):e},Wt=function(t,e){for(var i=xt(e),n=w.f,c=Y.f,r=0;r<i.length;r++){var l=i[r];x(t,l)||n(t,l,c(e,l))}},St=/#|\.prototype\./,Jt=function(t,e){var i=Lt[vt(t)];return i==Ht||i!=Yt&&("function"==typeof e?C(e):!!e)},vt=Jt.normalize=function(t){return String(t).replace(St,".").toLowerCase()},Lt=Jt.data={},Yt=Jt.NATIVE="N",Ht=Jt.POLYFILL="P",Nt=Jt,wt=Y.f,Et=function(t,e){var i,n,c,r,l,o=t.target,s=t.global,I=t.stat;if(i=s?B:I?B[o]||k(o,{}):(B[o]||{}).prototype)for(n in e){if(r=e[n],c=t.noTargetGet?(l=wt(i,n))&&l.value:i[n],!Nt(s?n:o+(I?".":"#")+n,t.forced)&&void 0!==c){if(typeof r==typeof c)continue;Wt(r,c)}(t.sham||c&&c.sham)&&E(r,"sham",!0),ut(i,n,r,t)}},kt=!!Object.getOwnPropertySymbols&&!C((function(){return!String(Symbol())})),Tt=kt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Kt=_("wks"),zt=B.Symbol,jt=Tt?zt:zt&&zt.withoutSetter||tt,Pt=function(t){return x(Kt,t)||(kt&&x(zt,t)?Kt[t]=zt[t]:Kt[t]=jt("Symbol."+t)),Kt[t]},Dt=Pt("match"),Mt=function(t){if(function(t){var e;return Q(t)&&(void 0!==(e=t[Dt])?!!e:"RegExp"==h(t))}(t))throw TypeError("The method doesn't accept regular expressions");return t},Ot=Pt("match"),_t=function(t){var e=/./;try{"/./"[t](e)}catch(i){try{return e[Ot]=!1,"/./"[t](e)}catch(t){}}return!1},qt=Y.f,$t="".startsWith,te=Math.min,ee=_t("startsWith"),ie=!(ee||(gt=qt(String.prototype,"startsWith"),!gt||gt.writable));Et({target:"String",proto:!0,forced:!ie&&!ee},{startsWith:function(t){var e=String(X(this));Mt(t);var i=Zt(te(arguments.length>1?arguments[1]:void 0,e.length)),n=String(t);return $t?$t.call(e,n,i):e.slice(i,i+n.length)===n}});var ne,ce,re=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},le=function(t,e,i){if(re(t),void 0===e)return t;switch(i){case 0:return function(){return t.call(e)};case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,c){return t.call(e,i,n,c)}}return function(){return t.apply(e,arguments)}},oe=Function.call,se=function(t,e,i){return le(oe,B[t].prototype[e],i)},Ie=(se("String","startsWith"),Array.isArray||function(t){return"Array"==h(t)}),ge=function(t){return Object(X(t))},ae=function(t,e,i){var n=R(e);n in t?w.f(t,n,U(0,i)):t[n]=i},ue=Pt("species"),de=function(t,e){var i;return Ie(t)&&("function"!=typeof(i=t.constructor)||i!==Array&&!Ie(i.prototype)?Q(i)&&null===(i=i[ue])&&(i=void 0):i=void 0),new(void 0===i?Array:i)(0===e?0:e)},be=Bt("navigator","userAgent")||"",Be=B.process,Ce=Be&&Be.versions,me=Ce&&Ce.v8;me?ce=(ne=me.split("."))[0]+ne[1]:be&&(!(ne=be.match(/Edge\/(\d+)/))||ne[1]>=74)&&(ne=be.match(/Chrome\/(\d+)/))&&(ce=ne[1]);var Fe=ce&&+ce,ye=Pt("species"),Ze=Pt("isConcatSpreadable"),Ue=Fe>=51||!C((function(){var t=[];return t[Ze]=!1,t.concat()[0]!==t})),Ve=Fe>=51||!C((function(){var t=[];return(t.constructor={})[ye]=function(){return{foo:1}},1!==t.concat(Boolean).foo})),he=function(t){if(!Q(t))return!1;var e=t[Ze];return void 0!==e?!!e:Ie(t)};Et({target:"Array",proto:!0,forced:!Ue||!Ve},{concat:function(t){var e,i,n,c,r,l=ge(this),o=de(l,0),s=0;for(e=-1,n=arguments.length;e<n;e++)if(he(r=-1===e?l:arguments[e])){if(s+(c=Zt(r.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(i=0;i<c;i++,s++)i in r&&ae(o,s,r[i])}else{if(s>=9007199254740991)throw TypeError("Maximum allowed index exceeded");ae(o,s++,r)}return o.length=s,o}});var Ge={};Ge[Pt("toStringTag")]="z";var pe="[object z]"===String(Ge),Xe=Pt("toStringTag"),fe="Arguments"==h(function(){return arguments}()),Qe=pe?h:function(t){var e,i,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Xe))?i:fe?h(e):"Object"==(n=h(e))&&"function"==typeof e.callee?"Arguments":n},Re=pe?{}.toString:function(){return"[object "+Qe(this)+"]"};pe||ut(Object.prototype,"toString",Re,{unsafe:!0});var Ae,xe=Object.keys||function(t){return Xt(t,ft)},We=m?Object.defineProperties:function(t,e){H(t);for(var i,n=xe(e),c=n.length,r=0;c>r;)w.f(t,i=n[r++],e[i]);return t},Se=Bt("document","documentElement"),Je=it("IE_PROTO"),ve=function(){},Le=function(t){return"<script>"+t+"<\/script>"},Ye=function(){try{Ae=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;Ye=Ae?function(t){t.write(Le("")),t.close();var e=t.parentWindow.Object;return t=null,e}(Ae):((e=J("iframe")).style.display="none",Se.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(Le("document.F=Object")),t.close(),t.F);for(var i=ft.length;i--;)delete Ye.prototype[ft[i]];return Ye()};nt[Je]=!0;var He=Object.create||function(t,e){var i;return null!==t?(ve.prototype=H(t),i=new ve,ve.prototype=null,i[Je]=t):i=Ye(),void 0===e?i:We(i,e)},Ne=Rt.f,we={}.toString,Ee="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],ke={f:function(t){return Ee&&"[object Window]"==we.call(t)?function(t){try{return Ne(t)}catch(t){return Ee.slice()}}(t):Ne(f(t))}},Te={f:Pt},Ke=w.f,ze=function(t){var e=dt.Symbol||(dt.Symbol={});x(e,t)||Ke(e,t,{value:Te.f(t)})},je=w.f,Pe=Pt("toStringTag"),De=function(t,e,i){t&&!x(t=i?t:t.prototype,Pe)&&je(t,Pe,{configurable:!0,value:e})},Me=[].push,Oe=function(t){var e=1==t,i=2==t,n=3==t,c=4==t,r=6==t,l=5==t||r;return function(o,s,I,g){for(var a,u,d=ge(o),b=p(d),B=le(s,I,3),C=Zt(b.length),m=0,F=g||de,y=e?F(o,C):i?F(o,0):void 0;C>m;m++)if((l||m in b)&&(u=B(a=b[m],m,d),t))if(e)y[m]=u;else if(u)switch(t){case 3:return!0;case 5:return a;case 6:return m;case 2:Me.call(y,a)}else if(c)return!1;return r?-1:n||c?c:y}},_e=[Oe(0),Oe(1),Oe(2),Oe(3),Oe(4),Oe(5),Oe(6)][0],qe=it("hidden"),$e=Pt("toPrimitive"),ti=at.set,ei=at.getterFor("Symbol"),ii=Object.prototype,ni=B.Symbol,ci=Bt("JSON","stringify"),ri=Y.f,li=w.f,oi=ke.f,si=Z.f,Ii=_("symbols"),gi=_("op-symbols"),ai=_("string-to-symbol-registry"),ui=_("symbol-to-string-registry"),di=_("wks"),bi=B.QObject,Bi=!bi||!bi.prototype||!bi.prototype.findChild,Ci=m&&C((function(){return 7!=He(li({},"a",{get:function(){return li(this,"a",{value:7}).a}})).a}))?function(t,e,i){var n=ri(ii,e);n&&delete ii[e],li(t,e,i),n&&t!==ii&&li(ii,e,n)}:li,mi=function(t,e){var i=Ii[t]=He(ni.prototype);return ti(i,{type:"Symbol",tag:t,description:e}),m||(i.description=e),i},Fi=Tt?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof ni},yi=function(t,e,i){t===ii&&yi(gi,e,i),H(t);var n=R(e,!0);return H(i),x(Ii,n)?(i.enumerable?(x(t,qe)&&t[qe][n]&&(t[qe][n]=!1),i=He(i,{enumerable:U(0,!1)})):(x(t,qe)||li(t,qe,U(1,{})),t[qe][n]=!0),Ci(t,n,i)):li(t,n,i)},Zi=function(t,e){H(t);var i=f(e),n=xe(i).concat(Gi(i));return _e(n,(function(e){m&&!Ui.call(i,e)||yi(t,e,i[e])})),t},Ui=function(t){var e=R(t,!0),i=si.call(this,e);return!(this===ii&&x(Ii,e)&&!x(gi,e))&&(!(i||!x(this,e)||!x(Ii,e)||x(this,qe)&&this[qe][e])||i)},Vi=function(t,e){var i=f(t),n=R(e,!0);if(i!==ii||!x(Ii,n)||x(gi,n)){var c=ri(i,n);return!c||!x(Ii,n)||x(i,qe)&&i[qe][n]||(c.enumerable=!0),c}},hi=function(t){var e=oi(f(t)),i=[];return _e(e,(function(t){x(Ii,t)||x(nt,t)||i.push(t)})),i},Gi=function(t){var e=t===ii,i=oi(e?gi:f(t)),n=[];return _e(i,(function(t){!x(Ii,t)||e&&!x(ii,t)||n.push(Ii[t])})),n};if(kt||(ut((ni=function(){if(this instanceof ni)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=tt(t),i=function(t){this===ii&&i.call(gi,t),x(this,qe)&&x(this[qe],e)&&(this[qe][e]=!1),Ci(this,e,U(1,t))};return m&&Bi&&Ci(ii,e,{configurable:!0,set:i}),mi(e,t)}).prototype,"toString",(function(){return ei(this).tag})),ut(ni,"withoutSetter",(function(t){return mi(tt(t),t)})),Z.f=Ui,w.f=yi,Y.f=Vi,Rt.f=ke.f=hi,At.f=Gi,Te.f=function(t){return mi(Pt(t),t)},m&&(li(ni.prototype,"description",{configurable:!0,get:function(){return ei(this).description}}),ut(ii,"propertyIsEnumerable",Ui,{unsafe:!0}))),Et({global:!0,wrap:!0,forced:!kt,sham:!kt},{Symbol:ni}),_e(xe(di),(function(t){ze(t)})),Et({target:"Symbol",stat:!0,forced:!kt},{for:function(t){var e=String(t);if(x(ai,e))return ai[e];var i=ni(e);return ai[e]=i,ui[i]=e,i},keyFor:function(t){if(!Fi(t))throw TypeError(t+" is not a symbol");if(x(ui,t))return ui[t]},useSetter:function(){Bi=!0},useSimple:function(){Bi=!1}}),Et({target:"Object",stat:!0,forced:!kt,sham:!m},{create:function(t,e){return void 0===e?He(t):Zi(He(t),e)},defineProperty:yi,defineProperties:Zi,getOwnPropertyDescriptor:Vi}),Et({target:"Object",stat:!0,forced:!kt},{getOwnPropertyNames:hi,getOwnPropertySymbols:Gi}),Et({target:"Object",stat:!0,forced:C((function(){At.f(1)}))},{getOwnPropertySymbols:function(t){return At.f(ge(t))}}),ci){var pi=!kt||C((function(){var t=ni();return"[null]"!=ci([t])||"{}"!=ci({a:t})||"{}"!=ci(Object(t))}));Et({target:"JSON",stat:!0,forced:pi},{stringify:function(t,e,i){for(var n,c=[t],r=1;arguments.length>r;)c.push(arguments[r++]);if(n=e,(Q(e)||void 0!==t)&&!Fi(t))return Ie(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!Fi(e))return e}),c[1]=e,ci.apply(null,c)}})}ni.prototype[$e]||E(ni.prototype,$e,ni.prototype.valueOf),De(ni,"Symbol"),nt[qe]=!0,ze("asyncIterator");var Xi=w.f,fi=B.Symbol;if(m&&"function"==typeof fi&&(!("description"in fi.prototype)||void 0!==fi().description)){var Qi={},Ri=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof Ri?new fi(t):void 0===t?fi():fi(t);return""===t&&(Qi[e]=!0),e};Wt(Ri,fi);var Ai=Ri.prototype=fi.prototype;Ai.constructor=Ri;var xi=Ai.toString,Wi="Symbol(test)"==String(fi("test")),Si=/^Symbol\((.*)\)[^)]+$/;Xi(Ai,"description",{configurable:!0,get:function(){var t=Q(this)?this.valueOf():this,e=xi.call(t);if(x(Qi,t))return"";var i=Wi?e.slice(7,-1):e.replace(Si,"$1");return""===i?void 0:i}}),Et({global:!0,forced:!0},{Symbol:Ri})}ze("hasInstance"),ze("isConcatSpreadable"),ze("iterator"),ze("match"),ze("matchAll"),ze("replace"),ze("search"),ze("species"),ze("split"),ze("toPrimitive"),ze("toStringTag"),ze("unscopables"),De(Math,"Math",!0),De(B.JSON,"JSON",!0),dt.Symbol;var Ji,vi,Li,Yi=function(t){return function(e,i){var n,c,r=String(X(e)),l=Ft(i),o=r.length;return l<0||l>=o?t?"":void 0:(n=r.charCodeAt(l))<55296||n>56319||l+1===o||(c=r.charCodeAt(l+1))<56320||c>57343?t?r.charAt(l):n:t?r.slice(l,l+2):c-56320+(n-55296<<10)+65536}},Hi={codeAt:Yi(!1),charAt:Yi(!0)},Ni=!C((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),wi=it("IE_PROTO"),Ei=Object.prototype,ki=Ni?Object.getPrototypeOf:function(t){return t=ge(t),x(t,wi)?t[wi]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?Ei:null},Ti=Pt("iterator"),Ki=!1;[].keys&&("next"in(Li=[].keys())?(vi=ki(ki(Li)))!==Object.prototype&&(Ji=vi):Ki=!0),null==Ji&&(Ji={}),x(Ji,Ti)||E(Ji,Ti,(function(){return this}));var zi={IteratorPrototype:Ji,BUGGY_SAFARI_ITERATORS:Ki},ji={},Pi=zi.IteratorPrototype,Di=function(){return this},Mi=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,i={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(i,[]),e=i instanceof Array}catch(t){}return function(i,n){return H(i),function(t){if(!Q(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(n),e?t.call(i,n):i.__proto__=n,i}}():void 0),Oi=zi.IteratorPrototype,_i=zi.BUGGY_SAFARI_ITERATORS,qi=Pt("iterator"),$i=function(){return this},tn=function(t,e,i,n,c,r,l){!function(t,e,i){var n=e+" Iterator";t.prototype=He(Pi,{next:U(1,i)}),De(t,n,!1),ji[n]=Di}(i,e,n);var o,s,I,g=function(t){if(t===c&&B)return B;if(!_i&&t in d)return d[t];switch(t){case"keys":case"values":case"entries":return function(){return new i(this,t)}}return function(){return new i(this)}},a=e+" Iterator",u=!1,d=t.prototype,b=d[qi]||d["@@iterator"]||c&&d[c],B=!_i&&b||g(c),C="Array"==e&&d.entries||b;if(C&&(o=ki(C.call(new t)),Oi!==Object.prototype&&o.next&&(ki(o)!==Oi&&(Mi?Mi(o,Oi):"function"!=typeof o[qi]&&E(o,qi,$i)),De(o,a,!0))),"values"==c&&b&&"values"!==b.name&&(u=!0,B=function(){return b.call(this)}),d[qi]!==B&&E(d,qi,B),ji[e]=B,c)if(s={values:g("values"),keys:r?B:g("keys"),entries:g("entries")},l)for(I in s)(_i||u||!(I in d))&&ut(d,I,s[I]);else Et({target:e,proto:!0,forced:_i||u},s);return s},en=Hi.charAt,nn=at.set,cn=at.getterFor("String Iterator");tn(String,"String",(function(t){nn(this,{type:"String Iterator",string:String(t),index:0})}),(function(){var t,e=cn(this),i=e.string,n=e.index;return n>=i.length?{value:void 0,done:!0}:(t=en(i,n),e.index+=t.length,{value:t,done:!1})}));var rn=function(t,e,i,n){try{return n?e(H(i)[0],i[1]):e(i)}catch(e){var c=t.return;throw void 0!==c&&H(c.call(t)),e}},ln=Pt("iterator"),on=Array.prototype,sn=function(t){return void 0!==t&&(ji.Array===t||on[ln]===t)},In=Pt("iterator"),gn=function(t){if(null!=t)return t[In]||t["@@iterator"]||ji[Qe(t)]},an=Pt("iterator"),un=!1;try{var dn=0,bn={next:function(){return{done:!!dn++}},return:function(){un=!0}};bn[an]=function(){return this},Array.from(bn,(function(){throw 2}))}catch(r){}var Bn=function(t,e){if(!e&&!un)return!1;var i=!1;try{var n={};n[an]=function(){return{next:function(){return{done:i=!0}}}},t(n)}catch(t){}return i},Cn=!Bn((function(t){Array.from(t)}));Et({target:"Array",stat:!0,forced:Cn},{from:function(t){var e,i,n,c,r,l,o=ge(t),s="function"==typeof this?this:Array,I=arguments.length,g=I>1?arguments[1]:void 0,a=void 0!==g,u=gn(o),d=0;if(a&&(g=le(g,I>2?arguments[2]:void 0,2)),null==u||s==Array&&sn(u))for(i=new s(e=Zt(o.length));e>d;d++)l=a?g(o[d],d):o[d],ae(i,d,l);else for(r=(c=u.call(o)).next,i=new s;!(n=r.call(c)).done;d++)l=a?rn(c,g,[n.value,d],!0):n.value,ae(i,d,l);return i.length=d,i}}),dt.Array.from;var mn,Fn="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,yn=w.f,Zn=B.Int8Array,Un=Zn&&Zn.prototype,Vn=B.Uint8ClampedArray,hn=Vn&&Vn.prototype,Gn=Zn&&ki(Zn),pn=Un&&ki(Un),Xn=Object.prototype,fn=Xn.isPrototypeOf,Qn=Pt("toStringTag"),Rn=tt("TYPED_ARRAY_TAG"),An=Fn&&!!Mi&&"Opera"!==Qe(B.opera),xn={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};for(mn in xn)B[mn]||(An=!1);if((!An||"function"!=typeof Gn||Gn===Function.prototype)&&(Gn=function(){throw TypeError("Incorrect invocation")},An))for(mn in xn)B[mn]&&Mi(B[mn],Gn);if((!An||!pn||pn===Xn)&&(pn=Gn.prototype,An))for(mn in xn)B[mn]&&Mi(B[mn].prototype,pn);if(An&&ki(hn)!==pn&&Mi(hn,pn),m&&!x(pn,Qn))for(mn in yn(pn,Qn,{get:function(){return Q(this)?this[Rn]:void 0}}),xn)B[mn]&&E(B[mn],Rn,mn);var Wn=Pt("species"),Sn=function(t){if(function(t){return Q(t)&&x(xn,Qe(t))}(t))return t;throw TypeError("Target is not a typed array")},Jn=function(t){if(Mi){if(fn.call(Gn,t))return t}else for(var e in xn)if(x(xn,mn)){var i=B[e];if(i&&(t===i||fn.call(i,t)))return t}throw TypeError("Target is not a typed array constructor")},vn=[].slice;!function(t,e,i){if(m){if(i)for(var n in xn){var c=B[n];c&&x(c.prototype,t)&&delete c.prototype[t]}pn[t]&&!i||ut(pn,t,i?e:An&&Un[t]||e)}}("slice",(function(t,e){for(var i=vn.call(Sn(this),t,e),n=function(t,e){var i,n=H(t).constructor;return void 0===n||null==(i=H(n)[Wn])?e:re(i)}(this,this.constructor),c=0,r=i.length,l=new(Jn(n))(r);r>c;)l[c]=i[c++];return l}),C((function(){new Int8Array(1).slice()})));var Ln=Pt("unscopables"),Yn=Array.prototype;null==Yn[Ln]&&w.f(Yn,Ln,{configurable:!0,value:He(null)});var Hn=function(t){Yn[Ln][t]=!0},Nn=Object.defineProperty,wn={},En=function(t){throw t},kn=Gt.includes,Tn=function(t,e){if(x(wn,t))return wn[t];e||(e={});var i=[][t],n=!!x(e,"ACCESSORS")&&e.ACCESSORS,c=x(e,0)?e[0]:En,r=x(e,1)?e[1]:void 0;return wn[t]=!!i&&!C((function(){if(n&&!m)return!0;var t={length:-1};n?Nn(t,1,{enumerable:!0,get:En}):t[1]=1,i.call(t,c,r)}))}("indexOf",{ACCESSORS:!0,1:0});Et({target:"Array",proto:!0,forced:!Tn},{includes:function(t){return kn(this,t,arguments.length>1?arguments[1]:void 0)}}),Hn("includes"),se("Array","includes"),Et({target:"String",proto:!0,forced:!_t("includes")},{includes:function(t){return!!~String(X(this)).indexOf(Mt(t),arguments.length>1?arguments[1]:void 0)}}),se("String","includes");var Kn=!C((function(){return Object.isExtensible(Object.preventExtensions({}))})),zn=d((function(t){var e=w.f,i=tt("meta"),n=0,c=Object.isExtensible||function(){return!0},r=function(t){e(t,i,{value:{objectID:"O"+ ++n,weakData:{}}})},l=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!Q(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!x(t,i)){if(!c(t))return"F";if(!e)return"E";r(t)}return t[i].objectID},getWeakData:function(t,e){if(!x(t,i)){if(!c(t))return!0;if(!e)return!1;r(t)}return t[i].weakData},onFreeze:function(t){return Kn&&l.REQUIRED&&c(t)&&!x(t,i)&&r(t),t}};nt[i]=!0})),jn=(zn.REQUIRED,zn.fastKey,zn.getWeakData,zn.onFreeze,d((function(t){var e=function(t,e){this.stopped=t,this.result=e};(t.exports=function(t,i,n,c,r){var l,o,s,I,g,a,u,d=le(i,n,c?2:1);if(r)l=t;else{if("function"!=typeof(o=gn(t)))throw TypeError("Target is not iterable");if(sn(o)){for(s=0,I=Zt(t.length);I>s;s++)if((g=c?d(H(u=t[s])[0],u[1]):d(t[s]))&&g instanceof e)return g;return new e(!1)}l=o.call(t)}for(a=l.next;!(u=a.call(l)).done;)if("object"==typeof(g=rn(l,d,u.value,c))&&g&&g instanceof e)return g;return new e(!1)}).stop=function(t){return new e(!0,t)}}))),Pn=function(t,e,i){if(!(t instanceof e))throw TypeError("Incorrect "+(i?i+" ":"")+"invocation");return t},Dn=function(t,e,i){for(var n in e)ut(t,n,e[n],i);return t},Mn=Pt("species"),On=w.f,_n=zn.fastKey,qn=at.set,$n=at.getterFor,tc=(function(t,e,i){var n=-1!==t.indexOf("Map"),c=-1!==t.indexOf("Weak"),r=n?"set":"add",l=B.Set,o=l&&l.prototype,s=l,I={},g=function(t){var e=o[t];ut(o,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(c&&!Q(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return c&&!Q(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(c&&!Q(t))&&e.call(this,0===t?0:t)}:function(t,i){return e.call(this,0===t?0:t,i),this})};if(Nt(t,"function"!=typeof l||!(c||o.forEach&&!C((function(){(new l).entries().next()})))))s=i.getConstructor(e,t,n,r),zn.REQUIRED=!0;else if(Nt(t,!0)){var a=new s,u=a[r](c?{}:-0,1)!=a,d=C((function(){a.has(1)})),b=Bn((function(t){new l(t)})),m=!c&&C((function(){for(var t=new l,e=5;e--;)t[r](e,e);return!t.has(-0)}));b||((s=e((function(e,i){Pn(e,s,t);var c=function(t,e,i){var n,c;return Mi&&"function"==typeof(n=e.constructor)&&n!==i&&Q(c=n.prototype)&&c!==i.prototype&&Mi(t,c),t}(new l,e,s);return null!=i&&jn(i,c[r],c,n),c}))).prototype=o,o.constructor=s),(d||m)&&(g("delete"),g("has"),n&&g("get")),(m||u)&&g(r),c&&o.clear&&delete o.clear}I.Set=s,Et({global:!0,forced:s!=l},I),De(s,t),c||i.setStrong(s,t,n)}("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),{getConstructor:function(t,e,i,n){var c=t((function(t,r){Pn(t,c,e),qn(t,{type:e,index:He(null),first:void 0,last:void 0,size:0}),m||(t.size=0),null!=r&&jn(r,t[n],t,i)})),r=$n(e),l=function(t,e,i){var n,c,l=r(t),s=o(t,e);return s?s.value=i:(l.last=s={index:c=_n(e,!0),key:e,value:i,previous:n=l.last,next:void 0,removed:!1},l.first||(l.first=s),n&&(n.next=s),m?l.size++:t.size++,"F"!==c&&(l.index[c]=s)),t},o=function(t,e){var i,n=r(t),c=_n(e);if("F"!==c)return n.index[c];for(i=n.first;i;i=i.next)if(i.key==e)return i};return Dn(c.prototype,{clear:function(){for(var t=r(this),e=t.index,i=t.first;i;)i.removed=!0,i.previous&&(i.previous=i.previous.next=void 0),delete e[i.index],i=i.next;t.first=t.last=void 0,m?t.size=0:this.size=0},delete:function(t){var e=this,i=r(e),n=o(e,t);if(n){var c=n.next,l=n.previous;delete i.index[n.index],n.removed=!0,l&&(l.next=c),c&&(c.previous=l),i.first==n&&(i.first=c),i.last==n&&(i.last=l),m?i.size--:e.size--}return!!n},forEach:function(t){for(var e,i=r(this),n=le(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.next:i.first;)for(n(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!o(this,t)}}),Dn(c.prototype,i?{get:function(t){var e=o(this,t);return e&&e.value},set:function(t,e){return l(this,0===t?0:t,e)}}:{add:function(t){return l(this,t=0===t?0:t,t)}}),m&&On(c.prototype,"size",{get:function(){return r(this).size}}),c},setStrong:function(t,e,i){var n=e+" Iterator",c=$n(e),r=$n(n);tn(t,e,(function(t,e){qn(this,{type:n,target:t,state:c(t),kind:e,last:void 0})}),(function(){for(var t=r(this),e=t.kind,i=t.last;i&&i.removed;)i=i.previous;return t.target&&(t.last=i=i?i.next:t.state.first)?"keys"==e?{value:i.key,done:!1}:"values"==e?{value:i.value,done:!1}:{value:[i.key,i.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),i?"entries":"values",!i,!0),function(t){var e=Bt(t),i=w.f;m&&e&&!e[Mn]&&i(e,Mn,{configurable:!0,get:function(){return this}})}(e)}}),{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),ec=at.set,ic=at.getterFor("Array Iterator"),nc=tn(Array,"Array",(function(t,e){ec(this,{type:"Array Iterator",target:f(t),index:0,kind:e})}),(function(){var t=ic(this),e=t.target,i=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==i?{value:n,done:!1}:"values"==i?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values");ji.Arguments=ji.Array,Hn("keys"),Hn("values"),Hn("entries");var cc=Pt("iterator"),rc=Pt("toStringTag"),lc=nc.values;for(var oc in tc){var sc=B[oc],Ic=sc&&sc.prototype;if(Ic){if(Ic[cc]!==lc)try{E(Ic,cc,lc)}catch(r){Ic[cc]=lc}if(Ic[rc]||E(Ic,rc,oc),tc[oc])for(var gc in nc)if(Ic[gc]!==nc[gc])try{E(Ic,gc,nc[gc])}catch(r){Ic[gc]=nc[gc]}}}function ac(t){var e=this.constructor;return this.then((function(i){return e.resolve(t()).then((function(){return i}))}),(function(i){return e.resolve(t()).then((function(){return e.reject(i)}))}))}dt.Set;var uc=setTimeout;function dc(t){return Boolean(t&&void 0!==t.length)}function bc(){}function Bc(t){if(!(this instanceof Bc))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Uc(t,this)}function Cc(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,Bc._immediateFn((function(){var i=1===t._state?e.onFulfilled:e.onRejected;if(null!==i){var n;try{n=i(t._value)}catch(t){return void Fc(e.promise,t)}mc(e.promise,n)}else(1===t._state?mc:Fc)(e.promise,t._value)}))):t._deferreds.push(e)}function mc(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var i=e.then;if(e instanceof Bc)return t._state=3,t._value=e,void yc(t);if("function"==typeof i)return void Uc((n=i,c=e,function(){n.apply(c,arguments)}),t)}t._state=1,t._value=e,yc(t)}catch(e){Fc(t,e)}var n,c}function Fc(t,e){t._state=2,t._value=e,yc(t)}function yc(t){2===t._state&&0===t._deferreds.length&&Bc._immediateFn((function(){t._handled||Bc._unhandledRejectionFn(t._value)}));for(var e=0,i=t._deferreds.length;e<i;e++)Cc(t,t._deferreds[e]);t._deferreds=null}function Zc(t,e,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=i}function Uc(t,e){var i=!1;try{t((function(t){i||(i=!0,mc(e,t))}),(function(t){i||(i=!0,Fc(e,t))}))}catch(t){if(i)return;i=!0,Fc(e,t)}}Bc.prototype.catch=function(t){return this.then(null,t)},Bc.prototype.then=function(t,e){var i=new this.constructor(bc);return Cc(this,new Zc(t,e,i)),i},Bc.prototype.finally=ac,Bc.all=function(t){return new Bc((function(e,i){if(!dc(t))return i(new TypeError("Promise.all accepts an array"));var n=Array.prototype.slice.call(t);if(0===n.length)return e([]);var c=n.length;function r(t,l){try{if(l&&("object"==typeof l||"function"==typeof l)){var o=l.then;if("function"==typeof o)return void o.call(l,(function(e){r(t,e)}),i)}n[t]=l,0==--c&&e(n)}catch(t){i(t)}}for(var l=0;l<n.length;l++)r(l,n[l])}))},Bc.resolve=function(t){return t&&"object"==typeof t&&t.constructor===Bc?t:new Bc((function(e){e(t)}))},Bc.reject=function(t){return new Bc((function(e,i){i(t)}))},Bc.race=function(t){return new Bc((function(e,i){if(!dc(t))return i(new TypeError("Promise.race accepts an array"));for(var n=0,c=t.length;n<c;n++)Bc.resolve(t[n]).then(e,i)}))},Bc._immediateFn="function"==typeof n&&function(t){n(t)}||function(t){uc(t,0)},Bc._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var Vc=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==t)return t;throw new Error("unable to locate global object")}();"Promise"in Vc?Vc.Promise.prototype.finally||(Vc.Promise.prototype.finally=ac):Vc.Promise=Bc,function(t){function e(){}function i(t,e){if(t=void 0===t?"utf-8":t,e=void 0===e?{fatal:!1}:e,-1===r.indexOf(t.toLowerCase()))throw new RangeError("Failed to construct 'TextDecoder': The encoding label provided ('"+t+"') is invalid.");if(e.fatal)throw Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}function n(t){for(var e=0,i=Math.min(65536,t.length+1),n=new Uint16Array(i),c=[],r=0;;){var l=e<t.length;if(!l||r>=i-1){if(c.push(String.fromCharCode.apply(null,n.subarray(0,r))),!l)return c.join("");t=t.subarray(e),r=e=0}if(0==(128&(l=t[e++])))n[r++]=l;else if(192==(224&l)){var o=63&t[e++];n[r++]=(31&l)<<6|o}else if(224==(240&l)){o=63&t[e++];var s=63&t[e++];n[r++]=(31&l)<<12|o<<6|s}else 240==(248&l)&&(65535<(l=(7&l)<<18|(o=63&t[e++])<<12|(s=63&t[e++])<<6|63&t[e++])&&(l-=65536,n[r++]=l>>>10&1023|55296,l=56320|1023&l),n[r++]=l)}}if(t.TextEncoder&&t.TextDecoder)return!1;var r=["utf-8","utf8","unicode-1-1-utf-8"];Object.defineProperty(e.prototype,"encoding",{value:"utf-8"}),e.prototype.encode=function(t,e){if((e=void 0===e?{stream:!1}:e).stream)throw Error("Failed to encode: the 'stream' option is unsupported.");e=0;for(var i=t.length,n=0,c=Math.max(32,i+(i>>>1)+7),r=new Uint8Array(c>>>3<<3);e<i;){var l=t.charCodeAt(e++);if(55296<=l&&56319>=l){if(e<i){var o=t.charCodeAt(e);56320==(64512&o)&&(++e,l=((1023&l)<<10)+(1023&o)+65536)}if(55296<=l&&56319>=l)continue}if(n+4>r.length&&(c+=8,c=(c*=1+e/t.length*2)>>>3<<3,(o=new Uint8Array(c)).set(r),r=o),0==(4294967168&l))r[n++]=l;else{if(0==(4294965248&l))r[n++]=l>>>6&31|192;else if(0==(4294901760&l))r[n++]=l>>>12&15|224,r[n++]=l>>>6&63|128;else{if(0!=(4292870144&l))continue;r[n++]=l>>>18&7|240,r[n++]=l>>>12&63|128,r[n++]=l>>>6&63|128}r[n++]=63&l|128}}return r.slice?r.slice(0,n):r.subarray(0,n)},Object.defineProperty(i.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(i.prototype,"fatal",{value:!1}),Object.defineProperty(i.prototype,"ignoreBOM",{value:!1});var l=n;"function"==typeof c&&c.from?l=function(t){return c.from(t.buffer,t.byteOffset,t.byteLength).toString("utf-8")}:"function"==typeof Blob&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&(l=function(t){var e=URL.createObjectURL(new Blob([t],{type:"text/plain;charset=UTF-8"}));try{var i=new XMLHttpRequest;return i.open("GET",e,!1),i.send(),i.responseText}catch(e){return n(t)}finally{URL.revokeObjectURL(e)}}),i.prototype.decode=function(t,e){if((e=void 0===e?{stream:!1}:e).stream)throw Error("Failed to decode: the 'stream' option is unsupported.");return t=t instanceof Uint8Array?t:t.buffer instanceof ArrayBuffer?new Uint8Array(t.buffer):new Uint8Array(t),l(t)},t.TextEncoder=e,t.TextDecoder=i}("undefined"!=typeof window?window:a),function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&function(t,e){(Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}(t,e)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?r(t):e}function o(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=c(t);if(e){var r=c(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return l(this,i)}}function s(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}function I(t,e,i){return(I="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=s(t,e);if(n){var c=Object.getOwnPropertyDescriptor(n,e);return c.get?c.get.call(i):c.value}})(t,e,i||t)}var g=function(){function e(){t(this,e),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return i(e,[{key:"addEventListener",value:function(t,e){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(e)}},{key:"removeEventListener",value:function(t,e){if(t in this.listeners)for(var i=this.listeners[t],n=0,c=i.length;n<c;n++)if(i[n]===e)return void i.splice(n,1)}},{key:"dispatchEvent",value:function(t){var e=this;if(t.type in this.listeners){for(var i=function(i){setTimeout((function(){return i.call(e,t)}))},n=this.listeners[t.type],c=0,r=n.length;c<r;c++)i(n[c]);return!t.defaultPrevented}}}]),e}(),u=function(e){n(s,e);var l=o(s);function s(){var e;return t(this,s),(e=l.call(this)).listeners||g.call(r(e)),Object.defineProperty(r(e),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(r(e),"onabort",{value:null,writable:!0,configurable:!0}),e}return i(s,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),I(c(s.prototype),"dispatchEvent",this).call(this,t)}}]),s}(g),d=function(){function e(){t(this,e),Object.defineProperty(this,"signal",{value:new u,writable:!0,configurable:!0})}return i(e,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(e){"undefined"!=typeof document?document.createEvent?(t=document.createEvent("Event")).initEvent("abort",!1,!1):(t=document.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),e}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(d.prototype[Symbol.toStringTag]="AbortController",u.prototype[Symbol.toStringTag]="AbortSignal"),function(t){(function(t){return t.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):"function"==typeof t.Request&&!t.Request.prototype.hasOwnProperty("signal")||!t.AbortController})(t)&&(t.AbortController=d,t.AbortSignal=u)}("undefined"!=typeof self?self:a)}();var hc=d((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){var t=this;this.locked=new Map,this.addToLocked=function(e,i){var n=t.locked.get(e);void 0===n?void 0===i?t.locked.set(e,[]):t.locked.set(e,[i]):void 0!==i&&(n.unshift(i),t.locked.set(e,n))},this.isLocked=function(e){return t.locked.has(e)},this.lock=function(e){return new Promise((function(i,n){t.isLocked(e)?t.addToLocked(e,i):(t.addToLocked(e),i())}))},this.unlock=function(e){var i=t.locked.get(e);if(void 0!==i&&0!==i.length){var n=i.pop();t.locked.set(e,i),void 0!==n&&setTimeout(n,0)}else t.locked.delete(e)}}return t.getInstance=function(){return void 0===t.instance&&(t.instance=new t),t.instance},t}();e.default=function(){return i.getInstance()}}));u(hc);var Gc=u(d((function(t,e){var i=a&&a.__awaiter||function(t,e,i,n){return new(i||(i=Promise))((function(c,r){function l(t){try{s(n.next(t))}catch(t){r(t)}}function o(t){try{s(n.throw(t))}catch(t){r(t)}}function s(t){t.done?c(t.value):new i((function(e){e(t.value)})).then(l,o)}s((n=n.apply(t,e||[])).next())}))},n=a&&a.__generator||function(t,e){var i,n,c,r,l={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,n&&(c=2&r[0]?n.return:r[0]?n.throw||((c=n.return)&&c.call(n),0):n.next)&&!(c=c.call(n,r[1])).done)return c;switch(n=0,c&&(r=[2&r[0],c.value]),r[0]){case 0:case 1:c=r;break;case 4:return l.label++,{value:r[1],done:!1};case 5:l.label++,n=r[1],r=[0];continue;case 7:r=l.ops.pop(),l.trys.pop();continue;default:if(!((c=(c=l.trys).length>0&&c[c.length-1])||6!==r[0]&&2!==r[0])){l=0;continue}if(3===r[0]&&(!c||r[1]>c[0]&&r[1]<c[3])){l.label=r[1];break}if(6===r[0]&&l.label<c[1]){l.label=c[1],c=r;break}if(c&&l.label<c[2]){l.label=c[2],l.ops.push(r);break}c[2]&&l.ops.pop(),l.trys.pop();continue}r=e.call(t,l)}catch(t){r=[6,t],n=0}finally{i=c=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}};Object.defineProperty(e,"__esModule",{value:!0});var c="browser-tabs-lock-key";function r(t){return new Promise((function(e){return setTimeout(e,t)}))}function l(t){for(var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",i="",n=0;n<t;n++)i+=e[Math.floor(Math.random()*e.length)];return i}var o=function(){function t(){this.acquiredIatSet=new Set,this.id=Date.now().toString()+l(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),void 0===t.waiters&&(t.waiters=[])}return t.prototype.acquireLock=function(e,o){return void 0===o&&(o=5e3),i(this,void 0,void 0,(function(){var i,s,I,g,a,u;return n(this,(function(n){switch(n.label){case 0:i=Date.now()+l(4),s=Date.now()+o,I=c+"-"+e,g=window.localStorage,n.label=1;case 1:return Date.now()<s?[4,r(30)]:[3,8];case 2:return n.sent(),null!==g.getItem(I)?[3,5]:(a=this.id+"-"+e+"-"+i,[4,r(Math.floor(25*Math.random()))]);case 3:return n.sent(),g.setItem(I,JSON.stringify({id:this.id,iat:i,timeoutKey:a,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,r(30)];case 4:return n.sent(),null!==(u=g.getItem(I))&&(u=JSON.parse(u)).id===this.id&&u.iat===i?(this.acquiredIatSet.add(i),this.refreshLockWhileAcquired(I,i),[2,!0]):[3,7];case 5:return t.lockCorrector(),[4,this.waitForSomethingToChange(s)];case 6:n.sent(),n.label=7;case 7:return i=Date.now()+l(4),[3,1];case 8:return[2,!1]}}))}))},t.prototype.refreshLockWhileAcquired=function(t,e){return i(this,void 0,void 0,(function(){var c=this;return n(this,(function(r){return setTimeout((function(){return i(c,void 0,void 0,(function(){var i,c;return n(this,(function(n){switch(n.label){case 0:return[4,hc.default().lock(e)];case 1:return n.sent(),this.acquiredIatSet.has(e)?(i=window.localStorage,null===(c=i.getItem(t))?(hc.default().unlock(e),[2]):((c=JSON.parse(c)).timeRefreshed=Date.now(),i.setItem(t,JSON.stringify(c)),hc.default().unlock(e),this.refreshLockWhileAcquired(t,e),[2])):(hc.default().unlock(e),[2])}}))}))}),1e3),[2]}))}))},t.prototype.waitForSomethingToChange=function(e){return i(this,void 0,void 0,(function(){return n(this,(function(i){switch(i.label){case 0:return[4,new Promise((function(i){var n=!1,c=Date.now(),r=!1;function l(){if(r||(window.removeEventListener("storage",l),t.removeFromWaiting(l),clearTimeout(o),r=!0),!n){n=!0;var e=50-(Date.now()-c);e>0?setTimeout(i,e):i()}}window.addEventListener("storage",l),t.addToWaiting(l);var o=setTimeout(l,Math.max(0,e-Date.now()))}))];case 1:return i.sent(),[2]}}))}))},t.addToWaiting=function(e){this.removeFromWaiting(e),void 0!==t.waiters&&t.waiters.push(e)},t.removeFromWaiting=function(e){void 0!==t.waiters&&(t.waiters=t.waiters.filter((function(t){return t!==e})))},t.notifyWaiters=function(){void 0!==t.waiters&&t.waiters.slice().forEach((function(t){return t()}))},t.prototype.releaseLock=function(t){return i(this,void 0,void 0,(function(){return n(this,(function(e){switch(e.label){case 0:return[4,this.releaseLock__private__(t)];case 1:return[2,e.sent()]}}))}))},t.prototype.releaseLock__private__=function(e){return i(this,void 0,void 0,(function(){var i,r,l;return n(this,(function(n){switch(n.label){case 0:return i=window.localStorage,r=c+"-"+e,null===(l=i.getItem(r))?[2]:(l=JSON.parse(l)).id!==this.id?[3,2]:[4,hc.default().lock(l.iat)];case 1:n.sent(),this.acquiredIatSet.delete(l.iat),i.removeItem(r),hc.default().unlock(l.iat),t.notifyWaiters(),n.label=2;case 2:return[2]}}))}))},t.lockCorrector=function(){for(var e=Date.now()-5e3,i=window.localStorage,n=Object.keys(i),r=!1,l=0;l<n.length;l++){var o=n[l];if(o.includes(c)){var s=i.getItem(o);null!==s&&(void 0===(s=JSON.parse(s)).timeRefreshed&&s.timeAcquired<e||void 0!==s.timeRefreshed&&s.timeRefreshed<e)&&(i.removeItem(o),r=!0)}}r&&t.notifyWaiters()},t.waiters=void 0,t}();e.default=o}))),pc={timeoutInSeconds:60},Xc=["login_required","consent_required","interaction_required","account_selection_required","access_denied"],fc=function(t){function e(i,n){var c=t.call(this,n)||this;return c.error=i,c.error_description=n,Object.setPrototypeOf(c,e.prototype),c}return l(e,t),e.fromPayload=function(t){return new e(t.error,t.error_description)},e}(Error),Qc=function(t){function e(i,n,c,r){void 0===r&&(r=null);var l=t.call(this,i,n)||this;return l.state=c,l.appState=r,Object.setPrototypeOf(l,e.prototype),l}return l(e,t),e}(fc),Rc=function(t){function e(){var i=t.call(this,"timeout","Timeout")||this;return Object.setPrototypeOf(i,e.prototype),i}return l(e,t),e}(fc),Ac=function(t){function e(i){var n=t.call(this)||this;return n.popup=i,Object.setPrototypeOf(n,e.prototype),n}return l(e,t),e}(Rc),xc=function(t,e,i){return void 0===i&&(i=60),new Promise((function(n,c){var r=window.document.createElement("iframe");r.setAttribute("width","0"),r.setAttribute("height","0"),r.style.display="none";var l=function(){window.document.body.contains(r)&&window.document.body.removeChild(r)},o=setTimeout((function(){c(new Rc),l()}),1e3*i),s=function(t){if(t.origin==e&&t.data&&"authorization_response"===t.data.type){var i=t.source;i&&i.close(),t.data.response.error?c(fc.fromPayload(t.data.response)):n(t.data.response),clearTimeout(o),window.removeEventListener("message",s,!1),setTimeout(l,2e3)}};window.addEventListener("message",s,!1),window.document.body.appendChild(r),r.setAttribute("src",t)}))},Wc=function(t,e){var i,n,c,r=e.popup;if(r?r.location.href=t:(i=t,n=window.screenX+(window.innerWidth-400)/2,c=window.screenY+(window.innerHeight-600)/2,r=window.open(i,"auth0:authorize:popup","left="+n+",top="+c+",width=400,height=600,resizable,scrollbars=yes,status=1")),!r)throw new Error("Could not open popup");return new Promise((function(t,i){var n=setTimeout((function(){i(new Ac(r))}),1e3*(e.timeoutInSeconds||60));window.addEventListener("message",(function(e){if(e.data&&"authorization_response"===e.data.type){if(clearTimeout(n),r.close(),e.data.response.error)return i(fc.fromPayload(e.data.response));t(e.data.response)}}))}))},Sc=function(){return window.crypto||window.msCrypto},Jc=function(){var t=Sc();return t.subtle||t.webkitSubtle},vc=function(){var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.",e="";return Array.from(Sc().getRandomValues(new Uint8Array(43))).forEach((function(i){return e+=t[i%t.length]})),e},Lc=function(t){return btoa(t)},Yc=function(t){return Object.keys(t).filter((function(e){return void 0!==t[e]})).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&")},Hc=function(t){return I(void 0,void 0,void 0,(function(){var e;return g(this,(function(i){switch(i.label){case 0:return e=Jc().digest({name:"SHA-256"},(new TextEncoder).encode(t)),window.msCrypto?[2,new Promise((function(t,i){e.oncomplete=function(e){t(e.target.result)},e.onerror=function(t){i(t.error)},e.onabort=function(){i("The digest operation was aborted")}}))]:[4,e];case 1:return[2,i.sent()]}}))}))},Nc=function(t){return function(t){return decodeURIComponent(atob(t).split("").map((function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""))}(t.replace(/_/g,"/").replace(/-/g,"+"))},wc=function(t){var e=new Uint8Array(t);return function(t){var e={"+":"-","/":"_","=":""};return t.replace(/[+/=]/g,(function(t){return e[t]}))}(window.btoa(String.fromCharCode.apply(String,Array.from(e))))},Ec=function(t,e,i,n,c,r){return I(void 0,void 0,void 0,(function(){var l,s;return g(this,(function(I){switch(I.label){case 0:return r?(delete n.signal,[2,(u=o({url:t,audience:e,scope:i,timeout:c},n),d=r,new Promise((function(t,e){var i=new MessageChannel;i.port1.onmessage=function(i){i.data.error?e(new Error(i.data.error)):t(i.data)},d.postMessage(u,[i.port2])})))]):[3,1];case 1:return[4,(g=t,a=n,a=a||{},new Promise((function(t,e){var i=new XMLHttpRequest,n=[],c=[],r={},l=function(){return{ok:2==(i.status/100|0),statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(JSON.parse(i.responseText))},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:l,headers:{keys:function(){return n},entries:function(){return c},get:function(t){return r[t.toLowerCase()]},has:function(t){return t.toLowerCase()in r}}}};for(var o in i.open(a.method||"get",g,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(t,e,i){n.push(e=e.toLowerCase()),c.push([e,i]),r[e]=r[e]?r[e]+","+i:i})),t(l())},i.onerror=e,i.withCredentials="include"==a.credentials,a.headers)i.setRequestHeader(o,a.headers[o]);i.send(a.body||null)})))];case 2:return l=I.sent(),s={ok:l.ok},[4,l.json()];case 3:return[2,(s.json=I.sent(),s)]}var g,a,u,d}))}))},kc=function(t,e,i,n,c,r){void 0===r&&(r=1e4);var l,s=new AbortController,I=s.signal,g=o(o({},n),{signal:I});return Promise.race([Ec(t,e,i,g,r,c),new Promise((function(t,e){l=setTimeout((function(){s.abort(),e(new Error("Timeout when executing 'fetch'"))}),r)}))]).finally((function(){clearTimeout(l)}))},Tc=function(t,e,i,n,c,r){return I(void 0,void 0,void 0,(function(){var l,o,I,a,u,d,b,B,C,m;return g(this,(function(g){switch(g.label){case 0:l=null,I=0,g.label=1;case 1:if(!(I<3))return[3,6];g.label=2;case 2:return g.trys.push([2,4,,5]),[4,kc(t,i,n,c,r,e)];case 3:return o=g.sent(),l=null,[3,6];case 4:return a=g.sent(),l=a,[3,5];case 5:return I++,[3,1];case 6:if(l)throw l.message=l.message||"Failed to fetch",l;if(u=o.json,d=u.error,b=u.error_description,B=s(u,["error","error_description"]),!o.ok)throw C=b||"HTTP error. Unable to fetch "+t,(m=new Error(C)).error=d||"request_error",m.error_description=C,m;return[2,B]}}))}))},Kc=function(t,e){return I(void 0,void 0,void 0,(function(){var i=t.baseUrl,n=t.timeout,c=t.audience,r=t.scope,l=s(t,["baseUrl","timeout","audience","scope"]);return g(this,(function(t){switch(t.label){case 0:return[4,Tc(i+"/oauth/token",n,c||"default",r,{method:"POST",body:JSON.stringify(o({redirect_uri:window.location.origin},l)),headers:{"Content-type":"application/json"}},e)];case 1:return[2,t.sent()]}}))}))},zc=function(t){return Array.from(new Set(t))},jc=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return zc(t.join(" ").trim().split(/\s+/)).join(" ")},Pc=function(t){return"@@auth0spajs@@::"+t.client_id+"::"+t.audience+"::"+t.scope},Dc=function(t){var e=Math.floor(Date.now()/1e3)+t.expires_in;return{body:t,expiresAt:Math.min(e,t.decodedToken.claims.exp)}},Mc=function(){function t(){}return t.prototype.save=function(t){var e=Pc(t),i=Dc(t);window.localStorage.setItem(e,JSON.stringify(i))},t.prototype.get=function(t,e){void 0===e&&(e=0);var i=Pc(t),n=this.readJson(i),c=Math.floor(Date.now()/1e3);if(n){if(!(n.expiresAt-e<c))return n.body;if(n.body.refresh_token){var r=this.stripData(n);return this.writeJson(i,r),r.body}localStorage.removeItem(i)}},t.prototype.clear=function(){for(var t=localStorage.length-1;t>=0;t--)localStorage.key(t).startsWith("@@auth0spajs@@")&&localStorage.removeItem(localStorage.key(t))},t.prototype.readJson=function(t){var e,i=window.localStorage.getItem(t);if(i&&(e=JSON.parse(i)))return e},t.prototype.writeJson=function(t,e){localStorage.setItem(t,JSON.stringify(e))},t.prototype.stripData=function(t){return{body:{refresh_token:t.body.refresh_token},expiresAt:t.expiresAt}},t}(),Oc=function(){this.enclosedCache=function(){var t={body:{},expiresAt:0};return{save:function(e){var i=Pc(e),n=Dc(e);t[i]=n},get:function(e,i){void 0===i&&(i=0);var n=Pc(e),c=t[n],r=Math.floor(Date.now()/1e3);if(c)return c.expiresAt-i<r?c.body.refresh_token?(c.body={refresh_token:c.body.refresh_token},c.body):void delete t[n]:c.body},clear:function(){t={body:{},expiresAt:0}}}}()},_c=function(){function t(t){this.storage=t,this.transaction=this.storage.get("a0.spajs.txs")}return t.prototype.create=function(t){this.transaction=t,this.storage.save("a0.spajs.txs",t,{daysUntilExpire:1})},t.prototype.get=function(){return this.transaction},t.prototype.remove=function(){delete this.transaction,this.storage.remove("a0.spajs.txs")},t}(),qc=function(t){return"number"==typeof t},$c=["iss","aud","exp","nbf","iat","jti","azp","nonce","auth_time","at_hash","c_hash","acr","amr","sub_jwk","cnf","sip_from_tag","sip_date","sip_callid","sip_cseq_num","sip_via_branch","orig","dest","mky","events","toe","txn","rph","sid","vot","vtm"],tr=d((function(t,e){var i=a&&a.__assign||function(){return(i=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var c in e=arguments[i])Object.prototype.hasOwnProperty.call(e,c)&&(t[c]=e[c]);return t}).apply(this,arguments)};function n(t,e){if(!e)return"";var i="; "+t;return!0===e?i:i+"="+e}function c(t,e,i){return encodeURIComponent(t).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(e).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+function(t){if("number"==typeof t.expires){var e=new Date;e.setMilliseconds(e.getMilliseconds()+864e5*t.expires),t.expires=e}return n("Expires",t.expires?t.expires.toUTCString():"")+n("Domain",t.domain)+n("Path",t.path)+n("Secure",t.secure)+n("SameSite",t.sameSite)}(i)}function r(t){for(var e={},i=t?t.split("; "):[],n=/(%[\dA-F]{2})+/gi,c=0;c<i.length;c++){var r=i[c].split("="),l=r.slice(1).join("=");'"'===l.charAt(0)&&(l=l.slice(1,-1));try{e[r[0].replace(n,decodeURIComponent)]=l.replace(n,decodeURIComponent)}catch(t){}}return e}function l(){return r(document.cookie)}function o(t,e,n){document.cookie=c(t,e,i({path:"/"},n))}e.__esModule=!0,e.encode=c,e.parse=r,e.getAll=l,e.get=function(t){return l()[t]},e.set=o,e.remove=function(t,e){o(t,"",i(i({},e),{expires:-1}))}}));u(tr),tr.encode,tr.parse,tr.getAll;var er=tr.get,ir=tr.set,nr=tr.remove,cr={get:function(t){var e=er(t);if(void 0!==e)return JSON.parse(e)},save:function(t,e,i){var n={};"https:"===window.location.protocol&&(n={secure:!0,sameSite:"none"}),n.expires=i.daysUntilExpire,ir(t,JSON.stringify(e),n)},remove:function(t){nr(t)}},rr={get:function(t){return cr.get(t)||cr.get("_legacy_"+t)},save:function(t,e,i){var n={};"https:"===window.location.protocol&&(n={secure:!0}),n.expires=i.daysUntilExpire,ir("_legacy_"+t,JSON.stringify(e),n),cr.save(t,e,i)},remove:function(t){cr.remove(t),cr.remove("_legacy_"+t)}},lr={get:function(t){if("undefined"!=typeof sessionStorage){var e=sessionStorage.getItem(t);if(void 0!==e)return JSON.parse(e)}},save:function(t,e){sessionStorage.setItem(t,JSON.stringify(e))},remove:function(t){sessionStorage.removeItem(t)}};var or,sr=("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwovKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuCkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOyB5b3UgbWF5IG5vdCB1c2UKdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUKTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKClRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRApXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLApNRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULgoKU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zCmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi8KdmFyIGU9ZnVuY3Rpb24oKXtyZXR1cm4oZT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQsbj0xLHI9YXJndW1lbnRzLmxlbmd0aDtuPHI7bisrKWZvcih2YXIgbyBpbiB0PWFyZ3VtZW50c1tuXSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxvKSYmKGVbb109dFtvXSk7cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2Z1bmN0aW9uIHQoZSx0KXt2YXIgbixyLG8saSxhPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJm9bMF0pdGhyb3cgb1sxXTtyZXR1cm4gb1sxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBpPXtuZXh0OmwoMCksdGhyb3c6bCgxKSxyZXR1cm46bCgyKX0sImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmKGlbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSksaTtmdW5jdGlvbiBsKGkpe3JldHVybiBmdW5jdGlvbihsKXtyZXR1cm4gZnVuY3Rpb24oaSl7aWYobil0aHJvdyBuZXcgVHlwZUVycm9yKCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuIik7Zm9yKDthOyl0cnl7aWYobj0xLHImJihvPTImaVswXT9yLnJldHVybjppWzBdP3IudGhyb3d8fCgobz1yLnJldHVybikmJm8uY2FsbChyKSwwKTpyLm5leHQpJiYhKG89by5jYWxsKHIsaVsxXSkpLmRvbmUpcmV0dXJuIG87c3dpdGNoKHI9MCxvJiYoaT1bMiZpWzBdLG8udmFsdWVdKSxpWzBdKXtjYXNlIDA6Y2FzZSAxOm89aTticmVhaztjYXNlIDQ6cmV0dXJuIGEubGFiZWwrKyx7dmFsdWU6aVsxXSxkb25lOiExfTtjYXNlIDU6YS5sYWJlbCsrLHI9aVsxXSxpPVswXTtjb250aW51ZTtjYXNlIDc6aT1hLm9wcy5wb3AoKSxhLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKG89YS50cnlzLChvPW8ubGVuZ3RoPjAmJm9bby5sZW5ndGgtMV0pfHw2IT09aVswXSYmMiE9PWlbMF0pKXthPTA7Y29udGludWV9aWYoMz09PWlbMF0mJighb3x8aVsxXT5vWzBdJiZpWzFdPG9bM10pKXthLmxhYmVsPWlbMV07YnJlYWt9aWYoNj09PWlbMF0mJmEubGFiZWw8b1sxXSl7YS5sYWJlbD1vWzFdLG89aTticmVha31pZihvJiZhLmxhYmVsPG9bMl0pe2EubGFiZWw9b1syXSxhLm9wcy5wdXNoKGkpO2JyZWFrfW9bMl0mJmEub3BzLnBvcCgpLGEudHJ5cy5wb3AoKTtjb250aW51ZX1pPXQuY2FsbChlLGEpfWNhdGNoKGUpe2k9WzYsZV0scj0wfWZpbmFsbHl7bj1vPTB9aWYoNSZpWzBdKXRocm93IGlbMV07cmV0dXJue3ZhbHVlOmlbMF0/aVsxXTp2b2lkIDAsZG9uZTohMH19KFtpLGxdKX19fXZhciBuPSJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsVGhpcz9nbG9iYWxUaGlzOiJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6e307IWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfWZ1bmN0aW9uIHQoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIHI9dFtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHIua2V5LHIpfX1mdW5jdGlvbiByKGUsbixyKXtyZXR1cm4gbiYmdChlLnByb3RvdHlwZSxuKSxyJiZ0KGUsciksZX1mdW5jdGlvbiBvKGUsdCl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uIik7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJmEoZSx0KX1mdW5jdGlvbiBpKGUpe3JldHVybihpPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2Y6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSl9KShlKX1mdW5jdGlvbiBhKGUsdCl7cmV0dXJuKGE9T2JqZWN0LnNldFByb3RvdHlwZU9mfHxmdW5jdGlvbihlLHQpe3JldHVybiBlLl9fcHJvdG9fXz10LGV9KShlLHQpfWZ1bmN0aW9uIGwoKXtpZigidW5kZWZpbmVkIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoRGF0ZSxbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKGUpe3JldHVybiExfX1mdW5jdGlvbiB1KGUpe2lmKHZvaWQgMD09PWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTtyZXR1cm4gZX1mdW5jdGlvbiBjKGUsdCl7cmV0dXJuIXR8fCJvYmplY3QiIT10eXBlb2YgdCYmImZ1bmN0aW9uIiE9dHlwZW9mIHQ/dShlKTp0fWZ1bmN0aW9uIHMoZSl7dmFyIHQ9bCgpO3JldHVybiBmdW5jdGlvbigpe3ZhciBuLHI9aShlKTtpZih0KXt2YXIgbz1pKHRoaXMpLmNvbnN0cnVjdG9yO249UmVmbGVjdC5jb25zdHJ1Y3Qocixhcmd1bWVudHMsbyl9ZWxzZSBuPXIuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBjKHRoaXMsbil9fWZ1bmN0aW9uIGYoZSx0KXtmb3IoOyFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KSYmbnVsbCE9PShlPWkoZSkpOyk7cmV0dXJuIGV9ZnVuY3Rpb24gcChlLHQsbil7cmV0dXJuKHA9InVuZGVmaW5lZCIhPXR5cGVvZiBSZWZsZWN0JiZSZWZsZWN0LmdldD9SZWZsZWN0LmdldDpmdW5jdGlvbihlLHQsbil7dmFyIHI9ZihlLHQpO2lmKHIpe3ZhciBvPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iocix0KTtyZXR1cm4gby5nZXQ/by5nZXQuY2FsbChuKTpvLnZhbHVlfX0pKGUsdCxufHxlKX12YXIgYj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXtlKHRoaXMsdCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsImxpc3RlbmVycyIse3ZhbHVlOnt9LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pfXJldHVybiByKHQsW3trZXk6ImFkZEV2ZW50TGlzdGVuZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7ZSBpbiB0aGlzLmxpc3RlbmVyc3x8KHRoaXMubGlzdGVuZXJzW2VdPVtdKSx0aGlzLmxpc3RlbmVyc1tlXS5wdXNoKHQpfX0se2tleToicmVtb3ZlRXZlbnRMaXN0ZW5lciIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtpZihlIGluIHRoaXMubGlzdGVuZXJzKWZvcih2YXIgbj10aGlzLmxpc3RlbmVyc1tlXSxyPTAsbz1uLmxlbmd0aDtyPG87cisrKWlmKG5bcl09PT10KXJldHVybiB2b2lkIG4uc3BsaWNlKHIsMSl9fSx7a2V5OiJkaXNwYXRjaEV2ZW50Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKGUudHlwZSBpbiB0aGlzLmxpc3RlbmVycyl7Zm9yKHZhciBuPWZ1bmN0aW9uKG4pe3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cmV0dXJuIG4uY2FsbCh0LGUpfSkpfSxyPXRoaXMubGlzdGVuZXJzW2UudHlwZV0sbz0wLGk9ci5sZW5ndGg7bzxpO28rKyluKHJbb10pO3JldHVybiFlLmRlZmF1bHRQcmV2ZW50ZWR9fX1dKSx0fSgpLHk9ZnVuY3Rpb24odCl7byhhLHQpO3ZhciBuPXMoYSk7ZnVuY3Rpb24gYSgpe3ZhciB0O3JldHVybiBlKHRoaXMsYSksKHQ9bi5jYWxsKHRoaXMpKS5saXN0ZW5lcnN8fGIuY2FsbCh1KHQpKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodSh0KSwiYWJvcnRlZCIse3ZhbHVlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh1KHQpLCJvbmFib3J0Iix7dmFsdWU6bnVsbCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0fXJldHVybiByKGEsW3trZXk6InRvU3RyaW5nIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiJbb2JqZWN0IEFib3J0U2lnbmFsXSJ9fSx7a2V5OiJkaXNwYXRjaEV2ZW50Iix2YWx1ZTpmdW5jdGlvbihlKXsiYWJvcnQiPT09ZS50eXBlJiYodGhpcy5hYm9ydGVkPSEwLCJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzLm9uYWJvcnQmJnRoaXMub25hYm9ydC5jYWxsKHRoaXMsZSkpLHAoaShhLnByb3RvdHlwZSksImRpc3BhdGNoRXZlbnQiLHRoaXMpLmNhbGwodGhpcyxlKX19XSksYX0oYiksaD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXtlKHRoaXMsdCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsInNpZ25hbCIse3ZhbHVlOm5ldyB5LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pfXJldHVybiByKHQsW3trZXk6ImFib3J0Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlO3RyeXtlPW5ldyBFdmVudCgiYWJvcnQiKX1jYXRjaCh0KXsidW5kZWZpbmVkIiE9dHlwZW9mIGRvY3VtZW50P2RvY3VtZW50LmNyZWF0ZUV2ZW50PyhlPWRvY3VtZW50LmNyZWF0ZUV2ZW50KCJFdmVudCIpKS5pbml0RXZlbnQoImFib3J0IiwhMSwhMSk6KGU9ZG9jdW1lbnQuY3JlYXRlRXZlbnRPYmplY3QoKSkudHlwZT0iYWJvcnQiOmU9e3R5cGU6ImFib3J0IixidWJibGVzOiExLGNhbmNlbGFibGU6ITF9fXRoaXMuc2lnbmFsLmRpc3BhdGNoRXZlbnQoZSl9fSx7a2V5OiJ0b1N0cmluZyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4iW29iamVjdCBBYm9ydENvbnRyb2xsZXJdIn19XSksdH0oKTtmdW5jdGlvbiB2KGUpe3JldHVybiBlLl9fRk9SQ0VfSU5TVEFMTF9BQk9SVENPTlRST0xMRVJfUE9MWUZJTEw/KGNvbnNvbGUubG9nKCJfX0ZPUkNFX0lOU1RBTExfQUJPUlRDT05UUk9MTEVSX1BPTFlGSUxMPXRydWUgaXMgc2V0LCB3aWxsIGZvcmNlIGluc3RhbGwgcG9seWZpbGwiKSwhMCk6ImZ1bmN0aW9uIj09dHlwZW9mIGUuUmVxdWVzdCYmIWUuUmVxdWVzdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkoInNpZ25hbCIpfHwhZS5BYm9ydENvbnRyb2xsZXJ9ZnVuY3Rpb24gZChlKXsiZnVuY3Rpb24iPT10eXBlb2YgZSYmKGU9e2ZldGNoOmV9KTt2YXIgdD1lLG49dC5mZXRjaCxyPXQuUmVxdWVzdCxvPXZvaWQgMD09PXI/bi5SZXF1ZXN0OnIsaT10LkFib3J0Q29udHJvbGxlcixhPXQuX19GT1JDRV9JTlNUQUxMX0FCT1JUQ09OVFJPTExFUl9QT0xZRklMTCxsPXZvaWQgMCE9PWEmJmE7aWYoIXYoe2ZldGNoOm4sUmVxdWVzdDpvLEFib3J0Q29udHJvbGxlcjppLF9fRk9SQ0VfSU5TVEFMTF9BQk9SVENPTlRST0xMRVJfUE9MWUZJTEw6bH0pKXJldHVybntmZXRjaDpuLFJlcXVlc3Q6dX07dmFyIHU9bzsodSYmIXUucHJvdG90eXBlLmhhc093blByb3BlcnR5KCJzaWduYWwiKXx8bCkmJigodT1mdW5jdGlvbihlLHQpe3ZhciBuO3QmJnQuc2lnbmFsJiYobj10LnNpZ25hbCxkZWxldGUgdC5zaWduYWwpO3ZhciByPW5ldyBvKGUsdCk7cmV0dXJuIG4mJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJzaWduYWwiLHt3cml0YWJsZTohMSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMCx2YWx1ZTpufSkscn0pLnByb3RvdHlwZT1vLnByb3RvdHlwZSk7dmFyIGM9bjtyZXR1cm57ZmV0Y2g6ZnVuY3Rpb24oZSx0KXt2YXIgbj11JiZ1LnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGUpP2Uuc2lnbmFsOnQ/dC5zaWduYWw6dm9pZCAwO2lmKG4pe3ZhciByO3RyeXtyPW5ldyBET01FeGNlcHRpb24oIkFib3J0ZWQiLCJBYm9ydEVycm9yIil9Y2F0Y2goZSl7KHI9bmV3IEVycm9yKCJBYm9ydGVkIikpLm5hbWU9IkFib3J0RXJyb3IifWlmKG4uYWJvcnRlZClyZXR1cm4gUHJvbWlzZS5yZWplY3Qocik7dmFyIG89bmV3IFByb21pc2UoKGZ1bmN0aW9uKGUsdCl7bi5hZGRFdmVudExpc3RlbmVyKCJhYm9ydCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHQocil9KSx7b25jZTohMH0pfSkpO3JldHVybiB0JiZ0LnNpZ25hbCYmZGVsZXRlIHQuc2lnbmFsLFByb21pc2UucmFjZShbbyxjKGUsdCldKX1yZXR1cm4gYyhlLHQpfSxSZXF1ZXN0OnV9fSJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJihoLnByb3RvdHlwZVtTeW1ib2wudG9TdHJpbmdUYWddPSJBYm9ydENvbnRyb2xsZXIiLHkucHJvdG90eXBlW1N5bWJvbC50b1N0cmluZ1RhZ109IkFib3J0U2lnbmFsIiksZnVuY3Rpb24oZSl7aWYodihlKSlpZihlLmZldGNoKXt2YXIgdD1kKGUpLG49dC5mZXRjaCxyPXQuUmVxdWVzdDtlLmZldGNoPW4sZS5SZXF1ZXN0PXIsT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkFib3J0Q29udHJvbGxlciIse3dyaXRhYmxlOiEwLGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwLHZhbHVlOmh9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiQWJvcnRTaWduYWwiLHt3cml0YWJsZTohMCxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMCx2YWx1ZTp5fSl9ZWxzZSBjb25zb2xlLndhcm4oImZldGNoKCkgaXMgbm90IGF2YWlsYWJsZSwgY2Fubm90IGluc3RhbGwgYWJvcnRjb250cm9sbGVyLXBvbHlmaWxsIil9KCJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOm4pfSgpO3ZhciByPXt9LG89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSsifCIrdH07YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGZ1bmN0aW9uKG4pe3ZhciBpLGEsbCx1LGMscyxmLHAsYix5LGg7cmV0dXJuIHA9dm9pZCAwLGI9dm9pZCAwLGg9ZnVuY3Rpb24oKXt2YXIgcCxiLHksaCx2LGQsZyxPO3JldHVybiB0KHRoaXMsKGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6aT1uLmRhdGEsYT1pLnVybCxsPWkudGltZW91dCx1PWkuYXVkaWVuY2UsYz1pLnNjb3BlLHM9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmdC5pbmRleE9mKHIpPDAmJihuW3JdPWVbcl0pO2lmKG51bGwhPWUmJiJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz0wO2ZvcihyPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7bzxyLmxlbmd0aDtvKyspdC5pbmRleE9mKHJbb10pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLHJbb10pJiYobltyW29dXT1lW3Jbb11dKX1yZXR1cm4gbn0oaSxbInVybCIsInRpbWVvdXQiLCJhdWRpZW5jZSIsInNjb3BlIl0pLGY9bi5wb3J0c1swXSx0LmxhYmVsPTE7Y2FzZSAxOmlmKHQudHJ5cy5wdXNoKFsxLDcsLDhdKSwhKGI9SlNPTi5wYXJzZShzLmJvZHkpKS5yZWZyZXNoX3Rva2VuJiYicmVmcmVzaF90b2tlbiI9PT1iLmdyYW50X3R5cGUpe2lmKCEoeT1mdW5jdGlvbihlLHQpe3JldHVybiByW28oZSx0KV19KHUsYykpKXRocm93IG5ldyBFcnJvcigiVGhlIHdlYiB3b3JrZXIgaXMgbWlzc2luZyB0aGUgcmVmcmVzaCB0b2tlbiIpO3MuYm9keT1KU09OLnN0cmluZ2lmeShlKGUoe30sYikse3JlZnJlc2hfdG9rZW46eX0pKX1oPW5ldyBBYm9ydENvbnRyb2xsZXIsdj1oLnNpZ25hbCxkPXZvaWQgMCx0LmxhYmVsPTI7Y2FzZSAyOnJldHVybiB0LnRyeXMucHVzaChbMiw0LCw1XSksWzQsUHJvbWlzZS5yYWNlKFsodz1sLG5ldyBQcm9taXNlKChmdW5jdGlvbihlKXtyZXR1cm4gc2V0VGltZW91dChlLHcpfSkpKSxmZXRjaChhLGUoZSh7fSxzKSx7c2lnbmFsOnZ9KSldKV07Y2FzZSAzOnJldHVybiBkPXQuc2VudCgpLFszLDVdO2Nhc2UgNDpyZXR1cm4gZz10LnNlbnQoKSxmLnBvc3RNZXNzYWdlKHtlcnJvcjpnLm1lc3NhZ2V9KSxbMl07Y2FzZSA1OnJldHVybiBkP1s0LGQuanNvbigpXTooaC5hYm9ydCgpLFsyXSk7Y2FzZSA2OnJldHVybihwPXQuc2VudCgpKS5yZWZyZXNoX3Rva2VuPyhmdW5jdGlvbihlLHQsbil7cltvKHQsbildPWV9KHAucmVmcmVzaF90b2tlbix1LGMpLGRlbGV0ZSBwLnJlZnJlc2hfdG9rZW4pOmZ1bmN0aW9uKGUsdCl7ZGVsZXRlIHJbbyhlLHQpXX0odSxjKSxmLnBvc3RNZXNzYWdlKHtvazpkLm9rLGpzb246cH0pLFszLDhdO2Nhc2UgNzpyZXR1cm4gTz10LnNlbnQoKSxmLnBvc3RNZXNzYWdlKHtvazohMSxqc29uOntlcnJvcl9kZXNjcmlwdGlvbjpPLm1lc3NhZ2V9fSksWzMsOF07Y2FzZSA4OnJldHVyblsyXX12YXIgd30pKX0sbmV3KCh5PXZvaWQgMCl8fCh5PVByb21pc2UpKSgoZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKGUpe3RyeXtvKGgubmV4dChlKSl9Y2F0Y2goZSl7dChlKX19ZnVuY3Rpb24gcihlKXt0cnl7byhoLnRocm93KGUpKX1jYXRjaChlKXt0KGUpfX1mdW5jdGlvbiBvKHQpe3QuZG9uZT9lKHQudmFsdWUpOm5ldyB5KChmdW5jdGlvbihlKXtlKHQudmFsdWUpfSkpLnRoZW4obixyKX1vKChoPWguYXBwbHkocCxifHxbXSkpLm5leHQoKSl9KSl9KSk7Cgo=","data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidG9rZW4ud29ya2VyLmpzIiwic291cmNlcyI6WyJ3b3JrZXI6Ly93ZWItd29ya2VyL25vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYuanMiLCJ3b3JrZXI6Ly93ZWItd29ya2VyL25vZGVfbW9kdWxlcy9hYm9ydGNvbnRyb2xsZXItcG9seWZpbGwvZGlzdC91bWQtcG9seWZpbGwuanMiLCJ3b3JrZXI6Ly93ZWItd29ya2VyL3NyYy9jb25zdGFudHMudHMiLCJ3b3JrZXI6Ly93ZWItd29ya2VyL3NyYy90b2tlbi53b3JrZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3Jlc3QocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxyXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICAgICAgfVxyXG4gICAgcmV0dXJuIHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2RlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19wYXJhbShwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSkge1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUocmVzdWx0LnZhbHVlKTsgfSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcclxuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XHJcbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4cG9ydFN0YXIobSwgZXhwb3J0cykge1xyXG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX192YWx1ZXMobykge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdLCBpID0gMDtcclxuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcclxuICAgIGlmICghbSkgcmV0dXJuIG87XHJcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xyXG4gICAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheXMoKSB7XHJcbiAgICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcclxuICAgIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcclxuICAgICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcclxuICAgICAgICAgICAgcltrXSA9IGFbal07XHJcbiAgICByZXR1cm4gcjtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0KHYpIHtcclxuICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlmIChnW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKHIpIHsgci52YWx1ZSBpbnN0YW5jZW9mIF9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7IH1cclxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNEZWxlZ2F0b3Iobykge1xyXG4gICAgdmFyIGksIHA7XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlbbl0gPSBvW25dID8gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChwID0gIXApID8geyB2YWx1ZTogX19hd2FpdChvW25dKHYpKSwgZG9uZTogbiA9PT0gXCJyZXR1cm5cIiB9IDogZiA/IGYodikgOiB2OyB9IDogZjsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcclxuICAgIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpW25dID0gb1tuXSAmJiBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2ID0gb1tuXSh2KSwgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgdi5kb25lLCB2LnZhbHVlKTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XHJcbiAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxyXG4gICAgcmV0dXJuIGNvb2tlZDtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XHJcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xyXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIHJlc3VsdFtrXSA9IG1vZFtrXTtcclxuICAgIHJlc3VsdC5kZWZhdWx0ID0gbW9kO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgZGVmYXVsdDogbW9kIH07XHJcbn1cclxuIiwiKGZ1bmN0aW9uIChmYWN0b3J5KSB7XG4gIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShmYWN0b3J5KSA6XG4gIGZhY3RvcnkoKTtcbn0oKGZ1bmN0aW9uICgpIHsgJ3VzZSBzdHJpY3QnO1xuXG4gIGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICAgIGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICAgIGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgICByZXR1cm4gQ29uc3RydWN0b3I7XG4gIH1cblxuICBmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7XG4gICAgfVxuXG4gICAgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7XG4gICAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgICB2YWx1ZTogc3ViQ2xhc3MsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7XG4gICAgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHtcbiAgICAgIHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7XG4gICAgfTtcbiAgICByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pO1xuICB9XG5cbiAgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHtcbiAgICBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHtcbiAgICAgIG8uX19wcm90b19fID0gcDtcbiAgICAgIHJldHVybiBvO1xuICAgIH07XG5cbiAgICByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApO1xuICB9XG5cbiAgZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHtcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTtcbiAgICBpZiAodHlwZW9mIFByb3h5ID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiB0cnVlO1xuXG4gICAgdHJ5IHtcbiAgICAgIERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoRGF0ZSwgW10sIGZ1bmN0aW9uICgpIHt9KSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7XG4gICAgaWYgKHNlbGYgPT09IHZvaWQgMCkge1xuICAgICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO1xuICAgIH1cblxuICAgIHJldHVybiBzZWxmO1xuICB9XG5cbiAgZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkge1xuICAgIGlmIChjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSkge1xuICAgICAgcmV0dXJuIGNhbGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7XG4gIH1cblxuICBmdW5jdGlvbiBfY3JlYXRlU3VwZXIoRGVyaXZlZCkge1xuICAgIHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIF9jcmVhdGVTdXBlckludGVybmFsKCkge1xuICAgICAgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLFxuICAgICAgICAgIHJlc3VsdDtcblxuICAgICAgaWYgKGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QpIHtcbiAgICAgICAgdmFyIE5ld1RhcmdldCA9IF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjtcblxuICAgICAgICByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9zdXBlclByb3BCYXNlKG9iamVjdCwgcHJvcGVydHkpIHtcbiAgICB3aGlsZSAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KSkge1xuICAgICAgb2JqZWN0ID0gX2dldFByb3RvdHlwZU9mKG9iamVjdCk7XG4gICAgICBpZiAob2JqZWN0ID09PSBudWxsKSBicmVhaztcbiAgICB9XG5cbiAgICByZXR1cm4gb2JqZWN0O1xuICB9XG5cbiAgZnVuY3Rpb24gX2dldCh0YXJnZXQsIHByb3BlcnR5LCByZWNlaXZlcikge1xuICAgIGlmICh0eXBlb2YgUmVmbGVjdCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBSZWZsZWN0LmdldCkge1xuICAgICAgX2dldCA9IFJlZmxlY3QuZ2V0O1xuICAgIH0gZWxzZSB7XG4gICAgICBfZ2V0ID0gZnVuY3Rpb24gX2dldCh0YXJnZXQsIHByb3BlcnR5LCByZWNlaXZlcikge1xuICAgICAgICB2YXIgYmFzZSA9IF9zdXBlclByb3BCYXNlKHRhcmdldCwgcHJvcGVydHkpO1xuXG4gICAgICAgIGlmICghYmFzZSkgcmV0dXJuO1xuICAgICAgICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYmFzZSwgcHJvcGVydHkpO1xuXG4gICAgICAgIGlmIChkZXNjLmdldCkge1xuICAgICAgICAgIHJldHVybiBkZXNjLmdldC5jYWxsKHJlY2VpdmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBkZXNjLnZhbHVlO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gX2dldCh0YXJnZXQsIHByb3BlcnR5LCByZWNlaXZlciB8fCB0YXJnZXQpO1xuICB9XG5cbiAgdmFyIEVtaXR0ZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEVtaXR0ZXIoKSB7XG4gICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRW1pdHRlcik7XG5cbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnbGlzdGVuZXJzJywge1xuICAgICAgICB2YWx1ZToge30sXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhFbWl0dGVyLCBbe1xuICAgICAga2V5OiBcImFkZEV2ZW50TGlzdGVuZXJcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRFdmVudExpc3RlbmVyKHR5cGUsIGNhbGxiYWNrKSB7XG4gICAgICAgIGlmICghKHR5cGUgaW4gdGhpcy5saXN0ZW5lcnMpKSB7XG4gICAgICAgICAgdGhpcy5saXN0ZW5lcnNbdHlwZV0gPSBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubGlzdGVuZXJzW3R5cGVdLnB1c2goY2FsbGJhY2spO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJyZW1vdmVFdmVudExpc3RlbmVyXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBjYWxsYmFjaykge1xuICAgICAgICBpZiAoISh0eXBlIGluIHRoaXMubGlzdGVuZXJzKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzdGFjayA9IHRoaXMubGlzdGVuZXJzW3R5cGVdO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gc3RhY2subGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgaWYgKHN0YWNrW2ldID09PSBjYWxsYmFjaykge1xuICAgICAgICAgICAgc3RhY2suc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJkaXNwYXRjaEV2ZW50XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZGlzcGF0Y2hFdmVudChldmVudCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgIGlmICghKGV2ZW50LnR5cGUgaW4gdGhpcy5saXN0ZW5lcnMpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGRlYm91bmNlID0gZnVuY3Rpb24gZGVib3VuY2UoY2FsbGJhY2spIHtcbiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjay5jYWxsKF90aGlzLCBldmVudCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIHN0YWNrID0gdGhpcy5saXN0ZW5lcnNbZXZlbnQudHlwZV07XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBzdGFjay5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICBkZWJvdW5jZShzdGFja1tpXSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gIWV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQ7XG4gICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIEVtaXR0ZXI7XG4gIH0oKTtcblxuICB2YXIgQWJvcnRTaWduYWwgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9FbWl0dGVyKSB7XG4gICAgX2luaGVyaXRzKEFib3J0U2lnbmFsLCBfRW1pdHRlcik7XG5cbiAgICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKEFib3J0U2lnbmFsKTtcblxuICAgIGZ1bmN0aW9uIEFib3J0U2lnbmFsKCkge1xuICAgICAgdmFyIF90aGlzMjtcblxuICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFib3J0U2lnbmFsKTtcblxuICAgICAgX3RoaXMyID0gX3N1cGVyLmNhbGwodGhpcyk7IC8vIFNvbWUgdmVyc2lvbnMgb2YgYmFiZWwgZG9lcyBub3QgdHJhbnNwaWxlIHN1cGVyKCkgY29ycmVjdGx5IGZvciBJRSA8PSAxMCwgaWYgdGhlIHBhcmVudFxuICAgICAgLy8gY29uc3RydWN0b3IgaGFzIGZhaWxlZCB0byBydW4sIHRoZW4gXCJ0aGlzLmxpc3RlbmVyc1wiIHdpbGwgc3RpbGwgYmUgdW5kZWZpbmVkIGFuZCB0aGVuIHdlIGNhbGxcbiAgICAgIC8vIHRoZSBwYXJlbnQgY29uc3RydWN0b3IgZGlyZWN0bHkgaW5zdGVhZCBhcyBhIHdvcmthcm91bmQuIEZvciBnZW5lcmFsIGRldGFpbHMsIHNlZSBiYWJlbCBidWc6XG4gICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vYmFiZWwvYmFiZWwvaXNzdWVzLzMwNDFcbiAgICAgIC8vIFRoaXMgaGFjayB3YXMgYWRkZWQgYXMgYSBmaXggZm9yIHRoZSBpc3N1ZSBkZXNjcmliZWQgaGVyZTpcbiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9GaW5hbmNpYWwtVGltZXMvcG9seWZpbGwtbGlicmFyeS9wdWxsLzU5I2lzc3VlY29tbWVudC00Nzc1NTgwNDJcblxuICAgICAgaWYgKCFfdGhpczIubGlzdGVuZXJzKSB7XG4gICAgICAgIEVtaXR0ZXIuY2FsbChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzMikpO1xuICAgICAgfSAvLyBDb21wYXJlZCB0byBhc3NpZ25tZW50LCBPYmplY3QuZGVmaW5lUHJvcGVydHkgbWFrZXMgcHJvcGVydGllcyBub24tZW51bWVyYWJsZSBieSBkZWZhdWx0IGFuZFxuICAgICAgLy8gd2Ugd2FudCBPYmplY3Qua2V5cyhuZXcgQWJvcnRDb250cm9sbGVyKCkuc2lnbmFsKSB0byBiZSBbXSBmb3IgY29tcGF0IHdpdGggdGhlIG5hdGl2ZSBpbXBsXG5cblxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMyKSwgJ2Fib3J0ZWQnLCB7XG4gICAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpczIpLCAnb25hYm9ydCcsIHtcbiAgICAgICAgdmFsdWU6IG51bGwsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIF90aGlzMjtcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoQWJvcnRTaWduYWwsIFt7XG4gICAgICBrZXk6IFwidG9TdHJpbmdcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuICdbb2JqZWN0IEFib3J0U2lnbmFsXSc7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcImRpc3BhdGNoRXZlbnRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBkaXNwYXRjaEV2ZW50KGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC50eXBlID09PSAnYWJvcnQnKSB7XG4gICAgICAgICAgdGhpcy5hYm9ydGVkID0gdHJ1ZTtcblxuICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5vbmFib3J0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aGlzLm9uYWJvcnQuY2FsbCh0aGlzLCBldmVudCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgX2dldChfZ2V0UHJvdG90eXBlT2YoQWJvcnRTaWduYWwucHJvdG90eXBlKSwgXCJkaXNwYXRjaEV2ZW50XCIsIHRoaXMpLmNhbGwodGhpcywgZXZlbnQpO1xuICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBBYm9ydFNpZ25hbDtcbiAgfShFbWl0dGVyKTtcbiAgdmFyIEFib3J0Q29udHJvbGxlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQWJvcnRDb250cm9sbGVyKCkge1xuICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFib3J0Q29udHJvbGxlcik7XG5cbiAgICAgIC8vIENvbXBhcmVkIHRvIGFzc2lnbm1lbnQsIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSBtYWtlcyBwcm9wZXJ0aWVzIG5vbi1lbnVtZXJhYmxlIGJ5IGRlZmF1bHQgYW5kXG4gICAgICAvLyB3ZSB3YW50IE9iamVjdC5rZXlzKG5ldyBBYm9ydENvbnRyb2xsZXIoKSkgdG8gYmUgW10gZm9yIGNvbXBhdCB3aXRoIHRoZSBuYXRpdmUgaW1wbFxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdzaWduYWwnLCB7XG4gICAgICAgIHZhbHVlOiBuZXcgQWJvcnRTaWduYWwoKSxcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKEFib3J0Q29udHJvbGxlciwgW3tcbiAgICAgIGtleTogXCJhYm9ydFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGFib3J0KCkge1xuICAgICAgICB2YXIgZXZlbnQ7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBldmVudCA9IG5ldyBFdmVudCgnYWJvcnQnKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBpZiAoIWRvY3VtZW50LmNyZWF0ZUV2ZW50KSB7XG4gICAgICAgICAgICAgIC8vIEZvciBJbnRlcm5ldCBFeHBsb3JlciA4OlxuICAgICAgICAgICAgICBldmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50T2JqZWN0KCk7XG4gICAgICAgICAgICAgIGV2ZW50LnR5cGUgPSAnYWJvcnQnO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gRm9yIEludGVybmV0IEV4cGxvcmVyIDExOlxuICAgICAgICAgICAgICBldmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdFdmVudCcpO1xuICAgICAgICAgICAgICBldmVudC5pbml0RXZlbnQoJ2Fib3J0JywgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gRmFsbGJhY2sgd2hlcmUgZG9jdW1lbnQgaXNuJ3QgYXZhaWxhYmxlOlxuICAgICAgICAgICAgZXZlbnQgPSB7XG4gICAgICAgICAgICAgIHR5cGU6ICdhYm9ydCcsXG4gICAgICAgICAgICAgIGJ1YmJsZXM6IGZhbHNlLFxuICAgICAgICAgICAgICBjYW5jZWxhYmxlOiBmYWxzZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNpZ25hbC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwidG9TdHJpbmdcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuICdbb2JqZWN0IEFib3J0Q29udHJvbGxlcl0nO1xuICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBBYm9ydENvbnRyb2xsZXI7XG4gIH0oKTtcblxuICBpZiAodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gICAgLy8gVGhlc2UgYXJlIG5lY2Vzc2FyeSB0byBtYWtlIHN1cmUgdGhhdCB3ZSBnZXQgY29ycmVjdCBvdXRwdXQgZm9yOlxuICAgIC8vIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuZXcgQWJvcnRDb250cm9sbGVyKCkpXG4gICAgQWJvcnRDb250cm9sbGVyLnByb3RvdHlwZVtTeW1ib2wudG9TdHJpbmdUYWddID0gJ0Fib3J0Q29udHJvbGxlcic7XG4gICAgQWJvcnRTaWduYWwucHJvdG90eXBlW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnQWJvcnRTaWduYWwnO1xuICB9XG5cbiAgZnVuY3Rpb24gcG9seWZpbGxOZWVkZWQoc2VsZikge1xuICAgIGlmIChzZWxmLl9fRk9SQ0VfSU5TVEFMTF9BQk9SVENPTlRST0xMRVJfUE9MWUZJTEwpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdfX0ZPUkNFX0lOU1RBTExfQUJPUlRDT05UUk9MTEVSX1BPTFlGSUxMPXRydWUgaXMgc2V0LCB3aWxsIGZvcmNlIGluc3RhbGwgcG9seWZpbGwnKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gLy8gTm90ZSB0aGF0IHRoZSBcInVuZmV0Y2hcIiBtaW5pbWFsIGZldGNoIHBvbHlmaWxsIGRlZmluZXMgZmV0Y2goKSB3aXRob3V0XG4gICAgLy8gZGVmaW5pbmcgd2luZG93LlJlcXVlc3QsIGFuZCB0aGlzIHBvbHlmaWxsIG5lZWQgdG8gd29yayBvbiB0b3Agb2YgdW5mZXRjaFxuICAgIC8vIHNvIHRoZSBiZWxvdyBmZWF0dXJlIGRldGVjdGlvbiBuZWVkcyB0aGUgIXNlbGYuQWJvcnRDb250cm9sbGVyIHBhcnQuXG4gICAgLy8gVGhlIFJlcXVlc3QucHJvdG90eXBlIGNoZWNrIGlzIGFsc28gbmVlZGVkIGJlY2F1c2UgU2FmYXJpIHZlcnNpb25zIDExLjEuMlxuICAgIC8vIHVwIHRvIGFuZCBpbmNsdWRpbmcgMTIuMS54IGhhcyBhIHdpbmRvdy5BYm9ydENvbnRyb2xsZXIgcHJlc2VudCBidXQgc3RpbGxcbiAgICAvLyBkb2VzIE5PVCBjb3JyZWN0bHkgaW1wbGVtZW50IGFib3J0YWJsZSBmZXRjaDpcbiAgICAvLyBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTc0OTgwI2MyXG5cblxuICAgIHJldHVybiB0eXBlb2Ygc2VsZi5SZXF1ZXN0ID09PSAnZnVuY3Rpb24nICYmICFzZWxmLlJlcXVlc3QucHJvdG90eXBlLmhhc093blByb3BlcnR5KCdzaWduYWwnKSB8fCAhc2VsZi5BYm9ydENvbnRyb2xsZXI7XG4gIH1cblxuICAvKipcbiAgICogTm90ZTogdGhlIFwiZmV0Y2guUmVxdWVzdFwiIGRlZmF1bHQgdmFsdWUgaXMgYXZhaWxhYmxlIGZvciBmZXRjaCBpbXBvcnRlZCBmcm9tXG4gICAqIHRoZSBcIm5vZGUtZmV0Y2hcIiBwYWNrYWdlIGFuZCBub3QgaW4gYnJvd3NlcnMuIFRoaXMgaXMgT0sgc2luY2UgYnJvd3NlcnNcbiAgICogd2lsbCBiZSBpbXBvcnRpbmcgdW1kLXBvbHlmaWxsLmpzIGZyb20gdGhhdCBwYXRoIFwic2VsZlwiIGlzIHBhc3NlZCB0aGVcbiAgICogZGVjb3JhdG9yIHNvIHRoZSBkZWZhdWx0IHZhbHVlIHdpbGwgbm90IGJlIHVzZWQgKGJlY2F1c2UgYnJvd3NlcnMgdGhhdCBkZWZpbmVcbiAgICogZmV0Y2ggYWxzbyBoYXMgUmVxdWVzdCkuIE9uZSBxdWlya3kgc2V0dXAgd2hlcmUgc2VsZi5mZXRjaCBleGlzdHMgYnV0XG4gICAqIHNlbGYuUmVxdWVzdCBkb2VzIG5vdCBpcyB3aGVuIHRoZSBcInVuZmV0Y2hcIiBtaW5pbWFsIGZldGNoIHBvbHlmaWxsIGlzIHVzZWRcbiAgICogb24gdG9wIG9mIElFMTE7IGZvciB0aGlzIGNhc2UgdGhlIGJyb3dzZXIgd2lsbCB0cnkgdG8gdXNlIHRoZSBmZXRjaC5SZXF1ZXN0XG4gICAqIGRlZmF1bHQgdmFsdWUgd2hpY2ggaW4gdHVybiB3aWxsIGJlIHVuZGVmaW5lZCBidXQgdGhlbiB0aGVuIFwiaWYgKFJlcXVlc3QpXCJcbiAgICogd2lsbCBlbnN1cmUgdGhhdCB5b3UgZ2V0IGEgcGF0Y2hlZCBmZXRjaCBidXQgc3RpbGwgbm8gUmVxdWVzdCAoYXMgZXhwZWN0ZWQpLlxuICAgKiBAcGFyYW0ge2ZldGNoLCBSZXF1ZXN0ID0gZmV0Y2guUmVxdWVzdH1cbiAgICogQHJldHVybnMge2ZldGNoOiBhYm9ydGFibGVGZXRjaCwgUmVxdWVzdDogQWJvcnRhYmxlUmVxdWVzdH1cbiAgICovXG5cbiAgZnVuY3Rpb24gYWJvcnRhYmxlRmV0Y2hEZWNvcmF0b3IocGF0Y2hUYXJnZXRzKSB7XG4gICAgaWYgKCdmdW5jdGlvbicgPT09IHR5cGVvZiBwYXRjaFRhcmdldHMpIHtcbiAgICAgIHBhdGNoVGFyZ2V0cyA9IHtcbiAgICAgICAgZmV0Y2g6IHBhdGNoVGFyZ2V0c1xuICAgICAgfTtcbiAgICB9XG5cbiAgICB2YXIgX3BhdGNoVGFyZ2V0cyA9IHBhdGNoVGFyZ2V0cyxcbiAgICAgICAgZmV0Y2ggPSBfcGF0Y2hUYXJnZXRzLmZldGNoLFxuICAgICAgICBfcGF0Y2hUYXJnZXRzJFJlcXVlc3QgPSBfcGF0Y2hUYXJnZXRzLlJlcXVlc3QsXG4gICAgICAgIE5hdGl2ZVJlcXVlc3QgPSBfcGF0Y2hUYXJnZXRzJFJlcXVlc3QgPT09IHZvaWQgMCA/IGZldGNoLlJlcXVlc3QgOiBfcGF0Y2hUYXJnZXRzJFJlcXVlc3QsXG4gICAgICAgIE5hdGl2ZUFib3J0Q29udHJvbGxlciA9IF9wYXRjaFRhcmdldHMuQWJvcnRDb250cm9sbGVyLFxuICAgICAgICBfcGF0Y2hUYXJnZXRzJF9fRk9SQ0UgPSBfcGF0Y2hUYXJnZXRzLl9fRk9SQ0VfSU5TVEFMTF9BQk9SVENPTlRST0xMRVJfUE9MWUZJTEwsXG4gICAgICAgIF9fRk9SQ0VfSU5TVEFMTF9BQk9SVENPTlRST0xMRVJfUE9MWUZJTEwgPSBfcGF0Y2hUYXJnZXRzJF9fRk9SQ0UgPT09IHZvaWQgMCA/IGZhbHNlIDogX3BhdGNoVGFyZ2V0cyRfX0ZPUkNFO1xuXG4gICAgaWYgKCFwb2x5ZmlsbE5lZWRlZCh7XG4gICAgICBmZXRjaDogZmV0Y2gsXG4gICAgICBSZXF1ZXN0OiBOYXRpdmVSZXF1ZXN0LFxuICAgICAgQWJvcnRDb250cm9sbGVyOiBOYXRpdmVBYm9ydENvbnRyb2xsZXIsXG4gICAgICBfX0ZPUkNFX0lOU1RBTExfQUJPUlRDT05UUk9MTEVSX1BPTFlGSUxMOiBfX0ZPUkNFX0lOU1RBTExfQUJPUlRDT05UUk9MTEVSX1BPTFlGSUxMXG4gICAgfSkpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGZldGNoOiBmZXRjaCxcbiAgICAgICAgUmVxdWVzdDogUmVxdWVzdFxuICAgICAgfTtcbiAgICB9XG5cbiAgICB2YXIgUmVxdWVzdCA9IE5hdGl2ZVJlcXVlc3Q7IC8vIE5vdGUgdGhhdCB0aGUgXCJ1bmZldGNoXCIgbWluaW1hbCBmZXRjaCBwb2x5ZmlsbCBkZWZpbmVzIGZldGNoKCkgd2l0aG91dFxuICAgIC8vIGRlZmluaW5nIHdpbmRvdy5SZXF1ZXN0LCBhbmQgdGhpcyBwb2x5ZmlsbCBuZWVkIHRvIHdvcmsgb24gdG9wIG9mIHVuZmV0Y2hcbiAgICAvLyBoZW5jZSB3ZSBvbmx5IHBhdGNoIGl0IGlmIGl0J3MgYXZhaWxhYmxlLiBBbHNvIHdlIGRvbid0IHBhdGNoIGl0IGlmIHNpZ25hbFxuICAgIC8vIGlzIGFscmVhZHkgYXZhaWxhYmxlIG9uIHRoZSBSZXF1ZXN0IHByb3RvdHlwZSBiZWNhdXNlIGluIHRoaXMgY2FzZSBzdXBwb3J0XG4gICAgLy8gaXMgcHJlc2VudCBhbmQgdGhlIHBhdGNoaW5nIGJlbG93IGNhbiBjYXVzZSBhIGNyYXNoIHNpbmNlIGl0IGFzc2lnbnMgdG9cbiAgICAvLyByZXF1ZXN0LnNpZ25hbCB3aGljaCBpcyB0ZWNobmljYWxseSBhIHJlYWQtb25seSBwcm9wZXJ0eS4gVGhpcyBsYXR0ZXIgZXJyb3JcbiAgICAvLyBoYXBwZW5zIHdoZW4geW91IHJ1biB0aGUgbWFpbjUuanMgbm9kZS1mZXRjaCBleGFtcGxlIGluIHRoZSByZXBvXG4gICAgLy8gXCJhYm9ydGNvbnRyb2xsZXItcG9seWZpbGwtZXhhbXBsZXNcIi4gVGhlIGV4YWN0IGVycm9yIGlzOlxuICAgIC8vICAgcmVxdWVzdC5zaWduYWwgPSBpbml0LnNpZ25hbDtcbiAgICAvLyAgIF5cbiAgICAvLyBUeXBlRXJyb3I6IENhbm5vdCBzZXQgcHJvcGVydHkgc2lnbmFsIG9mICM8UmVxdWVzdD4gd2hpY2ggaGFzIG9ubHkgYSBnZXR0ZXJcblxuICAgIGlmIChSZXF1ZXN0ICYmICFSZXF1ZXN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSgnc2lnbmFsJykgfHwgX19GT1JDRV9JTlNUQUxMX0FCT1JUQ09OVFJPTExFUl9QT0xZRklMTCkge1xuICAgICAgUmVxdWVzdCA9IGZ1bmN0aW9uIFJlcXVlc3QoaW5wdXQsIGluaXQpIHtcbiAgICAgICAgdmFyIHNpZ25hbDtcblxuICAgICAgICBpZiAoaW5pdCAmJiBpbml0LnNpZ25hbCkge1xuICAgICAgICAgIHNpZ25hbCA9IGluaXQuc2lnbmFsOyAvLyBOZXZlciBwYXNzIGluaXQuc2lnbmFsIHRvIHRoZSBuYXRpdmUgUmVxdWVzdCBpbXBsZW1lbnRhdGlvbiB3aGVuIHRoZSBwb2x5ZmlsbCBoYXNcbiAgICAgICAgICAvLyBiZWVuIGluc3RhbGxlZCBiZWNhdXNlIGlmIHdlJ3JlIHJ1bm5pbmcgb24gdG9wIG9mIGEgYnJvd3NlciB3aXRoIGFcbiAgICAgICAgICAvLyB3b3JraW5nIG5hdGl2ZSBBYm9ydENvbnRyb2xsZXIgKGkuZS4gdGhlIHBvbHlmaWxsIHdhcyBpbnN0YWxsZWQgZHVlIHRvXG4gICAgICAgICAgLy8gX19GT1JDRV9JTlNUQUxMX0FCT1JUQ09OVFJPTExFUl9QT0xZRklMTCBiZWluZyBzZXQpLCB0aGVuIHBhc3Npbmcgb3VyXG4gICAgICAgICAgLy8gZmFrZSBBYm9ydFNpZ25hbCB0byB0aGUgbmF0aXZlIGZldGNoIHdpbGwgdHJpZ2dlcjpcbiAgICAgICAgICAvLyBUeXBlRXJyb3I6IEZhaWxlZCB0byBjb25zdHJ1Y3QgJ1JlcXVlc3QnOiBtZW1iZXIgc2lnbmFsIGlzIG5vdCBvZiB0eXBlIEFib3J0U2lnbmFsLlxuXG4gICAgICAgICAgZGVsZXRlIGluaXQuc2lnbmFsO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlcXVlc3QgPSBuZXcgTmF0aXZlUmVxdWVzdChpbnB1dCwgaW5pdCk7XG5cbiAgICAgICAgaWYgKHNpZ25hbCkge1xuICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZXF1ZXN0LCAnc2lnbmFsJywge1xuICAgICAgICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogc2lnbmFsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVxdWVzdDtcbiAgICAgIH07XG5cbiAgICAgIFJlcXVlc3QucHJvdG90eXBlID0gTmF0aXZlUmVxdWVzdC5wcm90b3R5cGU7XG4gICAgfVxuXG4gICAgdmFyIHJlYWxGZXRjaCA9IGZldGNoO1xuXG4gICAgdmFyIGFib3J0YWJsZUZldGNoID0gZnVuY3Rpb24gYWJvcnRhYmxlRmV0Y2goaW5wdXQsIGluaXQpIHtcbiAgICAgIHZhciBzaWduYWwgPSBSZXF1ZXN0ICYmIFJlcXVlc3QucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoaW5wdXQpID8gaW5wdXQuc2lnbmFsIDogaW5pdCA/IGluaXQuc2lnbmFsIDogdW5kZWZpbmVkO1xuXG4gICAgICBpZiAoc2lnbmFsKSB7XG4gICAgICAgIHZhciBhYm9ydEVycm9yO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgYWJvcnRFcnJvciA9IG5ldyBET01FeGNlcHRpb24oJ0Fib3J0ZWQnLCAnQWJvcnRFcnJvcicpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAvLyBJRSAxMSBkb2VzIG5vdCBzdXBwb3J0IGNhbGxpbmcgdGhlIERPTUV4Y2VwdGlvbiBjb25zdHJ1Y3RvciwgdXNlIGFcbiAgICAgICAgICAvLyByZWd1bGFyIGVycm9yIG9iamVjdCBvbiBpdCBpbnN0ZWFkLlxuICAgICAgICAgIGFib3J0RXJyb3IgPSBuZXcgRXJyb3IoJ0Fib3J0ZWQnKTtcbiAgICAgICAgICBhYm9ydEVycm9yLm5hbWUgPSAnQWJvcnRFcnJvcic7XG4gICAgICAgIH0gLy8gUmV0dXJuIGVhcmx5IGlmIGFscmVhZHkgYWJvcnRlZCwgdGh1cyBhdm9pZGluZyBtYWtpbmcgYW4gSFRUUCByZXF1ZXN0XG5cblxuICAgICAgICBpZiAoc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYWJvcnRFcnJvcik7XG4gICAgICAgIH0gLy8gVHVybiBhbiBldmVudCBpbnRvIGEgcHJvbWlzZSwgcmVqZWN0IGl0IG9uY2UgYGFib3J0YCBpcyBkaXNwYXRjaGVkXG5cblxuICAgICAgICB2YXIgY2FuY2VsbGF0aW9uID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKF8sIHJlamVjdCkge1xuICAgICAgICAgIHNpZ25hbC5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiByZWplY3QoYWJvcnRFcnJvcik7XG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgb25jZTogdHJ1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoaW5pdCAmJiBpbml0LnNpZ25hbCkge1xuICAgICAgICAgIC8vIE5ldmVyIHBhc3MgLnNpZ25hbCB0byB0aGUgbmF0aXZlIGltcGxlbWVudGF0aW9uIHdoZW4gdGhlIHBvbHlmaWxsIGhhc1xuICAgICAgICAgIC8vIGJlZW4gaW5zdGFsbGVkIGJlY2F1c2UgaWYgd2UncmUgcnVubmluZyBvbiB0b3Agb2YgYSBicm93c2VyIHdpdGggYVxuICAgICAgICAgIC8vIHdvcmtpbmcgbmF0aXZlIEFib3J0Q29udHJvbGxlciAoaS5lLiB0aGUgcG9seWZpbGwgd2FzIGluc3RhbGxlZCBkdWUgdG9cbiAgICAgICAgICAvLyBfX0ZPUkNFX0lOU1RBTExfQUJPUlRDT05UUk9MTEVSX1BPTFlGSUxMIGJlaW5nIHNldCksIHRoZW4gcGFzc2luZyBvdXJcbiAgICAgICAgICAvLyBmYWtlIEFib3J0U2lnbmFsIHRvIHRoZSBuYXRpdmUgZmV0Y2ggd2lsbCB0cmlnZ2VyOlxuICAgICAgICAgIC8vIFR5cGVFcnJvcjogRmFpbGVkIHRvIGV4ZWN1dGUgJ2ZldGNoJyBvbiAnV2luZG93JzogbWVtYmVyIHNpZ25hbCBpcyBub3Qgb2YgdHlwZSBBYm9ydFNpZ25hbC5cbiAgICAgICAgICBkZWxldGUgaW5pdC5zaWduYWw7XG4gICAgICAgIH0gLy8gUmV0dXJuIHRoZSBmYXN0ZXN0IHByb21pc2UgKGRvbid0IG5lZWQgdG8gd2FpdCBmb3IgcmVxdWVzdCB0byBmaW5pc2gpXG5cblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yYWNlKFtjYW5jZWxsYXRpb24sIHJlYWxGZXRjaChpbnB1dCwgaW5pdCldKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlYWxGZXRjaChpbnB1dCwgaW5pdCk7XG4gICAgfTtcblxuICAgIHJldHVybiB7XG4gICAgICBmZXRjaDogYWJvcnRhYmxlRmV0Y2gsXG4gICAgICBSZXF1ZXN0OiBSZXF1ZXN0XG4gICAgfTtcbiAgfVxuXG4gIChmdW5jdGlvbiAoc2VsZikge1xuXG4gICAgaWYgKCFwb2x5ZmlsbE5lZWRlZChzZWxmKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghc2VsZi5mZXRjaCkge1xuICAgICAgY29uc29sZS53YXJuKCdmZXRjaCgpIGlzIG5vdCBhdmFpbGFibGUsIGNhbm5vdCBpbnN0YWxsIGFib3J0Y29udHJvbGxlci1wb2x5ZmlsbCcpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBfYWJvcnRhYmxlRmV0Y2ggPSBhYm9ydGFibGVGZXRjaERlY29yYXRvcihzZWxmKSxcbiAgICAgICAgZmV0Y2ggPSBfYWJvcnRhYmxlRmV0Y2guZmV0Y2gsXG4gICAgICAgIFJlcXVlc3QgPSBfYWJvcnRhYmxlRmV0Y2guUmVxdWVzdDtcblxuICAgIHNlbGYuZmV0Y2ggPSBmZXRjaDtcbiAgICBzZWxmLlJlcXVlc3QgPSBSZXF1ZXN0O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzZWxmLCAnQWJvcnRDb250cm9sbGVyJywge1xuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHZhbHVlOiBBYm9ydENvbnRyb2xsZXJcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoc2VsZiwgJ0Fib3J0U2lnbmFsJywge1xuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHZhbHVlOiBBYm9ydFNpZ25hbFxuICAgIH0pO1xuICB9KSh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgPyBzZWxmIDogZ2xvYmFsKTtcblxufSkpKTtcbiIsImltcG9ydCB7IFBvcHVwQ29uZmlnT3B0aW9ucyB9IGZyb20gJy4vZ2xvYmFsJztcblxuLyoqXG4gKiBAaWdub3JlXG4gKi9cbmV4cG9ydCBjb25zdCBERUZBVUxUX0FVVEhPUklaRV9USU1FT1VUX0lOX1NFQ09ORFMgPSA2MDtcblxuLyoqXG4gKiBAaWdub3JlXG4gKi9cbmV4cG9ydCBjb25zdCBERUZBVUxUX1BPUFVQX0NPTkZJR19PUFRJT05TOiBQb3B1cENvbmZpZ09wdGlvbnMgPSB7XG4gIHRpbWVvdXRJblNlY29uZHM6IERFRkFVTFRfQVVUSE9SSVpFX1RJTUVPVVRfSU5fU0VDT05EU1xufTtcblxuLyoqXG4gKiBAaWdub3JlXG4gKi9cbmV4cG9ydCBjb25zdCBERUZBVUxUX1NJTEVOVF9UT0tFTl9SRVRSWV9DT1VOVCA9IDM7XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5leHBvcnQgY29uc3QgQ0xFQU5VUF9JRlJBTUVfVElNRU9VVF9JTl9TRUNPTkRTID0gMjtcblxuLyoqXG4gKiBAaWdub3JlXG4gKi9cbmV4cG9ydCBjb25zdCBERUZBVUxUX0ZFVENIX1RJTUVPVVRfTVMgPSAxMDAwMDtcblxuZXhwb3J0IGNvbnN0IENBQ0hFX0xPQ0FUSU9OX01FTU9SWSA9ICdtZW1vcnknO1xuZXhwb3J0IGNvbnN0IENBQ0hFX0xPQ0FUSU9OX0xPQ0FMX1NUT1JBR0UgPSAnbG9jYWxzdG9yYWdlJztcbmV4cG9ydCBjb25zdCBNSVNTSU5HX1JFRlJFU0hfVE9LRU5fRVJST1JfTUVTU0FHRSA9XG4gICdUaGUgd2ViIHdvcmtlciBpcyBtaXNzaW5nIHRoZSByZWZyZXNoIHRva2VuJztcblxuLyoqXG4gKiBAaWdub3JlXG4gKi9cbmV4cG9ydCBjb25zdCBERUZBVUxUX1NDT1BFID0gJ29wZW5pZCBwcm9maWxlIGVtYWlsJztcblxuLyoqXG4gKiBBIGxpc3Qgb2YgZXJyb3JzIHRoYXQgY2FuIGJlIGlzc3VlZCBieSB0aGUgYXV0aG9yaXphdGlvbiBzZXJ2ZXIgd2hpY2ggdGhlXG4gKiB1c2VyIGNhbiByZWNvdmVyIGZyb20gYnkgc2lnbmluZyBpbiBpbnRlcmFjdGl2ZWx5LlxuICogaHR0cHM6Ly9vcGVuaWQubmV0L3NwZWNzL29wZW5pZC1jb25uZWN0LWNvcmUtMV8wLmh0bWwjQXV0aEVycm9yXG4gKiBAaWdub3JlXG4gKi9cbmV4cG9ydCBjb25zdCBSRUNPVkVSQUJMRV9FUlJPUlMgPSBbXG4gICdsb2dpbl9yZXF1aXJlZCcsXG4gICdjb25zZW50X3JlcXVpcmVkJyxcbiAgJ2ludGVyYWN0aW9uX3JlcXVpcmVkJyxcbiAgJ2FjY291bnRfc2VsZWN0aW9uX3JlcXVpcmVkJyxcbiAgLy8gU3RyaWN0bHkgc3BlYWtpbmcgdGhlIHVzZXIgY2FuJ3QgcmVjb3ZlciBmcm9tIGBhY2Nlc3NfZGVuaWVkYCAtIGJ1dCB0aGV5XG4gIC8vIGNhbiBnZXQgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCB0aGVpciBhY2Nlc3MgYmVpbmcgZGVuaWVkIGJ5IGxvZ2dpbmcgaW5cbiAgLy8gaW50ZXJhY3RpdmVseS5cbiAgJ2FjY2Vzc19kZW5pZWQnXG5dO1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfU0VTU0lPTl9DSEVDS19FWFBJUllfREFZUyA9IDE7XG4iLCJpbXBvcnQgJ2Fib3J0Y29udHJvbGxlci1wb2x5ZmlsbC9kaXN0L3VtZC1wb2x5ZmlsbCc7XG5pbXBvcnQgeyBNSVNTSU5HX1JFRlJFU0hfVE9LRU5fRVJST1JfTUVTU0FHRSB9IGZyb20gJy4vY29uc3RhbnRzJztcblxubGV0IHJlZnJlc2hUb2tlbnMgPSB7fTtcblxuY29uc3QgY2FjaGVLZXkgPSAoYXVkaWVuY2UsIHNjb3BlKSA9PiBgJHthdWRpZW5jZX18JHtzY29wZX1gO1xuXG5jb25zdCBnZXRSZWZyZXNoVG9rZW4gPSAoYXVkaWVuY2UsIHNjb3BlKSA9PlxuICByZWZyZXNoVG9rZW5zW2NhY2hlS2V5KGF1ZGllbmNlLCBzY29wZSldO1xuXG5jb25zdCBzZXRSZWZyZXNoVG9rZW4gPSAocmVmcmVzaFRva2VuLCBhdWRpZW5jZSwgc2NvcGUpID0+XG4gIChyZWZyZXNoVG9rZW5zW2NhY2hlS2V5KGF1ZGllbmNlLCBzY29wZSldID0gcmVmcmVzaFRva2VuKTtcblxuY29uc3QgZGVsZXRlUmVmcmVzaFRva2VuID0gKGF1ZGllbmNlLCBzY29wZSkgPT5cbiAgZGVsZXRlIHJlZnJlc2hUb2tlbnNbY2FjaGVLZXkoYXVkaWVuY2UsIHNjb3BlKV07XG5cbmNvbnN0IHdhaXQ6IGFueSA9IHRpbWUgPT4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIHRpbWUpKTtcblxuY29uc3QgbWVzc2FnZUhhbmRsZXIgPSBhc3luYyAoe1xuICBkYXRhOiB7IHVybCwgdGltZW91dCwgYXVkaWVuY2UsIHNjb3BlLCAuLi5vcHRzIH0sXG4gIHBvcnRzOiBbcG9ydF1cbn0pID0+IHtcbiAgbGV0IGpzb247XG4gIHRyeSB7XG4gICAgY29uc3QgYm9keSA9IEpTT04ucGFyc2Uob3B0cy5ib2R5KTtcbiAgICBpZiAoIWJvZHkucmVmcmVzaF90b2tlbiAmJiBib2R5LmdyYW50X3R5cGUgPT09ICdyZWZyZXNoX3Rva2VuJykge1xuICAgICAgY29uc3QgcmVmcmVzaFRva2VuID0gZ2V0UmVmcmVzaFRva2VuKGF1ZGllbmNlLCBzY29wZSk7XG4gICAgICBpZiAoIXJlZnJlc2hUb2tlbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoTUlTU0lOR19SRUZSRVNIX1RPS0VOX0VSUk9SX01FU1NBR0UpO1xuICAgICAgfVxuICAgICAgb3B0cy5ib2R5ID0gSlNPTi5zdHJpbmdpZnkoeyAuLi5ib2R5LCByZWZyZXNoX3Rva2VuOiByZWZyZXNoVG9rZW4gfSk7XG4gICAgfVxuXG4gICAgY29uc3QgYWJvcnRDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgIGNvbnN0IHsgc2lnbmFsIH0gPSBhYm9ydENvbnRyb2xsZXI7XG5cbiAgICBsZXQgcmVzcG9uc2U7XG4gICAgdHJ5IHtcbiAgICAgIHJlc3BvbnNlID0gYXdhaXQgUHJvbWlzZS5yYWNlKFtcbiAgICAgICAgd2FpdCh0aW1lb3V0KSxcbiAgICAgICAgZmV0Y2godXJsLCB7IC4uLm9wdHMsIHNpZ25hbCB9KVxuICAgICAgXSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIC8vIGZldGNoIGVycm9yLCByZWplY3QgYHNlbmRNZXNzYWdlYCB1c2luZyBgZXJyb3JgIGtleSBzbyB0aGF0IHdlIHJldHJ5LlxuICAgICAgcG9ydC5wb3N0TWVzc2FnZSh7XG4gICAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIXJlc3BvbnNlKSB7XG4gICAgICAvLyBJZiB0aGUgcmVxdWVzdCB0aW1lcyBvdXQsIGFib3J0IGl0IGFuZCBsZXQgYGZldGNoV2l0aFRpbWVvdXRgIHJhaXNlIHRoZSBlcnJvci5cbiAgICAgIGFib3J0Q29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGpzb24gPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICBpZiAoanNvbi5yZWZyZXNoX3Rva2VuKSB7XG4gICAgICBzZXRSZWZyZXNoVG9rZW4oanNvbi5yZWZyZXNoX3Rva2VuLCBhdWRpZW5jZSwgc2NvcGUpO1xuICAgICAgZGVsZXRlIGpzb24ucmVmcmVzaF90b2tlbjtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlUmVmcmVzaFRva2VuKGF1ZGllbmNlLCBzY29wZSk7XG4gICAgfVxuXG4gICAgcG9ydC5wb3N0TWVzc2FnZSh7XG4gICAgICBvazogcmVzcG9uc2Uub2ssXG4gICAgICBqc29uXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcG9ydC5wb3N0TWVzc2FnZSh7XG4gICAgICBvazogZmFsc2UsXG4gICAgICBqc29uOiB7XG4gICAgICAgIGVycm9yX2Rlc2NyaXB0aW9uOiBlcnJvci5tZXNzYWdlXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn07XG5cbi8vIERvbid0IHJ1biBgYWRkRXZlbnRMaXN0ZW5lcmAgaW4gb3VyIHRlc3RzICh0aGlzIGlzIHJlcGxhY2VkIGluIHJvbGx1cClcbi8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICAqL1xuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAndGVzdCcpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSB7IG1lc3NhZ2VIYW5kbGVyIH07XG59IGVsc2Uge1xuICAvLyBAdHMtaWdub3JlXG4gIGFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBtZXNzYWdlSGFuZGxlcik7XG59XG4iXSwibmFtZXMiOlsiX19hc3NpZ24iLCJPYmplY3QiLCJhc3NpZ24iLCJ0IiwicyIsImkiLCJuIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwicCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImFwcGx5IiwidGhpcyIsIl9fZ2VuZXJhdG9yIiwidGhpc0FyZyIsImJvZHkiLCJmIiwieSIsImciLCJfIiwibGFiZWwiLCJzZW50IiwidHJ5cyIsIm9wcyIsIm5leHQiLCJ2ZXJiIiwidGhyb3ciLCJyZXR1cm4iLCJTeW1ib2wiLCJpdGVyYXRvciIsInYiLCJvcCIsIlR5cGVFcnJvciIsImRvbmUiLCJ2YWx1ZSIsInBvcCIsInB1c2giLCJlIiwic3RlcCIsIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJfZGVmaW5lUHJvcGVydGllcyIsInRhcmdldCIsInByb3BzIiwiZGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsImRlZmluZVByb3BlcnR5Iiwia2V5IiwiX2NyZWF0ZUNsYXNzIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiX2luaGVyaXRzIiwic3ViQ2xhc3MiLCJzdXBlckNsYXNzIiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJfc2V0UHJvdG90eXBlT2YiLCJfZ2V0UHJvdG90eXBlT2YiLCJvIiwic2V0UHJvdG90eXBlT2YiLCJnZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIl9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QiLCJSZWZsZWN0IiwiY29uc3RydWN0Iiwic2hhbSIsIlByb3h5IiwiRGF0ZSIsInRvU3RyaW5nIiwiX2Fzc2VydFRoaXNJbml0aWFsaXplZCIsInNlbGYiLCJSZWZlcmVuY2VFcnJvciIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwiX2NyZWF0ZVN1cGVyIiwiRGVyaXZlZCIsImhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QiLCJyZXN1bHQiLCJTdXBlciIsIk5ld1RhcmdldCIsIl9zdXBlclByb3BCYXNlIiwib2JqZWN0IiwicHJvcGVydHkiLCJfZ2V0IiwicmVjZWl2ZXIiLCJnZXQiLCJiYXNlIiwiZGVzYyIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsIkVtaXR0ZXIiLCJ0eXBlIiwiY2FsbGJhY2siLCJsaXN0ZW5lcnMiLCJzdGFjayIsImwiLCJzcGxpY2UiLCJldmVudCIsIl90aGlzIiwiZGVib3VuY2UiLCJzZXRUaW1lb3V0IiwiZGVmYXVsdFByZXZlbnRlZCIsIkFib3J0U2lnbmFsIiwiX0VtaXR0ZXIiLCJfc3VwZXIiLCJfdGhpczIiLCJhYm9ydGVkIiwib25hYm9ydCIsIkFib3J0Q29udHJvbGxlciIsIkV2ZW50IiwiZG9jdW1lbnQiLCJjcmVhdGVFdmVudCIsImluaXRFdmVudCIsImNyZWF0ZUV2ZW50T2JqZWN0IiwiYnViYmxlcyIsImNhbmNlbGFibGUiLCJzaWduYWwiLCJkaXNwYXRjaEV2ZW50IiwicG9seWZpbGxOZWVkZWQiLCJfX0ZPUkNFX0lOU1RBTExfQUJPUlRDT05UUk9MTEVSX1BPTFlGSUxMIiwiY29uc29sZSIsImxvZyIsIlJlcXVlc3QiLCJhYm9ydGFibGVGZXRjaERlY29yYXRvciIsInBhdGNoVGFyZ2V0cyIsImZldGNoIiwiX3BhdGNoVGFyZ2V0cyIsIl9wYXRjaFRhcmdldHMkUmVxdWVzdCIsIk5hdGl2ZVJlcXVlc3QiLCJOYXRpdmVBYm9ydENvbnRyb2xsZXIiLCJfcGF0Y2hUYXJnZXRzJF9fRk9SQ0UiLCJpbnB1dCIsImluaXQiLCJyZXF1ZXN0IiwicmVhbEZldGNoIiwiaXNQcm90b3R5cGVPZiIsInVuZGVmaW5lZCIsImFib3J0RXJyb3IiLCJET01FeGNlcHRpb24iLCJlcnIiLCJFcnJvciIsIm5hbWUiLCJQcm9taXNlIiwicmVqZWN0IiwiY2FuY2VsbGF0aW9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm9uY2UiLCJyYWNlIiwidG9TdHJpbmdUYWciLCJfYWJvcnRhYmxlRmV0Y2giLCJ3YXJuIiwiZ2xvYmFsIiwiZmFjdG9yeSIsInJlZnJlc2hUb2tlbnMiLCJjYWNoZUtleSIsImF1ZGllbmNlIiwic2NvcGUiLCJfYSIsIl9hcmd1bWVudHMiLCJQIiwiZ2VuZXJhdG9yIiwiX2IiLCJ1cmwiLCJ0aW1lb3V0Iiwib3B0cyIsImluZGV4T2YiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsInBvcnQiLCJKU09OIiwicGFyc2UiLCJyZWZyZXNoX3Rva2VuIiwiZ3JhbnRfdHlwZSIsInJlZnJlc2hUb2tlbiIsImdldFJlZnJlc2hUb2tlbiIsInN0cmluZ2lmeSIsImFib3J0Q29udHJvbGxlciIsInJlc3BvbnNlIiwidGltZSIsInJlc29sdmUiLCJfYyIsInBvc3RNZXNzYWdlIiwiZXJyb3IiLCJlcnJvcl8xIiwibWVzc2FnZSIsImpzb24iLCJhYm9ydCIsInNldFJlZnJlc2hUb2tlbiIsImRlbGV0ZVJlZnJlc2hUb2tlbiIsIm9rIiwiZXJyb3JfZGVzY3JpcHRpb24iLCJlcnJvcl8yIiwiZnVsZmlsbGVkIiwicmVqZWN0ZWQiLCJ0aGVuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQTZCTyxJQUFJQSxFQUFXLFdBUWxCLE9BUEFBLEVBQVdDLE9BQU9DLFFBQVUsU0FBa0JDLEdBQzFDLElBQUss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",!1,function(t){return or=or||function(t,e,i){var n=void 0===e?null:e,c=function(t,e){var i=atob(t);if(e){for(var n=new Uint8Array(i.length),c=0,r=i.length;c<r;++c)n[c]=i.charCodeAt(c);return String.fromCharCode.apply(null,new Uint16Array(n.buffer))}return i}(t,void 0!==i&&i),r=c.indexOf("\n",10)+1,l=c.substring(r)+(n?"//# sourceMappingURL="+n:""),o=new Blob([l],{type:"application/javascript"});return URL.createObjectURL(o)}("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwovKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuCkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOyB5b3UgbWF5IG5vdCB1c2UKdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUKTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKClRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRApXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLApNRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULgoKU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zCmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi8KdmFyIGU9ZnVuY3Rpb24oKXtyZXR1cm4oZT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQsbj0xLHI9YXJndW1lbnRzLmxlbmd0aDtuPHI7bisrKWZvcih2YXIgbyBpbiB0PWFyZ3VtZW50c1tuXSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxvKSYmKGVbb109dFtvXSk7cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2Z1bmN0aW9uIHQoZSx0KXt2YXIgbixyLG8saSxhPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJm9bMF0pdGhyb3cgb1sxXTtyZXR1cm4gb1sxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBpPXtuZXh0OmwoMCksdGhyb3c6bCgxKSxyZXR1cm46bCgyKX0sImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmKGlbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSksaTtmdW5jdGlvbiBsKGkpe3JldHVybiBmdW5jdGlvbihsKXtyZXR1cm4gZnVuY3Rpb24oaSl7aWYobil0aHJvdyBuZXcgVHlwZUVycm9yKCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuIik7Zm9yKDthOyl0cnl7aWYobj0xLHImJihvPTImaVswXT9yLnJldHVybjppWzBdP3IudGhyb3d8fCgobz1yLnJldHVybikmJm8uY2FsbChyKSwwKTpyLm5leHQpJiYhKG89by5jYWxsKHIsaVsxXSkpLmRvbmUpcmV0dXJuIG87c3dpdGNoKHI9MCxvJiYoaT1bMiZpWzBdLG8udmFsdWVdKSxpWzBdKXtjYXNlIDA6Y2FzZSAxOm89aTticmVhaztjYXNlIDQ6cmV0dXJuIGEubGFiZWwrKyx7dmFsdWU6aVsxXSxkb25lOiExfTtjYXNlIDU6YS5sYWJlbCsrLHI9aVsxXSxpPVswXTtjb250aW51ZTtjYXNlIDc6aT1hLm9wcy5wb3AoKSxhLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKG89YS50cnlzLChvPW8ubGVuZ3RoPjAmJm9bby5sZW5ndGgtMV0pfHw2IT09aVswXSYmMiE9PWlbMF0pKXthPTA7Y29udGludWV9aWYoMz09PWlbMF0mJighb3x8aVsxXT5vWzBdJiZpWzFdPG9bM10pKXthLmxhYmVsPWlbMV07YnJlYWt9aWYoNj09PWlbMF0mJmEubGFiZWw8b1sxXSl7YS5sYWJlbD1vWzFdLG89aTticmVha31pZihvJiZhLmxhYmVsPG9bMl0pe2EubGFiZWw9b1syXSxhLm9wcy5wdXNoKGkpO2JyZWFrfW9bMl0mJmEub3BzLnBvcCgpLGEudHJ5cy5wb3AoKTtjb250aW51ZX1pPXQuY2FsbChlLGEpfWNhdGNoKGUpe2k9WzYsZV0scj0wfWZpbmFsbHl7bj1vPTB9aWYoNSZpWzBdKXRocm93IGlbMV07cmV0dXJue3ZhbHVlOmlbMF0/aVsxXTp2b2lkIDAsZG9uZTohMH19KFtpLGxdKX19fXZhciBuPSJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsVGhpcz9nbG9iYWxUaGlzOiJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6e307IWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfWZ1bmN0aW9uIHQoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIHI9dFtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHIua2V5LHIpfX1mdW5jdGlvbiByKGUsbixyKXtyZXR1cm4gbiYmdChlLnByb3RvdHlwZSxuKSxyJiZ0KGUsciksZX1mdW5jdGlvbiBvKGUsdCl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uIik7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJmEoZSx0KX1mdW5jdGlvbiBpKGUpe3JldHVybihpPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3QuZ2V0UHJvdG90eXBlT2Y6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSl9KShlKX1mdW5jdGlvbiBhKGUsdCl7cmV0dXJuKGE9T2JqZWN0LnNldFByb3RvdHlwZU9mfHxmdW5jdGlvbihlLHQpe3JldHVybiBlLl9fcHJvdG9fXz10LGV9KShlLHQpfWZ1bmN0aW9uIGwoKXtpZigidW5kZWZpbmVkIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoRGF0ZSxbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKGUpe3JldHVybiExfX1mdW5jdGlvbiB1KGUpe2lmKHZvaWQgMD09PWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTtyZXR1cm4gZX1mdW5jdGlvbiBjKGUsdCl7cmV0dXJuIXR8fCJvYmplY3QiIT10eXBlb2YgdCYmImZ1bmN0aW9uIiE9dHlwZW9mIHQ/dShlKTp0fWZ1bmN0aW9uIHMoZSl7dmFyIHQ9bCgpO3JldHVybiBmdW5jdGlvbigpe3ZhciBuLHI9aShlKTtpZih0KXt2YXIgbz1pKHRoaXMpLmNvbnN0cnVjdG9yO249UmVmbGVjdC5jb25zdHJ1Y3Qocixhcmd1bWVudHMsbyl9ZWxzZSBuPXIuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBjKHRoaXMsbil9fWZ1bmN0aW9uIGYoZSx0KXtmb3IoOyFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KSYmbnVsbCE9PShlPWkoZSkpOyk7cmV0dXJuIGV9ZnVuY3Rpb24gcChlLHQsbil7cmV0dXJuKHA9InVuZGVmaW5lZCIhPXR5cGVvZiBSZWZsZWN0JiZSZWZsZWN0LmdldD9SZWZsZWN0LmdldDpmdW5jdGlvbihlLHQsbil7dmFyIHI9ZihlLHQpO2lmKHIpe3ZhciBvPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iocix0KTtyZXR1cm4gby5nZXQ/by5nZXQuY2FsbChuKTpvLnZhbHVlfX0pKGUsdCxufHxlKX12YXIgYj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXtlKHRoaXMsdCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsImxpc3RlbmVycyIse3ZhbHVlOnt9LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pfXJldHVybiByKHQsW3trZXk6ImFkZEV2ZW50TGlzdGVuZXIiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7ZSBpbiB0aGlzLmxpc3RlbmVyc3x8KHRoaXMubGlzdGVuZXJzW2VdPVtdKSx0aGlzLmxpc3RlbmVyc1tlXS5wdXNoKHQpfX0se2tleToicmVtb3ZlRXZlbnRMaXN0ZW5lciIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtpZihlIGluIHRoaXMubGlzdGVuZXJzKWZvcih2YXIgbj10aGlzLmxpc3RlbmVyc1tlXSxyPTAsbz1uLmxlbmd0aDtyPG87cisrKWlmKG5bcl09PT10KXJldHVybiB2b2lkIG4uc3BsaWNlKHIsMSl9fSx7a2V5OiJkaXNwYXRjaEV2ZW50Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKGUudHlwZSBpbiB0aGlzLmxpc3RlbmVycyl7Zm9yKHZhciBuPWZ1bmN0aW9uKG4pe3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cmV0dXJuIG4uY2FsbCh0LGUpfSkpfSxyPXRoaXMubGlzdGVuZXJzW2UudHlwZV0sbz0wLGk9ci5sZW5ndGg7bzxpO28rKyluKHJbb10pO3JldHVybiFlLmRlZmF1bHRQcmV2ZW50ZWR9fX1dKSx0fSgpLHk9ZnVuY3Rpb24odCl7byhhLHQpO3ZhciBuPXMoYSk7ZnVuY3Rpb24gYSgpe3ZhciB0O3JldHVybiBlKHRoaXMsYSksKHQ9bi5jYWxsKHRoaXMpKS5saXN0ZW5lcnN8fGIuY2FsbCh1KHQpKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodSh0KSwiYWJvcnRlZCIse3ZhbHVlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh1KHQpLCJvbmFib3J0Iix7dmFsdWU6bnVsbCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0fXJldHVybiByKGEsW3trZXk6InRvU3RyaW5nIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiJbb2JqZWN0IEFib3J0U2lnbmFsXSJ9fSx7a2V5OiJkaXNwYXRjaEV2ZW50Iix2YWx1ZTpmdW5jdGlvbihlKXsiYWJvcnQiPT09ZS50eXBlJiYodGhpcy5hYm9ydGVkPSEwLCJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzLm9uYWJvcnQmJnRoaXMub25hYm9ydC5jYWxsKHRoaXMsZSkpLHAoaShhLnByb3RvdHlwZSksImRpc3BhdGNoRXZlbnQiLHRoaXMpLmNhbGwodGhpcyxlKX19XSksYX0oYiksaD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXtlKHRoaXMsdCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsInNpZ25hbCIse3ZhbHVlOm5ldyB5LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pfXJldHVybiByKHQsW3trZXk6ImFib3J0Iix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlO3RyeXtlPW5ldyBFdmVudCgiYWJvcnQiKX1jYXRjaCh0KXsidW5kZWZpbmVkIiE9dHlwZW9mIGRvY3VtZW50P2RvY3VtZW50LmNyZWF0ZUV2ZW50PyhlPWRvY3VtZW50LmNyZWF0ZUV2ZW50KCJFdmVudCIpKS5pbml0RXZlbnQoImFib3J0IiwhMSwhMSk6KGU9ZG9jdW1lbnQuY3JlYXRlRXZlbnRPYmplY3QoKSkudHlwZT0iYWJvcnQiOmU9e3R5cGU6ImFib3J0IixidWJibGVzOiExLGNhbmNlbGFibGU6ITF9fXRoaXMuc2lnbmFsLmRpc3BhdGNoRXZlbnQoZSl9fSx7a2V5OiJ0b1N0cmluZyIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4iW29iamVjdCBBYm9ydENvbnRyb2xsZXJdIn19XSksdH0oKTtmdW5jdGlvbiB2KGUpe3JldHVybiBlLl9fRk9SQ0VfSU5TVEFMTF9BQk9SVENPTlRST0xMRVJfUE9MWUZJTEw/KGNvbnNvbGUubG9nKCJfX0ZPUkNFX0lOU1RBTExfQUJPUlRDT05UUk9MTEVSX1BPTFlGSUxMPXRydWUgaXMgc2V0LCB3aWxsIGZvcmNlIGluc3RhbGwgcG9seWZpbGwiKSwhMCk6ImZ1bmN0aW9uIj09dHlwZW9mIGUuUmVxdWVzdCYmIWUuUmVxdWVzdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkoInNpZ25hbCIpfHwhZS5BYm9ydENvbnRyb2xsZXJ9ZnVuY3Rpb24gZChlKXsiZnVuY3Rpb24iPT10eXBlb2YgZSYmKGU9e2ZldGNoOmV9KTt2YXIgdD1lLG49dC5mZXRjaCxyPXQuUmVxdWVzdCxvPXZvaWQgMD09PXI/bi5SZXF1ZXN0OnIsaT10LkFib3J0Q29udHJvbGxlcixhPXQuX19GT1JDRV9JTlNUQUxMX0FCT1JUQ09OVFJPTExFUl9QT0xZRklMTCxsPXZvaWQgMCE9PWEmJmE7aWYoIXYoe2ZldGNoOm4sUmVxdWVzdDpvLEFib3J0Q29udHJvbGxlcjppLF9fRk9SQ0VfSU5TVEFMTF9BQk9SVENPTlRST0xMRVJfUE9MWUZJTEw6bH0pKXJldHVybntmZXRjaDpuLFJlcXVlc3Q6dX07dmFyIHU9bzsodSYmIXUucHJvdG90eXBlLmhhc093blByb3BlcnR5KCJzaWduYWwiKXx8bCkmJigodT1mdW5jdGlvbihlLHQpe3ZhciBuO3QmJnQuc2lnbmFsJiYobj10LnNpZ25hbCxkZWxldGUgdC5zaWduYWwpO3ZhciByPW5ldyBvKGUsdCk7cmV0dXJuIG4mJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJzaWduYWwiLHt3cml0YWJsZTohMSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMCx2YWx1ZTpufSkscn0pLnByb3RvdHlwZT1vLnByb3RvdHlwZSk7dmFyIGM9bjtyZXR1cm57ZmV0Y2g6ZnVuY3Rpb24oZSx0KXt2YXIgbj11JiZ1LnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGUpP2Uuc2lnbmFsOnQ/dC5zaWduYWw6dm9pZCAwO2lmKG4pe3ZhciByO3RyeXtyPW5ldyBET01FeGNlcHRpb24oIkFib3J0ZWQiLCJBYm9ydEVycm9yIil9Y2F0Y2goZSl7KHI9bmV3IEVycm9yKCJBYm9ydGVkIikpLm5hbWU9IkFib3J0RXJyb3IifWlmKG4uYWJvcnRlZClyZXR1cm4gUHJvbWlzZS5yZWplY3Qocik7dmFyIG89bmV3IFByb21pc2UoKGZ1bmN0aW9uKGUsdCl7bi5hZGRFdmVudExpc3RlbmVyKCJhYm9ydCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHQocil9KSx7b25jZTohMH0pfSkpO3JldHVybiB0JiZ0LnNpZ25hbCYmZGVsZXRlIHQuc2lnbmFsLFByb21pc2UucmFjZShbbyxjKGUsdCldKX1yZXR1cm4gYyhlLHQpfSxSZXF1ZXN0OnV9fSJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJihoLnByb3RvdHlwZVtTeW1ib2wudG9TdHJpbmdUYWddPSJBYm9ydENvbnRyb2xsZXIiLHkucHJvdG90eXBlW1N5bWJvbC50b1N0cmluZ1RhZ109IkFib3J0U2lnbmFsIiksZnVuY3Rpb24oZSl7aWYodihlKSlpZihlLmZldGNoKXt2YXIgdD1kKGUpLG49dC5mZXRjaCxyPXQuUmVxdWVzdDtlLmZldGNoPW4sZS5SZXF1ZXN0PXIsT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkFib3J0Q29udHJvbGxlciIse3dyaXRhYmxlOiEwLGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwLHZhbHVlOmh9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiQWJvcnRTaWduYWwiLHt3cml0YWJsZTohMCxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMCx2YWx1ZTp5fSl9ZWxzZSBjb25zb2xlLndhcm4oImZldGNoKCkgaXMgbm90IGF2YWlsYWJsZSwgY2Fubm90IGluc3RhbGwgYWJvcnRjb250cm9sbGVyLXBvbHlmaWxsIil9KCJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOm4pfSgpO3ZhciByPXt9LG89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSsifCIrdH07YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGZ1bmN0aW9uKG4pe3ZhciBpLGEsbCx1LGMscyxmLHAsYix5LGg7cmV0dXJuIHA9dm9pZCAwLGI9dm9pZCAwLGg9ZnVuY3Rpb24oKXt2YXIgcCxiLHksaCx2LGQsZyxPO3JldHVybiB0KHRoaXMsKGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6aT1uLmRhdGEsYT1pLnVybCxsPWkudGltZW91dCx1PWkuYXVkaWVuY2UsYz1pLnNjb3BlLHM9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmdC5pbmRleE9mKHIpPDAmJihuW3JdPWVbcl0pO2lmKG51bGwhPWUmJiJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz0wO2ZvcihyPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7bzxyLmxlbmd0aDtvKyspdC5pbmRleE9mKHJbb10pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLHJbb10pJiYobltyW29dXT1lW3Jbb11dKX1yZXR1cm4gbn0oaSxbInVybCIsInRpbWVvdXQiLCJhdWRpZW5jZSIsInNjb3BlIl0pLGY9bi5wb3J0c1swXSx0LmxhYmVsPTE7Y2FzZSAxOmlmKHQudHJ5cy5wdXNoKFsxLDcsLDhdKSwhKGI9SlNPTi5wYXJzZShzLmJvZHkpKS5yZWZyZXNoX3Rva2VuJiYicmVmcmVzaF90b2tlbiI9PT1iLmdyYW50X3R5cGUpe2lmKCEoeT1mdW5jdGlvbihlLHQpe3JldHVybiByW28oZSx0KV19KHUsYykpKXRocm93IG5ldyBFcnJvcigiVGhlIHdlYiB3b3JrZXIgaXMgbWlzc2luZyB0aGUgcmVmcmVzaCB0b2tlbiIpO3MuYm9keT1KU09OLnN0cmluZ2lmeShlKGUoe30sYikse3JlZnJlc2hfdG9rZW46eX0pKX1oPW5ldyBBYm9ydENvbnRyb2xsZXIsdj1oLnNpZ25hbCxkPXZvaWQgMCx0LmxhYmVsPTI7Y2FzZSAyOnJldHVybiB0LnRyeXMucHVzaChbMiw0LCw1XSksWzQsUHJvbWlzZS5yYWNlKFsodz1sLG5ldyBQcm9taXNlKChmdW5jdGlvbihlKXtyZXR1cm4gc2V0VGltZW91dChlLHcpfSkpKSxmZXRjaChhLGUoZSh7fSxzKSx7c2lnbmFsOnZ9KSldKV07Y2FzZSAzOnJldHVybiBkPXQuc2VudCgpLFszLDVdO2Nhc2UgNDpyZXR1cm4gZz10LnNlbnQoKSxmLnBvc3RNZXNzYWdlKHtlcnJvcjpnLm1lc3NhZ2V9KSxbMl07Y2FzZSA1OnJldHVybiBkP1s0LGQuanNvbigpXTooaC5hYm9ydCgpLFsyXSk7Y2FzZSA2OnJldHVybihwPXQuc2VudCgpKS5yZWZyZXNoX3Rva2VuPyhmdW5jdGlvbihlLHQsbil7cltvKHQsbildPWV9KHAucmVmcmVzaF90b2tlbix1LGMpLGRlbGV0ZSBwLnJlZnJlc2hfdG9rZW4pOmZ1bmN0aW9uKGUsdCl7ZGVsZXRlIHJbbyhlLHQpXX0odSxjKSxmLnBvc3RNZXNzYWdlKHtvazpkLm9rLGpzb246cH0pLFszLDhdO2Nhc2UgNzpyZXR1cm4gTz10LnNlbnQoKSxmLnBvc3RNZXNzYWdlKHtvazohMSxqc29uOntlcnJvcl9kZXNjcmlwdGlvbjpPLm1lc3NhZ2V9fSksWzMsOF07Y2FzZSA4OnJldHVyblsyXX12YXIgd30pKX0sbmV3KCh5PXZvaWQgMCl8fCh5PVByb21pc2UpKSgoZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKGUpe3RyeXtvKGgubmV4dChlKSl9Y2F0Y2goZSl7dChlKX19ZnVuY3Rpb24gcihlKXt0cnl7byhoLnRocm93KGUpKX1jYXRjaChlKXt0KGUpfX1mdW5jdGlvbiBvKHQpe3QuZG9uZT9lKHQudmFsdWUpOm5ldyB5KChmdW5jdGlvbihlKXtlKHQudmFsdWUpfSkpLnRoZW4obixyKX1vKChoPWguYXBwbHkocCxifHxbXSkpLm5leHQoKSl9KSl9KSk7Cgo=","data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidG9rZW4ud29ya2VyLmpzIiwic291cmNlcyI6WyJ3b3JrZXI6Ly93ZWItd29ya2VyL25vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYuanMiLCJ3b3JrZXI6Ly93ZWItd29ya2VyL25vZGVfbW9kdWxlcy9hYm9ydGNvbnRyb2xsZXItcG9seWZpbGwvZGlzdC91bWQtcG9seWZpbGwuanMiLCJ3b3JrZXI6Ly93ZWItd29ya2VyL3NyYy9jb25zdGFudHMudHMiLCJ3b3JrZXI6Ly93ZWItd29ya2VyL3NyYy90b2tlbi53b3JrZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3Jlc3QocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxyXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICAgICAgfVxyXG4gICAgcmV0dXJuIHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2RlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19wYXJhbShwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSkge1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUocmVzdWx0LnZhbHVlKTsgfSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcclxuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XHJcbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4cG9ydFN0YXIobSwgZXhwb3J0cykge1xyXG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX192YWx1ZXMobykge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdLCBpID0gMDtcclxuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcclxuICAgIGlmICghbSkgcmV0dXJuIG87XHJcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xyXG4gICAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheXMoKSB7XHJcbiAgICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcclxuICAgIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcclxuICAgICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcclxuICAgICAgICAgICAgcltrXSA9IGFbal07XHJcbiAgICByZXR1cm4gcjtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0KHYpIHtcclxuICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlmIChnW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKHIpIHsgci52YWx1ZSBpbnN0YW5jZW9mIF9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7IH1cclxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNEZWxlZ2F0b3Iobykge1xyXG4gICAgdmFyIGksIHA7XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlbbl0gPSBvW25dID8gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChwID0gIXApID8geyB2YWx1ZTogX19hd2FpdChvW25dKHYpKSwgZG9uZTogbiA9PT0gXCJyZXR1cm5cIiB9IDogZiA/IGYodikgOiB2OyB9IDogZjsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcclxuICAgIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpW25dID0gb1tuXSAmJiBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2ID0gb1tuXSh2KSwgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgdi5kb25lLCB2LnZhbHVlKTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XHJcbiAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxyXG4gICAgcmV0dXJuIGNvb2tlZDtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XHJcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xyXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIHJlc3VsdFtrXSA9IG1vZFtrXTtcclxuICAgIHJlc3VsdC5kZWZhdWx0ID0gbW9kO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgZGVmYXVsdDogbW9kIH07XHJcbn1cclxuIiwiKGZ1bmN0aW9uIChmYWN0b3J5KSB7XG4gIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShmYWN0b3J5KSA6XG4gIGZhY3RvcnkoKTtcbn0oKGZ1bmN0aW9uICgpIHsgJ3VzZSBzdHJpY3QnO1xuXG4gIGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICAgIGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICAgIGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgICByZXR1cm4gQ29uc3RydWN0b3I7XG4gIH1cblxuICBmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7XG4gICAgfVxuXG4gICAgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7XG4gICAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgICB2YWx1ZTogc3ViQ2xhc3MsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7XG4gICAgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHtcbiAgICAgIHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7XG4gICAgfTtcbiAgICByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pO1xuICB9XG5cbiAgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHtcbiAgICBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHtcbiAgICAgIG8uX19wcm90b19fID0gcDtcbiAgICAgIHJldHVybiBvO1xuICAgIH07XG5cbiAgICByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApO1xuICB9XG5cbiAgZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHtcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTtcbiAgICBpZiAodHlwZW9mIFByb3h5ID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiB0cnVlO1xuXG4gICAgdHJ5IHtcbiAgICAgIERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoRGF0ZSwgW10sIGZ1bmN0aW9uICgpIHt9KSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7XG4gICAgaWYgKHNlbGYgPT09IHZvaWQgMCkge1xuICAgICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO1xuICAgIH1cblxuICAgIHJldHVybiBzZWxmO1xuICB9XG5cbiAgZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkge1xuICAgIGlmIChjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSkge1xuICAgICAgcmV0dXJuIGNhbGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7XG4gIH1cblxuICBmdW5jdGlvbiBfY3JlYXRlU3VwZXIoRGVyaXZlZCkge1xuICAgIHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIF9jcmVhdGVTdXBlckludGVybmFsKCkge1xuICAgICAgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLFxuICAgICAgICAgIHJlc3VsdDtcblxuICAgICAgaWYgKGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QpIHtcbiAgICAgICAgdmFyIE5ld1RhcmdldCA9IF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjtcblxuICAgICAgICByZXN1bHQgPSBSZWZsZWN0LmNvbnN0cnVjdChTdXBlciwgYXJndW1lbnRzLCBOZXdUYXJnZXQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9zdXBlclByb3BCYXNlKG9iamVjdCwgcHJvcGVydHkpIHtcbiAgICB3aGlsZSAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KSkge1xuICAgICAgb2JqZWN0ID0gX2dldFByb3RvdHlwZU9mKG9iamVjdCk7XG4gICAgICBpZiAob2JqZWN0ID09PSBudWxsKSBicmVhaztcbiAgICB9XG5cbiAgICByZXR1cm4gb2JqZWN0O1xuICB9XG5cbiAgZnVuY3Rpb24gX2dldCh0YXJnZXQsIHByb3BlcnR5LCByZWNlaXZlcikge1xuICAgIGlmICh0eXBlb2YgUmVmbGVjdCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBSZWZsZWN0LmdldCkge1xuICAgICAgX2dldCA9IFJlZmxlY3QuZ2V0O1xuICAgIH0gZWxzZSB7XG4gICAgICBfZ2V0ID0gZnVuY3Rpb24gX2dldCh0YXJnZXQsIHByb3BlcnR5LCByZWNlaXZlcikge1xuICAgICAgICB2YXIgYmFzZSA9IF9zdXBlclByb3BCYXNlKHRhcmdldCwgcHJvcGVydHkpO1xuXG4gICAgICAgIGlmICghYmFzZSkgcmV0dXJuO1xuICAgICAgICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYmFzZSwgcHJvcGVydHkpO1xuXG4gICAgICAgIGlmIChkZXNjLmdldCkge1xuICAgICAgICAgIHJldHVybiBkZXNjLmdldC5jYWxsKHJlY2VpdmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBkZXNjLnZhbHVlO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gX2dldCh0YXJnZXQsIHByb3BlcnR5LCByZWNlaXZlciB8fCB0YXJnZXQpO1xuICB9XG5cbiAgdmFyIEVtaXR0ZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEVtaXR0ZXIoKSB7XG4gICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRW1pdHRlcik7XG5cbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnbGlzdGVuZXJzJywge1xuICAgICAgICB2YWx1ZToge30sXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhFbWl0dGVyLCBbe1xuICAgICAga2V5OiBcImFkZEV2ZW50TGlzdGVuZXJcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRFdmVudExpc3RlbmVyKHR5cGUsIGNhbGxiYWNrKSB7XG4gICAgICAgIGlmICghKHR5cGUgaW4gdGhpcy5saXN0ZW5lcnMpKSB7XG4gICAgICAgICAgdGhpcy5saXN0ZW5lcnNbdHlwZV0gPSBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubGlzdGVuZXJzW3R5cGVdLnB1c2goY2FsbGJhY2spO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJyZW1vdmVFdmVudExpc3RlbmVyXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBjYWxsYmFjaykge1xuICAgICAgICBpZiAoISh0eXBlIGluIHRoaXMubGlzdGVuZXJzKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzdGFjayA9IHRoaXMubGlzdGVuZXJzW3R5cGVdO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gc3RhY2subGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgaWYgKHN0YWNrW2ldID09PSBjYWxsYmFjaykge1xuICAgICAgICAgICAgc3RhY2suc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogXCJkaXNwYXRjaEV2ZW50XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZGlzcGF0Y2hFdmVudChldmVudCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgIGlmICghKGV2ZW50LnR5cGUgaW4gdGhpcy5saXN0ZW5lcnMpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGRlYm91bmNlID0gZnVuY3Rpb24gZGVib3VuY2UoY2FsbGJhY2spIHtcbiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjay5jYWxsKF90aGlzLCBldmVudCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIHN0YWNrID0gdGhpcy5saXN0ZW5lcnNbZXZlbnQudHlwZV07XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBzdGFjay5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICBkZWJvdW5jZShzdGFja1tpXSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gIWV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQ7XG4gICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIEVtaXR0ZXI7XG4gIH0oKTtcblxuICB2YXIgQWJvcnRTaWduYWwgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9FbWl0dGVyKSB7XG4gICAgX2luaGVyaXRzKEFib3J0U2lnbmFsLCBfRW1pdHRlcik7XG5cbiAgICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKEFib3J0U2lnbmFsKTtcblxuICAgIGZ1bmN0aW9uIEFib3J0U2lnbmFsKCkge1xuICAgICAgdmFyIF90aGlzMjtcblxuICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFib3J0U2lnbmFsKTtcblxuICAgICAgX3RoaXMyID0gX3N1cGVyLmNhbGwodGhpcyk7IC8vIFNvbWUgdmVyc2lvbnMgb2YgYmFiZWwgZG9lcyBub3QgdHJhbnNwaWxlIHN1cGVyKCkgY29ycmVjdGx5IGZvciBJRSA8PSAxMCwgaWYgdGhlIHBhcmVudFxuICAgICAgLy8gY29uc3RydWN0b3IgaGFzIGZhaWxlZCB0byBydW4sIHRoZW4gXCJ0aGlzLmxpc3RlbmVyc1wiIHdpbGwgc3RpbGwgYmUgdW5kZWZpbmVkIGFuZCB0aGVuIHdlIGNhbGxcbiAgICAgIC8vIHRoZSBwYXJlbnQgY29uc3RydWN0b3IgZGlyZWN0bHkgaW5zdGVhZCBhcyBhIHdvcmthcm91bmQuIEZvciBnZW5lcmFsIGRldGFpbHMsIHNlZSBiYWJlbCBidWc6XG4gICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vYmFiZWwvYmFiZWwvaXNzdWVzLzMwNDFcbiAgICAgIC8vIFRoaXMgaGFjayB3YXMgYWRkZWQgYXMgYSBmaXggZm9yIHRoZSBpc3N1ZSBkZXNjcmliZWQgaGVyZTpcbiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9GaW5hbmNpYWwtVGltZXMvcG9seWZpbGwtbGlicmFyeS9wdWxsLzU5I2lzc3VlY29tbWVudC00Nzc1NTgwNDJcblxuICAgICAgaWYgKCFfdGhpczIubGlzdGVuZXJzKSB7XG4gICAgICAgIEVtaXR0ZXIuY2FsbChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzMikpO1xuICAgICAgfSAvLyBDb21wYXJlZCB0byBhc3NpZ25tZW50LCBPYmplY3QuZGVmaW5lUHJvcGVydHkgbWFrZXMgcHJvcGVydGllcyBub24tZW51bWVyYWJsZSBieSBkZWZhdWx0IGFuZFxuICAgICAgLy8gd2Ugd2FudCBPYmplY3Qua2V5cyhuZXcgQWJvcnRDb250cm9sbGVyKCkuc2lnbmFsKSB0byBiZSBbXSBmb3IgY29tcGF0IHdpdGggdGhlIG5hdGl2ZSBpbXBsXG5cblxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMyKSwgJ2Fib3J0ZWQnLCB7XG4gICAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpczIpLCAnb25hYm9ydCcsIHtcbiAgICAgICAgdmFsdWU6IG51bGwsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIF90aGlzMjtcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoQWJvcnRTaWduYWwsIFt7XG4gICAgICBrZXk6IFwidG9TdHJpbmdcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuICdbb2JqZWN0IEFib3J0U2lnbmFsXSc7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcImRpc3BhdGNoRXZlbnRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBkaXNwYXRjaEV2ZW50KGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC50eXBlID09PSAnYWJvcnQnKSB7XG4gICAgICAgICAgdGhpcy5hYm9ydGVkID0gdHJ1ZTtcblxuICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5vbmFib3J0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aGlzLm9uYWJvcnQuY2FsbCh0aGlzLCBldmVudCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgX2dldChfZ2V0UHJvdG90eXBlT2YoQWJvcnRTaWduYWwucHJvdG90eXBlKSwgXCJkaXNwYXRjaEV2ZW50XCIsIHRoaXMpLmNhbGwodGhpcywgZXZlbnQpO1xuICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBBYm9ydFNpZ25hbDtcbiAgfShFbWl0dGVyKTtcbiAgdmFyIEFib3J0Q29udHJvbGxlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQWJvcnRDb250cm9sbGVyKCkge1xuICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFib3J0Q29udHJvbGxlcik7XG5cbiAgICAgIC8vIENvbXBhcmVkIHRvIGFzc2lnbm1lbnQsIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSBtYWtlcyBwcm9wZXJ0aWVzIG5vbi1lbnVtZXJhYmxlIGJ5IGRlZmF1bHQgYW5kXG4gICAgICAvLyB3ZSB3YW50IE9iamVjdC5rZXlzKG5ldyBBYm9ydENvbnRyb2xsZXIoKSkgdG8gYmUgW10gZm9yIGNvbXBhdCB3aXRoIHRoZSBuYXRpdmUgaW1wbFxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdzaWduYWwnLCB7XG4gICAgICAgIHZhbHVlOiBuZXcgQWJvcnRTaWduYWwoKSxcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKEFib3J0Q29udHJvbGxlciwgW3tcbiAgICAgIGtleTogXCJhYm9ydFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGFib3J0KCkge1xuICAgICAgICB2YXIgZXZlbnQ7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBldmVudCA9IG5ldyBFdmVudCgnYWJvcnQnKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBpZiAoIWRvY3VtZW50LmNyZWF0ZUV2ZW50KSB7XG4gICAgICAgICAgICAgIC8vIEZvciBJbnRlcm5ldCBFeHBsb3JlciA4OlxuICAgICAgICAgICAgICBldmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50T2JqZWN0KCk7XG4gICAgICAgICAgICAgIGV2ZW50LnR5cGUgPSAnYWJvcnQnO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gRm9yIEludGVybmV0IEV4cGxvcmVyIDExOlxuICAgICAgICAgICAgICBldmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdFdmVudCcpO1xuICAgICAgICAgICAgICBldmVudC5pbml0RXZlbnQoJ2Fib3J0JywgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gRmFsbGJhY2sgd2hlcmUgZG9jdW1lbnQgaXNuJ3QgYXZhaWxhYmxlOlxuICAgICAgICAgICAgZXZlbnQgPSB7XG4gICAgICAgICAgICAgIHR5cGU6ICdhYm9ydCcsXG4gICAgICAgICAgICAgIGJ1YmJsZXM6IGZhbHNlLFxuICAgICAgICAgICAgICBjYW5jZWxhYmxlOiBmYWxzZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNpZ25hbC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwidG9TdHJpbmdcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuICdbb2JqZWN0IEFib3J0Q29udHJvbGxlcl0nO1xuICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBBYm9ydENvbnRyb2xsZXI7XG4gIH0oKTtcblxuICBpZiAodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gICAgLy8gVGhlc2UgYXJlIG5lY2Vzc2FyeSB0byBtYWtlIHN1cmUgdGhhdCB3ZSBnZXQgY29ycmVjdCBvdXRwdXQgZm9yOlxuICAgIC8vIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuZXcgQWJvcnRDb250cm9sbGVyKCkpXG4gICAgQWJvcnRDb250cm9sbGVyLnByb3RvdHlwZVtTeW1ib2wudG9TdHJpbmdUYWddID0gJ0Fib3J0Q29udHJvbGxlcic7XG4gICAgQWJvcnRTaWduYWwucHJvdG90eXBlW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnQWJvcnRTaWduYWwnO1xuICB9XG5cbiAgZnVuY3Rpb24gcG9seWZpbGxOZWVkZWQoc2VsZikge1xuICAgIGlmIChzZWxmLl9fRk9SQ0VfSU5TVEFMTF9BQk9SVENPTlRST0xMRVJfUE9MWUZJTEwpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdfX0ZPUkNFX0lOU1RBTExfQUJPUlRDT05UUk9MTEVSX1BPTFlGSUxMPXRydWUgaXMgc2V0LCB3aWxsIGZvcmNlIGluc3RhbGwgcG9seWZpbGwnKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gLy8gTm90ZSB0aGF0IHRoZSBcInVuZmV0Y2hcIiBtaW5pbWFsIGZldGNoIHBvbHlmaWxsIGRlZmluZXMgZmV0Y2goKSB3aXRob3V0XG4gICAgLy8gZGVmaW5pbmcgd2luZG93LlJlcXVlc3QsIGFuZCB0aGlzIHBvbHlmaWxsIG5lZWQgdG8gd29yayBvbiB0b3Agb2YgdW5mZXRjaFxuICAgIC8vIHNvIHRoZSBiZWxvdyBmZWF0dXJlIGRldGVjdGlvbiBuZWVkcyB0aGUgIXNlbGYuQWJvcnRDb250cm9sbGVyIHBhcnQuXG4gICAgLy8gVGhlIFJlcXVlc3QucHJvdG90eXBlIGNoZWNrIGlzIGFsc28gbmVlZGVkIGJlY2F1c2UgU2FmYXJpIHZlcnNpb25zIDExLjEuMlxuICAgIC8vIHVwIHRvIGFuZCBpbmNsdWRpbmcgMTIuMS54IGhhcyBhIHdpbmRvdy5BYm9ydENvbnRyb2xsZXIgcHJlc2VudCBidXQgc3RpbGxcbiAgICAvLyBkb2VzIE5PVCBjb3JyZWN0bHkgaW1wbGVtZW50IGFib3J0YWJsZSBmZXRjaDpcbiAgICAvLyBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTc0OTgwI2MyXG5cblxuICAgIHJldHVybiB0eXBlb2Ygc2VsZi5SZXF1ZXN0ID09PSAnZnVuY3Rpb24nICYmICFzZWxmLlJlcXVlc3QucHJvdG90eXBlLmhhc093blByb3BlcnR5KCdzaWduYWwnKSB8fCAhc2VsZi5BYm9ydENvbnRyb2xsZXI7XG4gIH1cblxuICAvKipcbiAgICogTm90ZTogdGhlIFwiZmV0Y2guUmVxdWVzdFwiIGRlZmF1bHQgdmFsdWUgaXMgYXZhaWxhYmxlIGZvciBmZXRjaCBpbXBvcnRlZCBmcm9tXG4gICAqIHRoZSBcIm5vZGUtZmV0Y2hcIiBwYWNrYWdlIGFuZCBub3QgaW4gYnJvd3NlcnMuIFRoaXMgaXMgT0sgc2luY2UgYnJvd3NlcnNcbiAgICogd2lsbCBiZSBpbXBvcnRpbmcgdW1kLXBvbHlmaWxsLmpzIGZyb20gdGhhdCBwYXRoIFwic2VsZlwiIGlzIHBhc3NlZCB0aGVcbiAgICogZGVjb3JhdG9yIHNvIHRoZSBkZWZhdWx0IHZhbHVlIHdpbGwgbm90IGJlIHVzZWQgKGJlY2F1c2UgYnJvd3NlcnMgdGhhdCBkZWZpbmVcbiAgICogZmV0Y2ggYWxzbyBoYXMgUmVxdWVzdCkuIE9uZSBxdWlya3kgc2V0dXAgd2hlcmUgc2VsZi5mZXRjaCBleGlzdHMgYnV0XG4gICAqIHNlbGYuUmVxdWVzdCBkb2VzIG5vdCBpcyB3aGVuIHRoZSBcInVuZmV0Y2hcIiBtaW5pbWFsIGZldGNoIHBvbHlmaWxsIGlzIHVzZWRcbiAgICogb24gdG9wIG9mIElFMTE7IGZvciB0aGlzIGNhc2UgdGhlIGJyb3dzZXIgd2lsbCB0cnkgdG8gdXNlIHRoZSBmZXRjaC5SZXF1ZXN0XG4gICAqIGRlZmF1bHQgdmFsdWUgd2hpY2ggaW4gdHVybiB3aWxsIGJlIHVuZGVmaW5lZCBidXQgdGhlbiB0aGVuIFwiaWYgKFJlcXVlc3QpXCJcbiAgICogd2lsbCBlbnN1cmUgdGhhdCB5b3UgZ2V0IGEgcGF0Y2hlZCBmZXRjaCBidXQgc3RpbGwgbm8gUmVxdWVzdCAoYXMgZXhwZWN0ZWQpLlxuICAgKiBAcGFyYW0ge2ZldGNoLCBSZXF1ZXN0ID0gZmV0Y2guUmVxdWVzdH1cbiAgICogQHJldHVybnMge2ZldGNoOiBhYm9ydGFibGVGZXRjaCwgUmVxdWVzdDogQWJvcnRhYmxlUmVxdWVzdH1cbiAgICovXG5cbiAgZnVuY3Rpb24gYWJvcnRhYmxlRmV0Y2hEZWNvcmF0b3IocGF0Y2hUYXJnZXRzKSB7XG4gICAgaWYgKCdmdW5jdGlvbicgPT09IHR5cGVvZiBwYXRjaFRhcmdldHMpIHtcbiAgICAgIHBhdGNoVGFyZ2V0cyA9IHtcbiAgICAgICAgZmV0Y2g6IHBhdGNoVGFyZ2V0c1xuICAgICAgfTtcbiAgICB9XG5cbiAgICB2YXIgX3BhdGNoVGFyZ2V0cyA9IHBhdGNoVGFyZ2V0cyxcbiAgICAgICAgZmV0Y2ggPSBfcGF0Y2hUYXJnZXRzLmZldGNoLFxuICAgICAgICBfcGF0Y2hUYXJnZXRzJFJlcXVlc3QgPSBfcGF0Y2hUYXJnZXRzLlJlcXVlc3QsXG4gICAgICAgIE5hdGl2ZVJlcXVlc3QgPSBfcGF0Y2hUYXJnZXRzJFJlcXVlc3QgPT09IHZvaWQgMCA/IGZldGNoLlJlcXVlc3QgOiBfcGF0Y2hUYXJnZXRzJFJlcXVlc3QsXG4gICAgICAgIE5hdGl2ZUFib3J0Q29udHJvbGxlciA9IF9wYXRjaFRhcmdldHMuQWJvcnRDb250cm9sbGVyLFxuICAgICAgICBfcGF0Y2hUYXJnZXRzJF9fRk9SQ0UgPSBfcGF0Y2hUYXJnZXRzLl9fRk9SQ0VfSU5TVEFMTF9BQk9SVENPTlRST0xMRVJfUE9MWUZJTEwsXG4gICAgICAgIF9fRk9SQ0VfSU5TVEFMTF9BQk9SVENPTlRST0xMRVJfUE9MWUZJTEwgPSBfcGF0Y2hUYXJnZXRzJF9fRk9SQ0UgPT09IHZvaWQgMCA/IGZhbHNlIDogX3BhdGNoVGFyZ2V0cyRfX0ZPUkNFO1xuXG4gICAgaWYgKCFwb2x5ZmlsbE5lZWRlZCh7XG4gICAgICBmZXRjaDogZmV0Y2gsXG4gICAgICBSZXF1ZXN0OiBOYXRpdmVSZXF1ZXN0LFxuICAgICAgQWJvcnRDb250cm9sbGVyOiBOYXRpdmVBYm9ydENvbnRyb2xsZXIsXG4gICAgICBfX0ZPUkNFX0lOU1RBTExfQUJPUlRDT05UUk9MTEVSX1BPTFlGSUxMOiBfX0ZPUkNFX0lOU1RBTExfQUJPUlRDT05UUk9MTEVSX1BPTFlGSUxMXG4gICAgfSkpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGZldGNoOiBmZXRjaCxcbiAgICAgICAgUmVxdWVzdDogUmVxdWVzdFxuICAgICAgfTtcbiAgICB9XG5cbiAgICB2YXIgUmVxdWVzdCA9IE5hdGl2ZVJlcXVlc3Q7IC8vIE5vdGUgdGhhdCB0aGUgXCJ1bmZldGNoXCIgbWluaW1hbCBmZXRjaCBwb2x5ZmlsbCBkZWZpbmVzIGZldGNoKCkgd2l0aG91dFxuICAgIC8vIGRlZmluaW5nIHdpbmRvdy5SZXF1ZXN0LCBhbmQgdGhpcyBwb2x5ZmlsbCBuZWVkIHRvIHdvcmsgb24gdG9wIG9mIHVuZmV0Y2hcbiAgICAvLyBoZW5jZSB3ZSBvbmx5IHBhdGNoIGl0IGlmIGl0J3MgYXZhaWxhYmxlLiBBbHNvIHdlIGRvbid0IHBhdGNoIGl0IGlmIHNpZ25hbFxuICAgIC8vIGlzIGFscmVhZHkgYXZhaWxhYmxlIG9uIHRoZSBSZXF1ZXN0IHByb3RvdHlwZSBiZWNhdXNlIGluIHRoaXMgY2FzZSBzdXBwb3J0XG4gICAgLy8gaXMgcHJlc2VudCBhbmQgdGhlIHBhdGNoaW5nIGJlbG93IGNhbiBjYXVzZSBhIGNyYXNoIHNpbmNlIGl0IGFzc2lnbnMgdG9cbiAgICAvLyByZXF1ZXN0LnNpZ25hbCB3aGljaCBpcyB0ZWNobmljYWxseSBhIHJlYWQtb25seSBwcm9wZXJ0eS4gVGhpcyBsYXR0ZXIgZXJyb3JcbiAgICAvLyBoYXBwZW5zIHdoZW4geW91IHJ1biB0aGUgbWFpbjUuanMgbm9kZS1mZXRjaCBleGFtcGxlIGluIHRoZSByZXBvXG4gICAgLy8gXCJhYm9ydGNvbnRyb2xsZXItcG9seWZpbGwtZXhhbXBsZXNcIi4gVGhlIGV4YWN0IGVycm9yIGlzOlxuICAgIC8vICAgcmVxdWVzdC5zaWduYWwgPSBpbml0LnNpZ25hbDtcbiAgICAvLyAgIF5cbiAgICAvLyBUeXBlRXJyb3I6IENhbm5vdCBzZXQgcHJvcGVydHkgc2lnbmFsIG9mICM8UmVxdWVzdD4gd2hpY2ggaGFzIG9ubHkgYSBnZXR0ZXJcblxuICAgIGlmIChSZXF1ZXN0ICYmICFSZXF1ZXN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSgnc2lnbmFsJykgfHwgX19GT1JDRV9JTlNUQUxMX0FCT1JUQ09OVFJPTExFUl9QT0xZRklMTCkge1xuICAgICAgUmVxdWVzdCA9IGZ1bmN0aW9uIFJlcXVlc3QoaW5wdXQsIGluaXQpIHtcbiAgICAgICAgdmFyIHNpZ25hbDtcblxuICAgICAgICBpZiAoaW5pdCAmJiBpbml0LnNpZ25hbCkge1xuICAgICAgICAgIHNpZ25hbCA9IGluaXQuc2lnbmFsOyAvLyBOZXZlciBwYXNzIGluaXQuc2lnbmFsIHRvIHRoZSBuYXRpdmUgUmVxdWVzdCBpbXBsZW1lbnRhdGlvbiB3aGVuIHRoZSBwb2x5ZmlsbCBoYXNcbiAgICAgICAgICAvLyBiZWVuIGluc3RhbGxlZCBiZWNhdXNlIGlmIHdlJ3JlIHJ1bm5pbmcgb24gdG9wIG9mIGEgYnJvd3NlciB3aXRoIGFcbiAgICAgICAgICAvLyB3b3JraW5nIG5hdGl2ZSBBYm9ydENvbnRyb2xsZXIgKGkuZS4gdGhlIHBvbHlmaWxsIHdhcyBpbnN0YWxsZWQgZHVlIHRvXG4gICAgICAgICAgLy8gX19GT1JDRV9JTlNUQUxMX0FCT1JUQ09OVFJPTExFUl9QT0xZRklMTCBiZWluZyBzZXQpLCB0aGVuIHBhc3Npbmcgb3VyXG4gICAgICAgICAgLy8gZmFrZSBBYm9ydFNpZ25hbCB0byB0aGUgbmF0aXZlIGZldGNoIHdpbGwgdHJpZ2dlcjpcbiAgICAgICAgICAvLyBUeXBlRXJyb3I6IEZhaWxlZCB0byBjb25zdHJ1Y3QgJ1JlcXVlc3QnOiBtZW1iZXIgc2lnbmFsIGlzIG5vdCBvZiB0eXBlIEFib3J0U2lnbmFsLlxuXG4gICAgICAgICAgZGVsZXRlIGluaXQuc2lnbmFsO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlcXVlc3QgPSBuZXcgTmF0aXZlUmVxdWVzdChpbnB1dCwgaW5pdCk7XG5cbiAgICAgICAgaWYgKHNpZ25hbCkge1xuICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZXF1ZXN0LCAnc2lnbmFsJywge1xuICAgICAgICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogc2lnbmFsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVxdWVzdDtcbiAgICAgIH07XG5cbiAgICAgIFJlcXVlc3QucHJvdG90eXBlID0gTmF0aXZlUmVxdWVzdC5wcm90b3R5cGU7XG4gICAgfVxuXG4gICAgdmFyIHJlYWxGZXRjaCA9IGZldGNoO1xuXG4gICAgdmFyIGFib3J0YWJsZUZldGNoID0gZnVuY3Rpb24gYWJvcnRhYmxlRmV0Y2goaW5wdXQsIGluaXQpIHtcbiAgICAgIHZhciBzaWduYWwgPSBSZXF1ZXN0ICYmIFJlcXVlc3QucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoaW5wdXQpID8gaW5wdXQuc2lnbmFsIDogaW5pdCA/IGluaXQuc2lnbmFsIDogdW5kZWZpbmVkO1xuXG4gICAgICBpZiAoc2lnbmFsKSB7XG4gICAgICAgIHZhciBhYm9ydEVycm9yO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgYWJvcnRFcnJvciA9IG5ldyBET01FeGNlcHRpb24oJ0Fib3J0ZWQnLCAnQWJvcnRFcnJvcicpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAvLyBJRSAxMSBkb2VzIG5vdCBzdXBwb3J0IGNhbGxpbmcgdGhlIERPTUV4Y2VwdGlvbiBjb25zdHJ1Y3RvciwgdXNlIGFcbiAgICAgICAgICAvLyByZWd1bGFyIGVycm9yIG9iamVjdCBvbiBpdCBpbnN0ZWFkLlxuICAgICAgICAgIGFib3J0RXJyb3IgPSBuZXcgRXJyb3IoJ0Fib3J0ZWQnKTtcbiAgICAgICAgICBhYm9ydEVycm9yLm5hbWUgPSAnQWJvcnRFcnJvcic7XG4gICAgICAgIH0gLy8gUmV0dXJuIGVhcmx5IGlmIGFscmVhZHkgYWJvcnRlZCwgdGh1cyBhdm9pZGluZyBtYWtpbmcgYW4gSFRUUCByZXF1ZXN0XG5cblxuICAgICAgICBpZiAoc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYWJvcnRFcnJvcik7XG4gICAgICAgIH0gLy8gVHVybiBhbiBldmVudCBpbnRvIGEgcHJvbWlzZSwgcmVqZWN0IGl0IG9uY2UgYGFib3J0YCBpcyBkaXNwYXRjaGVkXG5cblxuICAgICAgICB2YXIgY2FuY2VsbGF0aW9uID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKF8sIHJlamVjdCkge1xuICAgICAgICAgIHNpZ25hbC5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiByZWplY3QoYWJvcnRFcnJvcik7XG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgb25jZTogdHJ1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoaW5pdCAmJiBpbml0LnNpZ25hbCkge1xuICAgICAgICAgIC8vIE5ldmVyIHBhc3MgLnNpZ25hbCB0byB0aGUgbmF0aXZlIGltcGxlbWVudGF0aW9uIHdoZW4gdGhlIHBvbHlmaWxsIGhhc1xuICAgICAgICAgIC8vIGJlZW4gaW5zdGFsbGVkIGJlY2F1c2UgaWYgd2UncmUgcnVubmluZyBvbiB0b3Agb2YgYSBicm93c2VyIHdpdGggYVxuICAgICAgICAgIC8vIHdvcmtpbmcgbmF0aXZlIEFib3J0Q29udHJvbGxlciAoaS5lLiB0aGUgcG9seWZpbGwgd2FzIGluc3RhbGxlZCBkdWUgdG9cbiAgICAgICAgICAvLyBfX0ZPUkNFX0lOU1RBTExfQUJPUlRDT05UUk9MTEVSX1BPTFlGSUxMIGJlaW5nIHNldCksIHRoZW4gcGFzc2luZyBvdXJcbiAgICAgICAgICAvLyBmYWtlIEFib3J0U2lnbmFsIHRvIHRoZSBuYXRpdmUgZmV0Y2ggd2lsbCB0cmlnZ2VyOlxuICAgICAgICAgIC8vIFR5cGVFcnJvcjogRmFpbGVkIHRvIGV4ZWN1dGUgJ2ZldGNoJyBvbiAnV2luZG93JzogbWVtYmVyIHNpZ25hbCBpcyBub3Qgb2YgdHlwZSBBYm9ydFNpZ25hbC5cbiAgICAgICAgICBkZWxldGUgaW5pdC5zaWduYWw7XG4gICAgICAgIH0gLy8gUmV0dXJuIHRoZSBmYXN0ZXN0IHByb21pc2UgKGRvbid0IG5lZWQgdG8gd2FpdCBmb3IgcmVxdWVzdCB0byBmaW5pc2gpXG5cblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yYWNlKFtjYW5jZWxsYXRpb24sIHJlYWxGZXRjaChpbnB1dCwgaW5pdCldKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlYWxGZXRjaChpbnB1dCwgaW5pdCk7XG4gICAgfTtcblxuICAgIHJldHVybiB7XG4gICAgICBmZXRjaDogYWJvcnRhYmxlRmV0Y2gsXG4gICAgICBSZXF1ZXN0OiBSZXF1ZXN0XG4gICAgfTtcbiAgfVxuXG4gIChmdW5jdGlvbiAoc2VsZikge1xuXG4gICAgaWYgKCFwb2x5ZmlsbE5lZWRlZChzZWxmKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghc2VsZi5mZXRjaCkge1xuICAgICAgY29uc29sZS53YXJuKCdmZXRjaCgpIGlzIG5vdCBhdmFpbGFibGUsIGNhbm5vdCBpbnN0YWxsIGFib3J0Y29udHJvbGxlci1wb2x5ZmlsbCcpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBfYWJvcnRhYmxlRmV0Y2ggPSBhYm9ydGFibGVGZXRjaERlY29yYXRvcihzZWxmKSxcbiAgICAgICAgZmV0Y2ggPSBfYWJvcnRhYmxlRmV0Y2guZmV0Y2gsXG4gICAgICAgIFJlcXVlc3QgPSBfYWJvcnRhYmxlRmV0Y2guUmVxdWVzdDtcblxuICAgIHNlbGYuZmV0Y2ggPSBmZXRjaDtcbiAgICBzZWxmLlJlcXVlc3QgPSBSZXF1ZXN0O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzZWxmLCAnQWJvcnRDb250cm9sbGVyJywge1xuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHZhbHVlOiBBYm9ydENvbnRyb2xsZXJcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoc2VsZiwgJ0Fib3J0U2lnbmFsJywge1xuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHZhbHVlOiBBYm9ydFNpZ25hbFxuICAgIH0pO1xuICB9KSh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgPyBzZWxmIDogZ2xvYmFsKTtcblxufSkpKTtcbiIsImltcG9ydCB7IFBvcHVwQ29uZmlnT3B0aW9ucyB9IGZyb20gJy4vZ2xvYmFsJztcblxuLyoqXG4gKiBAaWdub3JlXG4gKi9cbmV4cG9ydCBjb25zdCBERUZBVUxUX0FVVEhPUklaRV9USU1FT1VUX0lOX1NFQ09ORFMgPSA2MDtcblxuLyoqXG4gKiBAaWdub3JlXG4gKi9cbmV4cG9ydCBjb25zdCBERUZBVUxUX1BPUFVQX0NPTkZJR19PUFRJT05TOiBQb3B1cENvbmZpZ09wdGlvbnMgPSB7XG4gIHRpbWVvdXRJblNlY29uZHM6IERFRkFVTFRfQVVUSE9SSVpFX1RJTUVPVVRfSU5fU0VDT05EU1xufTtcblxuLyoqXG4gKiBAaWdub3JlXG4gKi9cbmV4cG9ydCBjb25zdCBERUZBVUxUX1NJTEVOVF9UT0tFTl9SRVRSWV9DT1VOVCA9IDM7XG5cbi8qKlxuICogQGlnbm9yZVxuICovXG5leHBvcnQgY29uc3QgQ0xFQU5VUF9JRlJBTUVfVElNRU9VVF9JTl9TRUNPTkRTID0gMjtcblxuLyoqXG4gKiBAaWdub3JlXG4gKi9cbmV4cG9ydCBjb25zdCBERUZBVUxUX0ZFVENIX1RJTUVPVVRfTVMgPSAxMDAwMDtcblxuZXhwb3J0IGNvbnN0IENBQ0hFX0xPQ0FUSU9OX01FTU9SWSA9ICdtZW1vcnknO1xuZXhwb3J0IGNvbnN0IENBQ0hFX0xPQ0FUSU9OX0xPQ0FMX1NUT1JBR0UgPSAnbG9jYWxzdG9yYWdlJztcbmV4cG9ydCBjb25zdCBNSVNTSU5HX1JFRlJFU0hfVE9LRU5fRVJST1JfTUVTU0FHRSA9XG4gICdUaGUgd2ViIHdvcmtlciBpcyBtaXNzaW5nIHRoZSByZWZyZXNoIHRva2VuJztcblxuLyoqXG4gKiBAaWdub3JlXG4gKi9cbmV4cG9ydCBjb25zdCBERUZBVUxUX1NDT1BFID0gJ29wZW5pZCBwcm9maWxlIGVtYWlsJztcblxuLyoqXG4gKiBBIGxpc3Qgb2YgZXJyb3JzIHRoYXQgY2FuIGJlIGlzc3VlZCBieSB0aGUgYXV0aG9yaXphdGlvbiBzZXJ2ZXIgd2hpY2ggdGhlXG4gKiB1c2VyIGNhbiByZWNvdmVyIGZyb20gYnkgc2lnbmluZyBpbiBpbnRlcmFjdGl2ZWx5LlxuICogaHR0cHM6Ly9vcGVuaWQubmV0L3NwZWNzL29wZW5pZC1jb25uZWN0LWNvcmUtMV8wLmh0bWwjQXV0aEVycm9yXG4gKiBAaWdub3JlXG4gKi9cbmV4cG9ydCBjb25zdCBSRUNPVkVSQUJMRV9FUlJPUlMgPSBbXG4gICdsb2dpbl9yZXF1aXJlZCcsXG4gICdjb25zZW50X3JlcXVpcmVkJyxcbiAgJ2ludGVyYWN0aW9uX3JlcXVpcmVkJyxcbiAgJ2FjY291bnRfc2VsZWN0aW9uX3JlcXVpcmVkJyxcbiAgLy8gU3RyaWN0bHkgc3BlYWtpbmcgdGhlIHVzZXIgY2FuJ3QgcmVjb3ZlciBmcm9tIGBhY2Nlc3NfZGVuaWVkYCAtIGJ1dCB0aGV5XG4gIC8vIGNhbiBnZXQgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCB0aGVpciBhY2Nlc3MgYmVpbmcgZGVuaWVkIGJ5IGxvZ2dpbmcgaW5cbiAgLy8gaW50ZXJhY3RpdmVseS5cbiAgJ2FjY2Vzc19kZW5pZWQnXG5dO1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfU0VTU0lPTl9DSEVDS19FWFBJUllfREFZUyA9IDE7XG4iLCJpbXBvcnQgJ2Fib3J0Y29udHJvbGxlci1wb2x5ZmlsbC9kaXN0L3VtZC1wb2x5ZmlsbCc7XG5pbXBvcnQgeyBNSVNTSU5HX1JFRlJFU0hfVE9LRU5fRVJST1JfTUVTU0FHRSB9IGZyb20gJy4vY29uc3RhbnRzJztcblxubGV0IHJlZnJlc2hUb2tlbnMgPSB7fTtcblxuY29uc3QgY2FjaGVLZXkgPSAoYXVkaWVuY2UsIHNjb3BlKSA9PiBgJHthdWRpZW5jZX18JHtzY29wZX1gO1xuXG5jb25zdCBnZXRSZWZyZXNoVG9rZW4gPSAoYXVkaWVuY2UsIHNjb3BlKSA9PlxuICByZWZyZXNoVG9rZW5zW2NhY2hlS2V5KGF1ZGllbmNlLCBzY29wZSldO1xuXG5jb25zdCBzZXRSZWZyZXNoVG9rZW4gPSAocmVmcmVzaFRva2VuLCBhdWRpZW5jZSwgc2NvcGUpID0+XG4gIChyZWZyZXNoVG9rZW5zW2NhY2hlS2V5KGF1ZGllbmNlLCBzY29wZSldID0gcmVmcmVzaFRva2VuKTtcblxuY29uc3QgZGVsZXRlUmVmcmVzaFRva2VuID0gKGF1ZGllbmNlLCBzY29wZSkgPT5cbiAgZGVsZXRlIHJlZnJlc2hUb2tlbnNbY2FjaGVLZXkoYXVkaWVuY2UsIHNjb3BlKV07XG5cbmNvbnN0IHdhaXQ6IGFueSA9IHRpbWUgPT4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIHRpbWUpKTtcblxuY29uc3QgbWVzc2FnZUhhbmRsZXIgPSBhc3luYyAoe1xuICBkYXRhOiB7IHVybCwgdGltZW91dCwgYXVkaWVuY2UsIHNjb3BlLCAuLi5vcHRzIH0sXG4gIHBvcnRzOiBbcG9ydF1cbn0pID0+IHtcbiAgbGV0IGpzb247XG4gIHRyeSB7XG4gICAgY29uc3QgYm9keSA9IEpTT04ucGFyc2Uob3B0cy5ib2R5KTtcbiAgICBpZiAoIWJvZHkucmVmcmVzaF90b2tlbiAmJiBib2R5LmdyYW50X3R5cGUgPT09ICdyZWZyZXNoX3Rva2VuJykge1xuICAgICAgY29uc3QgcmVmcmVzaFRva2VuID0gZ2V0UmVmcmVzaFRva2VuKGF1ZGllbmNlLCBzY29wZSk7XG4gICAgICBpZiAoIXJlZnJlc2hUb2tlbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoTUlTU0lOR19SRUZSRVNIX1RPS0VOX0VSUk9SX01FU1NBR0UpO1xuICAgICAgfVxuICAgICAgb3B0cy5ib2R5ID0gSlNPTi5zdHJpbmdpZnkoeyAuLi5ib2R5LCByZWZyZXNoX3Rva2VuOiByZWZyZXNoVG9rZW4gfSk7XG4gICAgfVxuXG4gICAgY29uc3QgYWJvcnRDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgIGNvbnN0IHsgc2lnbmFsIH0gPSBhYm9ydENvbnRyb2xsZXI7XG5cbiAgICBsZXQgcmVzcG9uc2U7XG4gICAgdHJ5IHtcbiAgICAgIHJlc3BvbnNlID0gYXdhaXQgUHJvbWlzZS5yYWNlKFtcbiAgICAgICAgd2FpdCh0aW1lb3V0KSxcbiAgICAgICAgZmV0Y2godXJsLCB7IC4uLm9wdHMsIHNpZ25hbCB9KVxuICAgICAgXSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIC8vIGZldGNoIGVycm9yLCByZWplY3QgYHNlbmRNZXNzYWdlYCB1c2luZyBgZXJyb3JgIGtleSBzbyB0aGF0IHdlIHJldHJ5LlxuICAgICAgcG9ydC5wb3N0TWVzc2FnZSh7XG4gICAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIXJlc3BvbnNlKSB7XG4gICAgICAvLyBJZiB0aGUgcmVxdWVzdCB0aW1lcyBvdXQsIGFib3J0IGl0IGFuZCBsZXQgYGZldGNoV2l0aFRpbWVvdXRgIHJhaXNlIHRoZSBlcnJvci5cbiAgICAgIGFib3J0Q29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGpzb24gPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICBpZiAoanNvbi5yZWZyZXNoX3Rva2VuKSB7XG4gICAgICBzZXRSZWZyZXNoVG9rZW4oanNvbi5yZWZyZXNoX3Rva2VuLCBhdWRpZW5jZSwgc2NvcGUpO1xuICAgICAgZGVsZXRlIGpzb24ucmVmcmVzaF90b2tlbjtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlUmVmcmVzaFRva2VuKGF1ZGllbmNlLCBzY29wZSk7XG4gICAgfVxuXG4gICAgcG9ydC5wb3N0TWVzc2FnZSh7XG4gICAgICBvazogcmVzcG9uc2Uub2ssXG4gICAgICBqc29uXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcG9ydC5wb3N0TWVzc2FnZSh7XG4gICAgICBvazogZmFsc2UsXG4gICAgICBqc29uOiB7XG4gICAgICAgIGVycm9yX2Rlc2NyaXB0aW9uOiBlcnJvci5tZXNzYWdlXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn07XG5cbi8vIERvbid0IHJ1biBgYWRkRXZlbnRMaXN0ZW5lcmAgaW4gb3VyIHRlc3RzICh0aGlzIGlzIHJlcGxhY2VkIGluIHJvbGx1cClcbi8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICAqL1xuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAndGVzdCcpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSB7IG1lc3NhZ2VIYW5kbGVyIH07XG59IGVsc2Uge1xuICAvLyBAdHMtaWdub3JlXG4gIGFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBtZXNzYWdlSGFuZGxlcik7XG59XG4iXSwibmFtZXMiOlsiX19hc3NpZ24iLCJPYmplY3QiLCJhc3NpZ24iLCJ0IiwicyIsImkiLCJuIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwicCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImFwcGx5IiwidGhpcyIsIl9fZ2VuZXJhdG9yIiwidGhpc0FyZyIsImJvZHkiLCJmIiwieSIsImciLCJfIiwibGFiZWwiLCJzZW50IiwidHJ5cyIsIm9wcyIsIm5leHQiLCJ2ZXJiIiwidGhyb3ciLCJyZXR1cm4iLCJTeW1ib2wiLCJpdGVyYXRvciIsInYiLCJvcCIsIlR5cGVFcnJvciIsImRvbmUiLCJ2YWx1ZSIsInBvcCIsInB1c2giLCJlIiwic3RlcCIsIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJfZGVmaW5lUHJvcGVydGllcyIsInRhcmdldCIsInByb3BzIiwiZGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsImRlZmluZVByb3BlcnR5Iiwia2V5IiwiX2NyZWF0ZUNsYXNzIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiX2luaGVyaXRzIiwic3ViQ2xhc3MiLCJzdXBlckNsYXNzIiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJfc2V0UHJvdG90eXBlT2YiLCJfZ2V0UHJvdG90eXBlT2YiLCJvIiwic2V0UHJvdG90eXBlT2YiLCJnZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIl9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QiLCJSZWZsZWN0IiwiY29uc3RydWN0Iiwic2hhbSIsIlByb3h5IiwiRGF0ZSIsInRvU3RyaW5nIiwiX2Fzc2VydFRoaXNJbml0aWFsaXplZCIsInNlbGYiLCJSZWZlcmVuY2VFcnJvciIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwiX2NyZWF0ZVN1cGVyIiwiRGVyaXZlZCIsImhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QiLCJyZXN1bHQiLCJTdXBlciIsIk5ld1RhcmdldCIsIl9zdXBlclByb3BCYXNlIiwib2JqZWN0IiwicHJvcGVydHkiLCJfZ2V0IiwicmVjZWl2ZXIiLCJnZXQiLCJiYXNlIiwiZGVzYyIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsIkVtaXR0ZXIiLCJ0eXBlIiwiY2FsbGJhY2siLCJsaXN0ZW5lcnMiLCJzdGFjayIsImwiLCJzcGxpY2UiLCJldmVudCIsIl90aGlzIiwiZGVib3VuY2UiLCJzZXRUaW1lb3V0IiwiZGVmYXVsdFByZXZlbnRlZCIsIkFib3J0U2lnbmFsIiwiX0VtaXR0ZXIiLCJfc3VwZXIiLCJfdGhpczIiLCJhYm9ydGVkIiwib25hYm9ydCIsIkFib3J0Q29udHJvbGxlciIsIkV2ZW50IiwiZG9jdW1lbnQiLCJjcmVhdGVFdmVudCIsImluaXRFdmVudCIsImNyZWF0ZUV2ZW50T2JqZWN0IiwiYnViYmxlcyIsImNhbmNlbGFibGUiLCJzaWduYWwiLCJkaXNwYXRjaEV2ZW50IiwicG9seWZpbGxOZWVkZWQiLCJfX0ZPUkNFX0lOU1RBTExfQUJPUlRDT05UUk9MTEVSX1BPTFlGSUxMIiwiY29uc29sZSIsImxvZyIsIlJlcXVlc3QiLCJhYm9ydGFibGVGZXRjaERlY29yYXRvciIsInBhdGNoVGFyZ2V0cyIsImZldGNoIiwiX3BhdGNoVGFyZ2V0cyIsIl9wYXRjaFRhcmdldHMkUmVxdWVzdCIsIk5hdGl2ZVJlcXVlc3QiLCJOYXRpdmVBYm9ydENvbnRyb2xsZXIiLCJfcGF0Y2hUYXJnZXRzJF9fRk9SQ0UiLCJpbnB1dCIsImluaXQiLCJyZXF1ZXN0IiwicmVhbEZldGNoIiwiaXNQcm90b3R5cGVPZiIsInVuZGVmaW5lZCIsImFib3J0RXJyb3IiLCJET01FeGNlcHRpb24iLCJlcnIiLCJFcnJvciIsIm5hbWUiLCJQcm9taXNlIiwicmVqZWN0IiwiY2FuY2VsbGF0aW9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm9uY2UiLCJyYWNlIiwidG9TdHJpbmdUYWciLCJfYWJvcnRhYmxlRmV0Y2giLCJ3YXJuIiwiZ2xvYmFsIiwiZmFjdG9yeSIsInJlZnJlc2hUb2tlbnMiLCJjYWNoZUtleSIsImF1ZGllbmNlIiwic2NvcGUiLCJfYSIsIl9hcmd1bWVudHMiLCJQIiwiZ2VuZXJhdG9yIiwiX2IiLCJ1cmwiLCJ0aW1lb3V0Iiwib3B0cyIsImluZGV4T2YiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsInBvcnQiLCJKU09OIiwicGFyc2UiLCJyZWZyZXNoX3Rva2VuIiwiZ3JhbnRfdHlwZSIsInJlZnJlc2hUb2tlbiIsImdldFJlZnJlc2hUb2tlbiIsInN0cmluZ2lmeSIsImFib3J0Q29udHJvbGxlciIsInJlc3BvbnNlIiwidGltZSIsInJlc29sdmUiLCJfYyIsInBvc3RNZXNzYWdlIiwiZXJyb3IiLCJlcnJvcl8xIiwibWVzc2FnZSIsImpzb24iLCJhYm9ydCIsInNldFJlZnJlc2hUb2tlbiIsImRlbGV0ZVJlZnJlc2hUb2tlbiIsIm9rIiwiZXJyb3JfZGVzY3JpcHRpb24iLCJlcnJvcl8yIiwiZnVsZmlsbGVkIiwicmVqZWN0ZWQiLCJ0aGVuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQTZCTyxJQUFJQSxFQUFXLFdBUWxCLE9BUEFBLEVBQVdDLE9BQU9DLFFBQVUsU0FBa0JDLEdBQzFDLElBQUss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",!1),new Worker(or,t)}),Ir=new Gc,gr={memory:function(){return(new Oc).enclosedCache},localstorage:function(){return new Mc}},ar=function(t){return gr[t]},ur=function(){function t(t){var e,i;if(this.options=t,"undefined"!=typeof window&&function(){if(!Sc())throw new Error("For security reasons, `window.crypto` is required to run `auth0-spa-js`.");if(void 0===Jc())throw new Error("\n      auth0-spa-js must run on a secure origin.\n      See https://github.com/auth0/auth0-spa-js/blob/master/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin \n      for more information.\n    ")}(),this.cacheLocation=t.cacheLocation||"memory",this.cookieStorage=!1===t.legacySameSiteCookie?cr:rr,this.sessionCheckExpiryDays=t.sessionCheckExpiryDays||1,!ar(this.cacheLocation))throw new Error('Invalid cache location "'+this.cacheLocation+'"');var n,c,r=t.useCookiesForTransactions?this.cookieStorage:lr;this.cache=ar(this.cacheLocation)(),this.scope=this.options.scope,this.transactionManager=new _c(r),this.domainUrl="https://"+this.options.domain,this.tokenIssuer=(n=this.options.issuer,c=this.domainUrl,n?n.startsWith("https://")?n:"https://"+n+"/":c+"/"),this.defaultScope=jc("openid",void 0!==(null===(i=null===(e=this.options)||void 0===e?void 0:e.advancedOptions)||void 0===i?void 0:i.defaultScope)?this.options.advancedOptions.defaultScope:"openid profile email"),this.options.useRefreshTokens&&(this.scope=jc(this.scope,"offline_access")),"undefined"!=typeof window&&window.Worker&&this.options.useRefreshTokens&&"memory"===this.cacheLocation&&!/Trident.*rv:11\.0/.test(navigator.userAgent)&&(this.worker=new sr),this.customOptions=function(t){return t.advancedOptions,t.audience,t.auth0Client,t.authorizeTimeoutInSeconds,t.cacheLocation,t.client_id,t.domain,t.issuer,t.leeway,t.max_age,t.redirect_uri,t.scope,t.useRefreshTokens,s(t,["advancedOptions","audience","auth0Client","authorizeTimeoutInSeconds","cacheLocation","client_id","domain","issuer","leeway","max_age","redirect_uri","scope","useRefreshTokens"])}(t)}return t.prototype._url=function(t){var e=encodeURIComponent(btoa(JSON.stringify(this.options.auth0Client||{name:"auth0-spa-js",version:"1.13.0"})));return""+this.domainUrl+t+"&auth0Client="+e},t.prototype._getParams=function(t,e,i,n,c){var r=this.options,l=(r.domain,r.leeway,r.useRefreshTokens,r.auth0Client,r.cacheLocation,r.advancedOptions,s(r,["domain","leeway","useRefreshTokens","auth0Client","cacheLocation","advancedOptions"]));return o(o(o({},l),t),{scope:jc(this.defaultScope,this.scope,t.scope),response_type:"code",response_mode:"query",state:e,nonce:i,redirect_uri:c||this.options.redirect_uri,code_challenge:n,code_challenge_method:"S256"})},t.prototype._authorizeUrl=function(t){return this._url("/authorize?"+Yc(t))},t.prototype._verifyIdToken=function(t,e){return function(t){if(!t.id_token)throw new Error("ID token is required but missing");var e=function(t){var e=t.split("."),i=e[0],n=e[1],c=e[2];if(3!==e.length||!i||!n||!c)throw new Error("ID token could not be decoded");var r=JSON.parse(Nc(n)),l={__raw:t},o={};return Object.keys(r).forEach((function(t){l[t]=r[t],$c.includes(t)||(o[t]=r[t])})),{encoded:{header:i,payload:n,signature:c},header:JSON.parse(Nc(i)),claims:l,user:o}}(t.id_token);if(!e.claims.iss)throw new Error("Issuer (iss) claim must be a string present in the ID token");if(e.claims.iss!==t.iss)throw new Error('Issuer (iss) claim mismatch in the ID token; expected "'+t.iss+'", found "'+e.claims.iss+'"');if(!e.user.sub)throw new Error("Subject (sub) claim must be a string present in the ID token");if("RS256"!==e.header.alg)throw new Error('Signature algorithm of "'+e.header.alg+'" is not supported. Expected the ID token to be signed with "RS256".');if(!e.claims.aud||"string"!=typeof e.claims.aud&&!Array.isArray(e.claims.aud))throw new Error("Audience (aud) claim must be a string or array of strings present in the ID token");if(Array.isArray(e.claims.aud)){if(!e.claims.aud.includes(t.aud))throw new Error('Audience (aud) claim mismatch in the ID token; expected "'+t.aud+'" but was not one of "'+e.claims.aud.join(", ")+'"');if(e.claims.aud.length>1){if(!e.claims.azp)throw new Error("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values");if(e.claims.azp!==t.aud)throw new Error('Authorized Party (azp) claim mismatch in the ID token; expected "'+t.aud+'", found "'+e.claims.azp+'"')}}else if(e.claims.aud!==t.aud)throw new Error('Audience (aud) claim mismatch in the ID token; expected "'+t.aud+'" but found "'+e.claims.aud+'"');if(t.nonce){if(!e.claims.nonce)throw new Error("Nonce (nonce) claim must be a string present in the ID token");if(e.claims.nonce!==t.nonce)throw new Error('Nonce (nonce) claim mismatch in the ID token; expected "'+t.nonce+'", found "'+e.claims.nonce+'"')}if(t.max_age&&!qc(e.claims.auth_time))throw new Error("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified");if(!qc(e.claims.exp))throw new Error("Expiration Time (exp) claim must be a number present in the ID token");if(!qc(e.claims.iat))throw new Error("Issued At (iat) claim must be a number present in the ID token");var i=t.leeway||60,n=new Date(Date.now()),c=new Date(0),r=new Date(0),l=new Date(0);if(l.setUTCSeconds(parseInt(e.claims.auth_time)+t.max_age+i),c.setUTCSeconds(e.claims.exp+i),r.setUTCSeconds(e.claims.nbf-i),n>c)throw new Error("Expiration Time (exp) claim error in the ID token; current time ("+n+") is after expiration time ("+c+")");if(qc(e.claims.nbf)&&n<r)throw new Error("Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Currrent time ("+n+") is before "+r);if(qc(e.claims.auth_time)&&n>l)throw new Error("Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Currrent time ("+n+") is after last auth at "+l);return e}({iss:this.tokenIssuer,aud:this.options.client_id,id_token:t,nonce:e,leeway:this.options.leeway,max_age:this._parseNumber(this.options.max_age)})},t.prototype._parseNumber=function(t){return"string"!=typeof t?t:parseInt(t,10)||void 0},t.prototype.buildAuthorizeUrl=function(t){return void 0===t&&(t={}),I(this,void 0,void 0,(function(){var e,i,n,c,r,l,o,I,a,u,d;return g(this,(function(g){switch(g.label){case 0:return e=t.redirect_uri,i=t.appState,n=s(t,["redirect_uri","appState"]),c=Lc(vc()),r=Lc(vc()),l=vc(),[4,Hc(l)];case 1:return o=g.sent(),I=wc(o),a=t.fragment?"#"+t.fragment:"",u=this._getParams(n,c,r,I,e),d=this._authorizeUrl(u),this.transactionManager.create({nonce:r,code_verifier:l,appState:i,scope:u.scope,audience:u.audience||"default",redirect_uri:u.redirect_uri}),[2,d+a]}}))}))},t.prototype.loginWithPopup=function(t,e){return void 0===t&&(t={}),void 0===e&&(e={}),I(this,void 0,void 0,(function(){var i,n,c,r,l,I,a,u,d,b,B,C;return g(this,(function(g){switch(g.label){case 0:return i=s(t,[]),n=Lc(vc()),c=Lc(vc()),r=vc(),[4,Hc(r)];case 1:return l=g.sent(),I=wc(l),a=this._getParams(i,n,c,I,this.options.redirect_uri||window.location.origin),u=this._authorizeUrl(o(o({},a),{response_mode:"web_message"})),[4,Wc(u,o(o({},e),{timeoutInSeconds:e.timeoutInSeconds||this.options.authorizeTimeoutInSeconds||60}))];case 2:if(d=g.sent(),n!==d.state)throw new Error("Invalid state");return[4,Kc({audience:a.audience,scope:a.scope,baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:r,code:d.code,grant_type:"authorization_code",redirect_uri:a.redirect_uri},this.worker)];case 3:return b=g.sent(),B=this._verifyIdToken(b.id_token,c),C=o(o({},b),{decodedToken:B,scope:a.scope,audience:a.audience||"default",client_id:this.options.client_id}),this.cache.save(C),this.cookieStorage.save("auth0.is.authenticated",!0,{daysUntilExpire:this.sessionCheckExpiryDays}),[2]}}))}))},t.prototype.getUser=function(t){return void 0===t&&(t={}),I(this,void 0,void 0,(function(){var e,i,n;return g(this,(function(c){return e=t.audience||this.options.audience||"default",i=jc(this.defaultScope,this.scope,t.scope),[2,(n=this.cache.get({client_id:this.options.client_id,audience:e,scope:i}))&&n.decodedToken&&n.decodedToken.user]}))}))},t.prototype.getIdTokenClaims=function(t){return void 0===t&&(t={}),I(this,void 0,void 0,(function(){var e,i,n;return g(this,(function(c){return e=t.audience||this.options.audience||"default",i=jc(this.defaultScope,this.scope,t.scope),[2,(n=this.cache.get({client_id:this.options.client_id,audience:e,scope:i}))&&n.decodedToken&&n.decodedToken.claims]}))}))},t.prototype.loginWithRedirect=function(t){return void 0===t&&(t={}),I(this,void 0,void 0,(function(){var e;return g(this,(function(i){switch(i.label){case 0:return[4,this.buildAuthorizeUrl(t)];case 1:return e=i.sent(),window.location.assign(e),[2]}}))}))},t.prototype.handleRedirectCallback=function(t){return void 0===t&&(t=window.location.href),I(this,void 0,void 0,(function(){var e,i,n,c,r,l,s,I,a,u,d;return g(this,(function(g){switch(g.label){case 0:if(0===(e=t.split("?").slice(1)).length)throw new Error("There are no query params available for parsing.");if(i=function(t){t.indexOf("#")>-1&&(t=t.substr(0,t.indexOf("#")));var e=t.split("&"),i={};return e.forEach((function(t){var e=t.split("="),n=e[0],c=e[1];i[n]=decodeURIComponent(c)})),o(o({},i),{expires_in:parseInt(i.expires_in)})}(e.join("")),n=i.state,c=i.code,r=i.error,l=i.error_description,!(s=this.transactionManager.get())||!s.code_verifier||!s.nonce)throw new Error("Invalid state");if(r)throw this.transactionManager.remove(),new Qc(r,l,n,s.appState);return this.transactionManager.remove(),I={audience:s.audience,scope:s.scope,baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:s.code_verifier,grant_type:"authorization_code",code:c},void 0!==s.redirect_uri&&(I.redirect_uri=s.redirect_uri),[4,Kc(I,this.worker)];case 1:return a=g.sent(),u=this._verifyIdToken(a.id_token,s.nonce),d=o(o({},a),{decodedToken:u,audience:s.audience,scope:s.scope,client_id:this.options.client_id}),this.cache.save(d),this.cookieStorage.save("auth0.is.authenticated",!0,{daysUntilExpire:this.sessionCheckExpiryDays}),[2,{appState:s.appState}]}}))}))},t.prototype.checkSession=function(t){return I(this,void 0,void 0,(function(){var e;return g(this,(function(i){switch(i.label){case 0:if("memory"===this.cacheLocation&&!this.cookieStorage.get("auth0.is.authenticated"))return[2];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.getTokenSilently(t)];case 2:return i.sent(),[3,4];case 3:if(e=i.sent(),!Xc.includes(e.error))throw e;return[3,4];case 4:return[2]}}))}))},t.prototype.getTokenSilently=function(t){return void 0===t&&(t={}),I(this,void 0,void 0,(function(){var e,i,n,c,r,l,I,a=this;return g(this,(function(g){switch(g.label){case 0:if(e=o(o({audience:this.options.audience,ignoreCache:!1},t),{scope:jc(this.defaultScope,this.scope,t.scope)}),i=e.ignoreCache,n=s(e,["ignoreCache"]),c=function(){var t=a.cache.get({scope:n.scope,audience:n.audience||"default",client_id:a.options.client_id},60);return t&&t.access_token},!i&&(r=c()))return[2,r];g.label=1;case 1:return g.trys.push([1,7,8,10]),[4,Ir.acquireLock("auth0.lock.getTokenSilently",5e3)];case 2:return g.sent(),!i&&(r=c())?[2,r]:this.options.useRefreshTokens?[4,this._getTokenUsingRefreshToken(n)]:[3,4];case 3:return I=g.sent(),[3,6];case 4:return[4,this._getTokenFromIFrame(n)];case 5:I=g.sent(),g.label=6;case 6:return l=I,this.cache.save(o({client_id:this.options.client_id},l)),this.cookieStorage.save("auth0.is.authenticated",!0,{daysUntilExpire:this.sessionCheckExpiryDays}),[2,l.access_token];case 7:throw g.sent();case 8:return[4,Ir.releaseLock("auth0.lock.getTokenSilently")];case 9:return g.sent(),[7];case 10:return[2]}}))}))},t.prototype.getTokenWithPopup=function(t,e){return void 0===t&&(t={}),void 0===e&&(e={}),I(this,void 0,void 0,(function(){return g(this,(function(i){switch(i.label){case 0:return t.audience=t.audience||this.options.audience,t.scope=jc(this.defaultScope,this.scope,t.scope),e=o(o({},pc),e),[4,this.loginWithPopup(t,e)];case 1:return i.sent(),[2,this.cache.get({scope:t.scope,audience:t.audience||"default",client_id:this.options.client_id}).access_token]}}))}))},t.prototype.isAuthenticated=function(){return I(this,void 0,void 0,(function(){return g(this,(function(t){switch(t.label){case 0:return[4,this.getUser()];case 1:return[2,!!t.sent()]}}))}))},t.prototype.buildLogoutUrl=function(t){void 0===t&&(t={}),null!==t.client_id?t.client_id=t.client_id||this.options.client_id:delete t.client_id;var e=t.federated,i=s(t,["federated"]),n=e?"&federated":"";return this._url("/v2/logout?"+Yc(i))+n},t.prototype.logout=function(t){void 0===t&&(t={});var e=t.localOnly,i=s(t,["localOnly"]);if(e&&i.federated)throw new Error("It is invalid to set both the `federated` and `localOnly` options to `true`");if(this.cache.clear(),this.cookieStorage.remove("auth0.is.authenticated"),!e){var n=this.buildLogoutUrl(i);window.location.assign(n)}},t.prototype._getTokenFromIFrame=function(t){return I(this,void 0,void 0,(function(){var e,i,n,c,r,l,I,a,u,d,b,B,C,m;return g(this,(function(g){switch(g.label){case 0:return e=Lc(vc()),i=Lc(vc()),n=vc(),[4,Hc(n)];case 1:return c=g.sent(),r=wc(c),l=this._getParams(t,e,i,r,t.redirect_uri||this.options.redirect_uri||window.location.origin),I=this._authorizeUrl(o(o({},l),{prompt:"none",response_mode:"web_message"})),a=t.timeoutInSeconds||this.options.authorizeTimeoutInSeconds,[4,xc(I,this.domainUrl,a)];case 2:if(u=g.sent(),e!==u.state)throw new Error("Invalid state");return d=t.scope,b=t.audience,t.redirect_uri,t.ignoreCache,t.timeoutInSeconds,B=s(t,["scope","audience","redirect_uri","ignoreCache","timeoutInSeconds"]),[4,Kc(o(o(o({},this.customOptions),B),{scope:d,audience:b,baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:n,code:u.code,grant_type:"authorization_code",redirect_uri:l.redirect_uri}),this.worker)];case 3:return C=g.sent(),m=this._verifyIdToken(C.id_token,i),[2,o(o({},C),{decodedToken:m,scope:l.scope,audience:l.audience||"default"})]}}))}))},t.prototype._getTokenUsingRefreshToken=function(t){return I(this,void 0,void 0,(function(){var e,i,n,c,r,l,I,a;return g(this,(function(g){switch(g.label){case 0:return t.scope=jc(this.defaultScope,this.options.scope,t.scope),(e=this.cache.get({scope:t.scope,audience:t.audience||"default",client_id:this.options.client_id}))&&e.refresh_token||this.worker?[3,2]:[4,this._getTokenFromIFrame(t)];case 1:return[2,g.sent()];case 2:i=t.redirect_uri||this.options.redirect_uri||window.location.origin,c=t.scope,r=t.audience,t.ignoreCache,t.timeoutInSeconds,l=s(t,["scope","audience","ignoreCache","timeoutInSeconds"]),g.label=3;case 3:return g.trys.push([3,5,,8]),[4,Kc(o(o(o({},this.customOptions),l),{audience:r,scope:c,baseUrl:this.domainUrl,client_id:this.options.client_id,grant_type:"refresh_token",refresh_token:e&&e.refresh_token,redirect_uri:i}),this.worker)];case 4:return n=g.sent(),[3,8];case 5:return"The web worker is missing the refresh token"!==(I=g.sent()).message?[3,7]:[4,this._getTokenFromIFrame(t)];case 6:return[2,g.sent()];case 7:throw I;case 8:return a=this._verifyIdToken(n.id_token),[2,o(o({},n),{decodedToken:a,scope:t.scope,audience:t.audience||"default"})]}}))}))},t}()}).call(this,i(6),i(24).setImmediate,i(26).Buffer)},function(t,e,i){"use strict";var n=i(0);function c(t,e,i){var c="function"==typeof e;n.useEffect((function(){var i,n=!0,r=t((function(){return n}));return Promise.resolve(r).then((function(t){i=t})),function(){n=!1,c&&e(i)}}),c?i:e)}t.exports=c,t.exports.useAsyncEffect=c},function(t,e,i){"use strict";var n=i(0),c=i.n(n),r=i(1);function l(){var t=s(['\n  position: relative;\n  font-size: 10px;\n  width: 200px;\n  height: 200px;\n  ::before,\n  ::after {\n    display: block;\n    content: "";\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    margin: 0;\n    border-radius: 50%;\n    box-sizing: border-box;\n  }\n  ::before {\n    background-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJmZWF0aGVyIGZlYXRoZXItdXNlciI+PHBhdGggZD0iTTIwIDIxdi0yYTQgNCAwIDAgMC00LTRIOGE0IDQgMCAwIDAtNCA0djIiPjwvcGF0aD48Y2lyY2xlIGN4PSIxMiIgY3k9IjciIHI9IjQiPjwvY2lyY2xlPjwvc3ZnPg==");\n    ','\n    background-position: center center;\n    background-repeat: no-repeat;\n    background-size: 60px;\n  }\n  ::after {\n    border: 10px solid #137bd633;\n    border-top: 10px solid #137bd6;\n    // Note: this is only possible because the time of a loop is 1s, so we are\n    // syncying with the clock time as well. Otherwise would need to get the\n    // second as well and do "full_unix_time%duration"\n    animation: spin 1s infinite linear -',"s;\n  }\n  @keyframes spin {\n    0% {\n      -webkit-transform: rotate(0deg);\n      transform: rotate(0deg);\n    }\n    100% {\n      -webkit-transform: rotate(360deg);\n      transform: rotate(360deg);\n    }\n  }\n"]);return l=function(){return t},t}function o(){var t=s(["\n  position: absolute;\n  display: flex;\n  width: 100%;\n  height: 100vh;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.3s ease;\n  transform: scale(50%);\n  background: white;\n  opacity: 0;\n  pointer-events: none;\n  ","\n"]);return o=function(){return t},t}function s(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var I=r.a.div(o(),(function(t){return t.active&&"\n    opacity: 1;\n    transform: scale(100%);\n  "})),g=r.a.div(l(),(function(t){return t.img&&'background-image: url("'.concat(t.img,'");')}),(function(t){return t.ms}));e.a=function(t){var e=t.active,i=void 0===e||e,n=t.img;return c.a.createElement(I,{active:i},c.a.createElement(g,{img:n,ms:(new Date).getMilliseconds()/1e3}))}},function(t,e){t.exports=function(t,e,i,n){var c=i?i.call(n,t,e):void 0;if(void 0!==c)return!!c;if(t===e)return!0;if("object"!=typeof t||!t||"object"!=typeof e||!e)return!1;var r=Object.keys(t),l=Object.keys(e);if(r.length!==l.length)return!1;for(var o=Object.prototype.hasOwnProperty.bind(e),s=0;s<r.length;s++){var I=r[s];if(!o(I))return!1;var g=t[I],a=e[I];if(!1===(c=i?i.call(n,g,a,I):void 0)||void 0===c&&g!==a)return!1}return!0}},function(t,e,i){"use strict";e.a=function(t){function e(t,e,n){var c=e.trim().split(b);e=c;var r=c.length,l=t.length;switch(l){case 0:case 1:var o=0;for(t=0===l?"":t[0]+" ";o<r;++o)e[o]=i(t,e[o],n).trim();break;default:var s=o=0;for(e=[];o<r;++o)for(var I=0;I<l;++I)e[s++]=i(t[I]+" ",c[o],n).trim()}return e}function i(t,e,i){var n=e.charCodeAt(0);switch(33>n&&(n=(e=e.trim()).charCodeAt(0)),n){case 38:return e.replace(B,"$1"+t.trim());case 58:return t.trim()+e.replace(B,"$1"+t.trim());default:if(0<1*i&&0<e.indexOf("\f"))return e.replace(B,(58===t.charCodeAt(0)?"":"$1")+t.trim())}return t+e}function n(t,e,i,r){var l=t+";",o=2*e+3*i+4*r;if(944===o){t=l.indexOf(":",9)+1;var s=l.substring(t,l.length-1).trim();return s=l.substring(0,t).trim()+s+";",1===R||2===R&&c(s,1)?"-webkit-"+s+s:s}if(0===R||2===R&&!c(l,1))return l;switch(o){case 1015:return 97===l.charCodeAt(10)?"-webkit-"+l+l:l;case 951:return 116===l.charCodeAt(3)?"-webkit-"+l+l:l;case 963:return 110===l.charCodeAt(5)?"-webkit-"+l+l:l;case 1009:if(100!==l.charCodeAt(4))break;case 969:case 942:return"-webkit-"+l+l;case 978:return"-webkit-"+l+"-moz-"+l+l;case 1019:case 983:return"-webkit-"+l+"-moz-"+l+"-ms-"+l+l;case 883:if(45===l.charCodeAt(8))return"-webkit-"+l+l;if(0<l.indexOf("image-set(",11))return l.replace(p,"$1-webkit-$2")+l;break;case 932:if(45===l.charCodeAt(4))switch(l.charCodeAt(5)){case 103:return"-webkit-box-"+l.replace("-grow","")+"-webkit-"+l+"-ms-"+l.replace("grow","positive")+l;case 115:return"-webkit-"+l+"-ms-"+l.replace("shrink","negative")+l;case 98:return"-webkit-"+l+"-ms-"+l.replace("basis","preferred-size")+l}return"-webkit-"+l+"-ms-"+l+l;case 964:return"-webkit-"+l+"-ms-flex-"+l+l;case 1023:if(99!==l.charCodeAt(8))break;return"-webkit-box-pack"+(s=l.substring(l.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+l+"-ms-flex-pack"+s+l;case 1005:return u.test(l)?l.replace(a,":-webkit-")+l.replace(a,":-moz-")+l:l;case 1e3:switch(e=(s=l.substring(13).trim()).indexOf("-")+1,s.charCodeAt(0)+s.charCodeAt(e)){case 226:s=l.replace(y,"tb");break;case 232:s=l.replace(y,"tb-rl");break;case 220:s=l.replace(y,"lr");break;default:return l}return"-webkit-"+l+"-ms-"+s+l;case 1017:if(-1===l.indexOf("sticky",9))break;case 975:switch(e=(l=t).length-10,o=(s=(33===l.charCodeAt(e)?l.substring(0,e):l).substring(t.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|s.charCodeAt(7))){case 203:if(111>s.charCodeAt(8))break;case 115:l=l.replace(s,"-webkit-"+s)+";"+l;break;case 207:case 102:l=l.replace(s,"-webkit-"+(102<o?"inline-":"")+"box")+";"+l.replace(s,"-webkit-"+s)+";"+l.replace(s,"-ms-"+s+"box")+";"+l}return l+";";case 938:if(45===l.charCodeAt(5))switch(l.charCodeAt(6)){case 105:return s=l.replace("-items",""),"-webkit-"+l+"-webkit-box-"+s+"-ms-flex-"+s+l;case 115:return"-webkit-"+l+"-ms-flex-item-"+l.replace(V,"")+l;default:return"-webkit-"+l+"-ms-flex-line-pack"+l.replace("align-content","").replace(V,"")+l}break;case 973:case 989:if(45!==l.charCodeAt(3)||122===l.charCodeAt(4))break;case 931:case 953:if(!0===G.test(t))return 115===(s=t.substring(t.indexOf(":")+1)).charCodeAt(0)?n(t.replace("stretch","fill-available"),e,i,r).replace(":fill-available",":stretch"):l.replace(s,"-webkit-"+s)+l.replace(s,"-moz-"+s.replace("fill-",""))+l;break;case 962:if(l="-webkit-"+l+(102===l.charCodeAt(5)?"-ms-"+l:"")+l,211===i+r&&105===l.charCodeAt(13)&&0<l.indexOf("transform",10))return l.substring(0,l.indexOf(";",27)+1).replace(d,"$1-webkit-$2")+l}return l}function c(t,e){var i=t.indexOf(1===e?":":"{"),n=t.substring(0,3!==e?i:10);return i=t.substring(i+1,t.length-1),S(2!==e?n:n.replace(h,"$1"),i,e)}function r(t,e){var i=n(e,e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2));return i!==e+";"?i.replace(U," or ($1)").substring(4):"("+e+")"}function l(t,e,i,n,c,r,l,o,I,g){for(var a,u=0,d=e;u<W;++u)switch(a=x[u].call(s,t,d,i,n,c,r,l,o,I,g)){case void 0:case!1:case!0:case null:break;default:d=a}if(d!==e)return d}function o(t){return void 0!==(t=t.prefix)&&(S=null,t?"function"!=typeof t?R=1:(R=2,S=t):R=0),o}function s(t,i){var o=t;if(33>o.charCodeAt(0)&&(o=o.trim()),o=[o],0<W){var s=l(-1,i,o,o,f,X,0,0,0,0);void 0!==s&&"string"==typeof s&&(i=s)}var a=function t(i,o,s,a,u){for(var d,b,B,y,U,V=0,h=0,G=0,p=0,x=0,S=0,v=B=d=0,L=0,Y=0,H=0,N=0,w=s.length,E=w-1,k="",T="",K="",z="";L<w;){if(b=s.charCodeAt(L),L===E&&0!==h+p+G+V&&(0!==h&&(b=47===h?10:47),p=G=V=0,w++,E++),0===h+p+G+V){if(L===E&&(0<Y&&(k=k.replace(g,"")),0<k.trim().length)){switch(b){case 32:case 9:case 59:case 13:case 10:break;default:k+=s.charAt(L)}b=59}switch(b){case 123:for(d=(k=k.trim()).charCodeAt(0),B=1,N=++L;L<w;){switch(b=s.charCodeAt(L)){case 123:B++;break;case 125:B--;break;case 47:switch(b=s.charCodeAt(L+1)){case 42:case 47:t:{for(v=L+1;v<E;++v)switch(s.charCodeAt(v)){case 47:if(42===b&&42===s.charCodeAt(v-1)&&L+2!==v){L=v+1;break t}break;case 10:if(47===b){L=v+1;break t}}L=v}}break;case 91:b++;case 40:b++;case 34:case 39:for(;L++<E&&s.charCodeAt(L)!==b;);}if(0===B)break;L++}switch(B=s.substring(N,L),0===d&&(d=(k=k.replace(I,"").trim()).charCodeAt(0)),d){case 64:switch(0<Y&&(k=k.replace(g,"")),b=k.charCodeAt(1)){case 100:case 109:case 115:case 45:Y=o;break;default:Y=A}if(N=(B=t(o,Y,B,b,u+1)).length,0<W&&(U=l(3,B,Y=e(A,k,H),o,f,X,N,b,u,a),k=Y.join(""),void 0!==U&&0===(N=(B=U.trim()).length)&&(b=0,B="")),0<N)switch(b){case 115:k=k.replace(Z,r);case 100:case 109:case 45:B=k+"{"+B+"}";break;case 107:B=(k=k.replace(C,"$1 $2"))+"{"+B+"}",B=1===R||2===R&&c("@"+B,3)?"@-webkit-"+B+"@"+B:"@"+B;break;default:B=k+B,112===a&&(T+=B,B="")}else B="";break;default:B=t(o,e(o,k,H),B,a,u+1)}K+=B,B=H=Y=v=d=0,k="",b=s.charCodeAt(++L);break;case 125:case 59:if(1<(N=(k=(0<Y?k.replace(g,""):k).trim()).length))switch(0===v&&(d=k.charCodeAt(0),45===d||96<d&&123>d)&&(N=(k=k.replace(" ",":")).length),0<W&&void 0!==(U=l(1,k,o,i,f,X,T.length,a,u,a))&&0===(N=(k=U.trim()).length)&&(k="\0\0"),d=k.charCodeAt(0),b=k.charCodeAt(1),d){case 0:break;case 64:if(105===b||99===b){z+=k+s.charAt(L);break}default:58!==k.charCodeAt(N-1)&&(T+=n(k,d,b,k.charCodeAt(2)))}H=Y=v=d=0,k="",b=s.charCodeAt(++L)}}switch(b){case 13:case 10:47===h?h=0:0===1+d&&107!==a&&0<k.length&&(Y=1,k+="\0"),0<W*J&&l(0,k,o,i,f,X,T.length,a,u,a),X=1,f++;break;case 59:case 125:if(0===h+p+G+V){X++;break}default:switch(X++,y=s.charAt(L),b){case 9:case 32:if(0===p+V+h)switch(x){case 44:case 58:case 9:case 32:y="";break;default:32!==b&&(y=" ")}break;case 0:y="\\0";break;case 12:y="\\f";break;case 11:y="\\v";break;case 38:0===p+h+V&&(Y=H=1,y="\f"+y);break;case 108:if(0===p+h+V+Q&&0<v)switch(L-v){case 2:112===x&&58===s.charCodeAt(L-3)&&(Q=x);case 8:111===S&&(Q=S)}break;case 58:0===p+h+V&&(v=L);break;case 44:0===h+G+p+V&&(Y=1,y+="\r");break;case 34:case 39:0===h&&(p=p===b?0:0===p?b:p);break;case 91:0===p+h+G&&V++;break;case 93:0===p+h+G&&V--;break;case 41:0===p+h+V&&G--;break;case 40:if(0===p+h+V){if(0===d)switch(2*x+3*S){case 533:break;default:d=1}G++}break;case 64:0===h+G+p+V+v+B&&(B=1);break;case 42:case 47:if(!(0<p+V+G))switch(h){case 0:switch(2*b+3*s.charCodeAt(L+1)){case 235:h=47;break;case 220:N=L,h=42}break;case 42:47===b&&42===x&&N+2!==L&&(33===s.charCodeAt(N+2)&&(T+=s.substring(N,L+1)),y="",h=0)}}0===h&&(k+=y)}S=x,x=b,L++}if(0<(N=T.length)){if(Y=o,0<W&&(void 0!==(U=l(2,T,Y,i,f,X,N,a,u,a))&&0===(T=U).length))return z+T+K;if(T=Y.join(",")+"{"+T+"}",0!=R*Q){switch(2!==R||c(T,2)||(Q=0),Q){case 111:T=T.replace(F,":-moz-$1")+T;break;case 112:T=T.replace(m,"::-webkit-input-$1")+T.replace(m,"::-moz-$1")+T.replace(m,":-ms-input-$1")+T}Q=0}}return z+T+K}(A,o,i,0,0);return 0<W&&(void 0!==(s=l(-2,a,o,o,f,X,a.length,0,0,0))&&(a=s)),"",Q=0,X=f=1,a}var I=/^\0+/g,g=/[\0\r\f]/g,a=/: */g,u=/zoo|gra/,d=/([,: ])(transform)/g,b=/,\r+?/g,B=/([\t\r\n ])*\f?&/g,C=/@(k\w+)\s*(\S*)\s*/,m=/::(place)/g,F=/:(read-only)/g,y=/[svh]\w+-[tblr]{2}/,Z=/\(\s*(.*)\s*\)/g,U=/([\s\S]*?);/g,V=/-self|flex-/g,h=/[^]*?(:[rp][el]a[\w-]+)[^]*/,G=/stretch|:\s*\w+\-(?:conte|avail)/,p=/([^-])(image-set\()/,X=1,f=1,Q=0,R=1,A=[],x=[],W=0,S=null,J=0;return s.use=function t(e){switch(e){case void 0:case null:W=x.length=0;break;default:if("function"==typeof e)x[W++]=e;else if("object"==typeof e)for(var i=0,n=e.length;i<n;++i)t(e[i]);else J=0|!!e}return t},s.set=o,void 0!==t&&o(t),s}},function(t,e,i){"use strict";e.a={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},function(t,e,i){"use strict";i.d(e,"a",(function(){return y}));var n=i(0),c=i.n(n),r=i(1),l=i(7),o=i(8);function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var i=[],n=!0,c=!1,r=void 0;try{for(var l,o=t[Symbol.iterator]();!(n=(l=o.next()).done)&&(i.push(l.value),!e||i.length!==e);n=!0);}catch(t){c=!0,r=t}finally{try{n||null==o.return||o.return()}finally{if(c)throw r}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return I(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return I(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function g(){var t=b(["\n  background-color: transparent;\n  border: none;\n  color: #0645ad;\n  cursor: pointer;\n  text-decoration: underline;\n  font-size: inherit;\n  display: inline;\n  margin: 0;\n  padding: 0;\n"]);return g=function(){return t},t}function a(){var t=b(["\n  position: fixed;\n  top: 80px;\n  right: 10px;\n  border: 2px solid #ccc;\n  background: white;\n  border-radius: 4px;\n  padding: 10px 15px;\n  opacity: 0;\n  transform: translateY(-10px);\n  transition: all 0.3s ease;\n  pointer-events: none;\n  ",'\n  &::before {\n    position: fixed;\n    content: "";\n    display: block;\n    width: 0;\n    height: 0;\n    border: 8px solid black;\n    top: -8px;\n    right: 20px;\n    border-width: 0 8px 8px 8px;\n    border-color: transparent transparent #ccc transparent;\n  }\n']);return a=function(){return t},t}function u(){var t=b(["\n  width: 100%;\n  border-radius: 50%;\n  float: right;\n  cursor: pointer;\n"]);return u=function(){return t},t}function d(){var t=b(["\n  position: fixed;\n  top: 10px;\n  right: 10px;\n  width: 60px;\n  height: 60px;\n  background: white;\n  border-radius: 50%;\n  z-index: 100;\n"]);return d=function(){return t},t}function b(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var B=r.a.div(d()),C=r.a.img(u()),m=r.a.div(a(),(function(t){return t.visible&&"\n    opacity: 1;\n    transform: translateY(0);\n    pointer-events: all;\n  "})),F=r.a.button(g());function y(){var t=Object(o.a)(),e=s(Object(n.useState)(!1),2),i=e[0],r=e[1];return c.a.createElement(B,null,c.a.createElement(C,{onClick:function(){return r(!i)},src:t.img}),c.a.createElement(m,{visible:i},c.a.createElement("div",null,t.name),c.a.createElement(F,{onClick:function(){return Object(l.a)("/")}},"Logout")))}},function(t,e,i){"use strict";var n=i(0),c=i.n(n),r=i(1);function l(){var t=s(["\n  box-sizing: border-box;\n  max-width: 450px;\n  padding: 30px 40px;\n  font-size: 18px;\n  color: #333;\n  background: #fff;\n  border: 3px solid #eee;\n"]);return l=function(){return t},t}function o(){var t=s(['\n  display: flex;\n  width: 100%;\n  height: 100vh;\n  align-items: center;\n  justify-content: center;\n  background: url("/login-background.png");\n  background-size: cover;\n']);return o=function(){return t},t}function s(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var I=r.a.div(o()),g=r.a.div(l()),a=function(t){t.loading;var e=t.children;return c.a.createElement(I,null,c.a.createElement(g,null,e))};function u(){var t=B(["\n  color: red;\n"]);return u=function(){return t},t}function d(){var t=B(["\n  background: #137bd6;\n  padding: 10px 25px;\n  border: none;\n  font-size: inherit;\n  border-radius: 6px;\n  color: white;\n  cursor: pointer;\n"]);return d=function(){return t},t}function b(){var t=B(["\n  margin: 0;\n  padding: 0;\n  margin-bottom: 10px;\n"]);return b=function(){return t},t}function B(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var C=r.a.h1(b()),m=r.a.button(d()),F=r.a.p(u());e.a=function(t){var e=t.error,i=t.onLogin;return c.a.createElement(a,null,c.a.createElement(C,null,document.title||"User Login"),c.a.createElement("p",null,"You need an account and to be logged in to use this page:"),c.a.createElement(m,{onClick:i},"Login"),e&&c.a.createElement(F,null,e))}},function(t,e,i){"use strict";i.r(e);var n=i(14),c=i(4);i.d(e,"AuthContext",(function(){return c.a}));var r=i(8);i.d(e,"useProfile",(function(){return r.a}));var l=i(9);i.d(e,"getToken",(function(){return l.a}));var o=i(7);i.d(e,"logout",(function(){return o.a})),e.default=n.a},function(t,e,i){(function(t){var n=void 0!==t&&t||"undefined"!=typeof self&&self||window,c=Function.prototype.apply;function r(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new r(c.call(setTimeout,n,arguments),clearTimeout)},e.setInterval=function(){return new r(c.call(setInterval,n,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(n,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},i(25),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,i(6))},function(t,e,i){(function(t,e){!function(t,i){"use strict";if(!t.setImmediate){var n,c,r,l,o,s=1,I={},g=!1,a=t.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(t);u=u&&u.setTimeout?u:t,"[object process]"==={}.toString.call(t.process)?n=function(t){e.nextTick((function(){b(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,i=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=i,e}}()?t.MessageChannel?((r=new MessageChannel).port1.onmessage=function(t){b(t.data)},n=function(t){r.port2.postMessage(t)}):a&&"onreadystatechange"in a.createElement("script")?(c=a.documentElement,n=function(t){var e=a.createElement("script");e.onreadystatechange=function(){b(t),e.onreadystatechange=null,c.removeChild(e),e=null},c.appendChild(e)}):n=function(t){setTimeout(b,0,t)}:(l="setImmediate$"+Math.random()+"$",o=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(l)&&b(+e.data.slice(l.length))},t.addEventListener?t.addEventListener("message",o,!1):t.attachEvent("onmessage",o),n=function(e){t.postMessage(l+e,"*")}),u.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),i=0;i<e.length;i++)e[i]=arguments[i+1];var c={callback:t,args:e};return I[s]=c,n(s),s++},u.clearImmediate=d}function d(t){delete I[t]}function b(t){if(g)setTimeout(b,0,t);else{var e=I[t];if(e){g=!0;try{!function(t){var e=t.callback,i=t.args;switch(i.length){case 0:e();break;case 1:e(i[0]);break;case 2:e(i[0],i[1]);break;case 3:e(i[0],i[1],i[2]);break;default:e.apply(void 0,i)}}(e)}finally{d(t),g=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,i(6),i(11))},function(t,e,i){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var n=i(27),c=i(28),r=i(29);function l(){return s.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(t,e){if(l()<e)throw new RangeError("Invalid typed array length");return s.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=s.prototype:(null===t&&(t=new s(e)),t.length=e),t}function s(t,e,i){if(!(s.TYPED_ARRAY_SUPPORT||this instanceof s))return new s(t,e,i);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return a(this,t)}return I(this,t,e,i)}function I(t,e,i,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,i,n){if(e.byteLength,i<0||e.byteLength<i)throw new RangeError("'offset' is out of bounds");if(e.byteLength<i+(n||0))throw new RangeError("'length' is out of bounds");e=void 0===i&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,i):new Uint8Array(e,i,n);s.TYPED_ARRAY_SUPPORT?(t=e).__proto__=s.prototype:t=u(t,e);return t}(t,e,i,n):"string"==typeof e?function(t,e,i){"string"==typeof i&&""!==i||(i="utf8");if(!s.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var n=0|b(e,i),c=(t=o(t,n)).write(e,i);c!==n&&(t=t.slice(0,c));return t}(t,e,i):function(t,e){if(s.isBuffer(e)){var i=0|d(e.length);return 0===(t=o(t,i)).length||e.copy(t,0,0,i),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(n=e.length)!=n?o(t,0):u(t,e);if("Buffer"===e.type&&r(e.data))return u(t,e.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function g(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function a(t,e){if(g(e),t=o(t,e<0?0:0|d(e)),!s.TYPED_ARRAY_SUPPORT)for(var i=0;i<e;++i)t[i]=0;return t}function u(t,e){var i=e.length<0?0:0|d(e.length);t=o(t,i);for(var n=0;n<i;n+=1)t[n]=255&e[n];return t}function d(t){if(t>=l())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+l().toString(16)+" bytes");return 0|t}function b(t,e){if(s.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var i=t.length;if(0===i)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return w(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return E(t).length;default:if(n)return w(t).length;e=(""+e).toLowerCase(),n=!0}}function B(t,e,i){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return R(this,e,i);case"utf8":case"utf-8":return X(this,e,i);case"ascii":return f(this,e,i);case"latin1":case"binary":return Q(this,e,i);case"base64":return p(this,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,i);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function C(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function m(t,e,i,n,c){if(0===t.length)return-1;if("string"==typeof i?(n=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=c?0:t.length-1),i<0&&(i=t.length+i),i>=t.length){if(c)return-1;i=t.length-1}else if(i<0){if(!c)return-1;i=0}if("string"==typeof e&&(e=s.from(e,n)),s.isBuffer(e))return 0===e.length?-1:F(t,e,i,n,c);if("number"==typeof e)return e&=255,s.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?c?Uint8Array.prototype.indexOf.call(t,e,i):Uint8Array.prototype.lastIndexOf.call(t,e,i):F(t,[e],i,n,c);throw new TypeError("val must be string, number or Buffer")}function F(t,e,i,n,c){var r,l=1,o=t.length,s=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;l=2,o/=2,s/=2,i/=2}function I(t,e){return 1===l?t[e]:t.readUInt16BE(e*l)}if(c){var g=-1;for(r=i;r<o;r++)if(I(t,r)===I(e,-1===g?0:r-g)){if(-1===g&&(g=r),r-g+1===s)return g*l}else-1!==g&&(r-=r-g),g=-1}else for(i+s>o&&(i=o-s),r=i;r>=0;r--){for(var a=!0,u=0;u<s;u++)if(I(t,r+u)!==I(e,u)){a=!1;break}if(a)return r}return-1}function y(t,e,i,n){i=Number(i)||0;var c=t.length-i;n?(n=Number(n))>c&&(n=c):n=c;var r=e.length;if(r%2!=0)throw new TypeError("Invalid hex string");n>r/2&&(n=r/2);for(var l=0;l<n;++l){var o=parseInt(e.substr(2*l,2),16);if(isNaN(o))return l;t[i+l]=o}return l}function Z(t,e,i,n){return k(w(e,t.length-i),t,i,n)}function U(t,e,i,n){return k(function(t){for(var e=[],i=0;i<t.length;++i)e.push(255&t.charCodeAt(i));return e}(e),t,i,n)}function V(t,e,i,n){return U(t,e,i,n)}function h(t,e,i,n){return k(E(e),t,i,n)}function G(t,e,i,n){return k(function(t,e){for(var i,n,c,r=[],l=0;l<t.length&&!((e-=2)<0);++l)i=t.charCodeAt(l),n=i>>8,c=i%256,r.push(c),r.push(n);return r}(e,t.length-i),t,i,n)}function p(t,e,i){return 0===e&&i===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,i))}function X(t,e,i){i=Math.min(t.length,i);for(var n=[],c=e;c<i;){var r,l,o,s,I=t[c],g=null,a=I>239?4:I>223?3:I>191?2:1;if(c+a<=i)switch(a){case 1:I<128&&(g=I);break;case 2:128==(192&(r=t[c+1]))&&(s=(31&I)<<6|63&r)>127&&(g=s);break;case 3:r=t[c+1],l=t[c+2],128==(192&r)&&128==(192&l)&&(s=(15&I)<<12|(63&r)<<6|63&l)>2047&&(s<55296||s>57343)&&(g=s);break;case 4:r=t[c+1],l=t[c+2],o=t[c+3],128==(192&r)&&128==(192&l)&&128==(192&o)&&(s=(15&I)<<18|(63&r)<<12|(63&l)<<6|63&o)>65535&&s<1114112&&(g=s)}null===g?(g=65533,a=1):g>65535&&(g-=65536,n.push(g>>>10&1023|55296),g=56320|1023&g),n.push(g),c+=a}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var i="",n=0;for(;n<e;)i+=String.fromCharCode.apply(String,t.slice(n,n+=4096));return i}(n)}e.Buffer=s,e.SlowBuffer=function(t){+t!=t&&(t=0);return s.alloc(+t)},e.INSPECT_MAX_BYTES=50,s.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=l(),s.poolSize=8192,s._augment=function(t){return t.__proto__=s.prototype,t},s.from=function(t,e,i){return I(null,t,e,i)},s.TYPED_ARRAY_SUPPORT&&(s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0})),s.alloc=function(t,e,i){return function(t,e,i,n){return g(e),e<=0?o(t,e):void 0!==i?"string"==typeof n?o(t,e).fill(i,n):o(t,e).fill(i):o(t,e)}(null,t,e,i)},s.allocUnsafe=function(t){return a(null,t)},s.allocUnsafeSlow=function(t){return a(null,t)},s.isBuffer=function(t){return!(null==t||!t._isBuffer)},s.compare=function(t,e){if(!s.isBuffer(t)||!s.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var i=t.length,n=e.length,c=0,r=Math.min(i,n);c<r;++c)if(t[c]!==e[c]){i=t[c],n=e[c];break}return i<n?-1:n<i?1:0},s.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(t,e){if(!r(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return s.alloc(0);var i;if(void 0===e)for(e=0,i=0;i<t.length;++i)e+=t[i].length;var n=s.allocUnsafe(e),c=0;for(i=0;i<t.length;++i){var l=t[i];if(!s.isBuffer(l))throw new TypeError('"list" argument must be an Array of Buffers');l.copy(n,c),c+=l.length}return n},s.byteLength=b,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)C(this,e,e+1);return this},s.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)C(this,e,e+3),C(this,e+1,e+2);return this},s.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)C(this,e,e+7),C(this,e+1,e+6),C(this,e+2,e+5),C(this,e+3,e+4);return this},s.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?X(this,0,t):B.apply(this,arguments)},s.prototype.equals=function(t){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===s.compare(this,t)},s.prototype.inspect=function(){var t="",i=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,i).match(/.{2}/g).join(" "),this.length>i&&(t+=" ... ")),"<Buffer "+t+">"},s.prototype.compare=function(t,e,i,n,c){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===i&&(i=t?t.length:0),void 0===n&&(n=0),void 0===c&&(c=this.length),e<0||i>t.length||n<0||c>this.length)throw new RangeError("out of range index");if(n>=c&&e>=i)return 0;if(n>=c)return-1;if(e>=i)return 1;if(this===t)return 0;for(var r=(c>>>=0)-(n>>>=0),l=(i>>>=0)-(e>>>=0),o=Math.min(r,l),I=this.slice(n,c),g=t.slice(e,i),a=0;a<o;++a)if(I[a]!==g[a]){r=I[a],l=g[a];break}return r<l?-1:l<r?1:0},s.prototype.includes=function(t,e,i){return-1!==this.indexOf(t,e,i)},s.prototype.indexOf=function(t,e,i){return m(this,t,e,i,!0)},s.prototype.lastIndexOf=function(t,e,i){return m(this,t,e,i,!1)},s.prototype.write=function(t,e,i,n){if(void 0===e)n="utf8",i=this.length,e=0;else if(void 0===i&&"string"==typeof e)n=e,i=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(i)?(i|=0,void 0===n&&(n="utf8")):(n=i,i=void 0)}var c=this.length-e;if((void 0===i||i>c)&&(i=c),t.length>0&&(i<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var r=!1;;)switch(n){case"hex":return y(this,t,e,i);case"utf8":case"utf-8":return Z(this,t,e,i);case"ascii":return U(this,t,e,i);case"latin1":case"binary":return V(this,t,e,i);case"base64":return h(this,t,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G(this,t,e,i);default:if(r)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),r=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function f(t,e,i){var n="";i=Math.min(t.length,i);for(var c=e;c<i;++c)n+=String.fromCharCode(127&t[c]);return n}function Q(t,e,i){var n="";i=Math.min(t.length,i);for(var c=e;c<i;++c)n+=String.fromCharCode(t[c]);return n}function R(t,e,i){var n=t.length;(!e||e<0)&&(e=0),(!i||i<0||i>n)&&(i=n);for(var c="",r=e;r<i;++r)c+=N(t[r]);return c}function A(t,e,i){for(var n=t.slice(e,i),c="",r=0;r<n.length;r+=2)c+=String.fromCharCode(n[r]+256*n[r+1]);return c}function x(t,e,i){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>i)throw new RangeError("Trying to access beyond buffer length")}function W(t,e,i,n,c,r){if(!s.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>c||e<r)throw new RangeError('"value" argument is out of bounds');if(i+n>t.length)throw new RangeError("Index out of range")}function S(t,e,i,n){e<0&&(e=65535+e+1);for(var c=0,r=Math.min(t.length-i,2);c<r;++c)t[i+c]=(e&255<<8*(n?c:1-c))>>>8*(n?c:1-c)}function J(t,e,i,n){e<0&&(e=4294967295+e+1);for(var c=0,r=Math.min(t.length-i,4);c<r;++c)t[i+c]=e>>>8*(n?c:3-c)&255}function v(t,e,i,n,c,r){if(i+n>t.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function L(t,e,i,n,r){return r||v(t,0,i,4),c.write(t,e,i,n,23,4),i+4}function Y(t,e,i,n,r){return r||v(t,0,i,8),c.write(t,e,i,n,52,8),i+8}s.prototype.slice=function(t,e){var i,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),s.TYPED_ARRAY_SUPPORT)(i=this.subarray(t,e)).__proto__=s.prototype;else{var c=e-t;i=new s(c,void 0);for(var r=0;r<c;++r)i[r]=this[r+t]}return i},s.prototype.readUIntLE=function(t,e,i){t|=0,e|=0,i||x(t,e,this.length);for(var n=this[t],c=1,r=0;++r<e&&(c*=256);)n+=this[t+r]*c;return n},s.prototype.readUIntBE=function(t,e,i){t|=0,e|=0,i||x(t,e,this.length);for(var n=this[t+--e],c=1;e>0&&(c*=256);)n+=this[t+--e]*c;return n},s.prototype.readUInt8=function(t,e){return e||x(t,1,this.length),this[t]},s.prototype.readUInt16LE=function(t,e){return e||x(t,2,this.length),this[t]|this[t+1]<<8},s.prototype.readUInt16BE=function(t,e){return e||x(t,2,this.length),this[t]<<8|this[t+1]},s.prototype.readUInt32LE=function(t,e){return e||x(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},s.prototype.readUInt32BE=function(t,e){return e||x(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},s.prototype.readIntLE=function(t,e,i){t|=0,e|=0,i||x(t,e,this.length);for(var n=this[t],c=1,r=0;++r<e&&(c*=256);)n+=this[t+r]*c;return n>=(c*=128)&&(n-=Math.pow(2,8*e)),n},s.prototype.readIntBE=function(t,e,i){t|=0,e|=0,i||x(t,e,this.length);for(var n=e,c=1,r=this[t+--n];n>0&&(c*=256);)r+=this[t+--n]*c;return r>=(c*=128)&&(r-=Math.pow(2,8*e)),r},s.prototype.readInt8=function(t,e){return e||x(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},s.prototype.readInt16LE=function(t,e){e||x(t,2,this.length);var i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},s.prototype.readInt16BE=function(t,e){e||x(t,2,this.length);var i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},s.prototype.readInt32LE=function(t,e){return e||x(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},s.prototype.readInt32BE=function(t,e){return e||x(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},s.prototype.readFloatLE=function(t,e){return e||x(t,4,this.length),c.read(this,t,!0,23,4)},s.prototype.readFloatBE=function(t,e){return e||x(t,4,this.length),c.read(this,t,!1,23,4)},s.prototype.readDoubleLE=function(t,e){return e||x(t,8,this.length),c.read(this,t,!0,52,8)},s.prototype.readDoubleBE=function(t,e){return e||x(t,8,this.length),c.read(this,t,!1,52,8)},s.prototype.writeUIntLE=function(t,e,i,n){(t=+t,e|=0,i|=0,n)||W(this,t,e,i,Math.pow(2,8*i)-1,0);var c=1,r=0;for(this[e]=255&t;++r<i&&(c*=256);)this[e+r]=t/c&255;return e+i},s.prototype.writeUIntBE=function(t,e,i,n){(t=+t,e|=0,i|=0,n)||W(this,t,e,i,Math.pow(2,8*i)-1,0);var c=i-1,r=1;for(this[e+c]=255&t;--c>=0&&(r*=256);)this[e+c]=t/r&255;return e+i},s.prototype.writeUInt8=function(t,e,i){return t=+t,e|=0,i||W(this,t,e,1,255,0),s.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},s.prototype.writeUInt16LE=function(t,e,i){return t=+t,e|=0,i||W(this,t,e,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):S(this,t,e,!0),e+2},s.prototype.writeUInt16BE=function(t,e,i){return t=+t,e|=0,i||W(this,t,e,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):S(this,t,e,!1),e+2},s.prototype.writeUInt32LE=function(t,e,i){return t=+t,e|=0,i||W(this,t,e,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):J(this,t,e,!0),e+4},s.prototype.writeUInt32BE=function(t,e,i){return t=+t,e|=0,i||W(this,t,e,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):J(this,t,e,!1),e+4},s.prototype.writeIntLE=function(t,e,i,n){if(t=+t,e|=0,!n){var c=Math.pow(2,8*i-1);W(this,t,e,i,c-1,-c)}var r=0,l=1,o=0;for(this[e]=255&t;++r<i&&(l*=256);)t<0&&0===o&&0!==this[e+r-1]&&(o=1),this[e+r]=(t/l>>0)-o&255;return e+i},s.prototype.writeIntBE=function(t,e,i,n){if(t=+t,e|=0,!n){var c=Math.pow(2,8*i-1);W(this,t,e,i,c-1,-c)}var r=i-1,l=1,o=0;for(this[e+r]=255&t;--r>=0&&(l*=256);)t<0&&0===o&&0!==this[e+r+1]&&(o=1),this[e+r]=(t/l>>0)-o&255;return e+i},s.prototype.writeInt8=function(t,e,i){return t=+t,e|=0,i||W(this,t,e,1,127,-128),s.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},s.prototype.writeInt16LE=function(t,e,i){return t=+t,e|=0,i||W(this,t,e,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):S(this,t,e,!0),e+2},s.prototype.writeInt16BE=function(t,e,i){return t=+t,e|=0,i||W(this,t,e,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):S(this,t,e,!1),e+2},s.prototype.writeInt32LE=function(t,e,i){return t=+t,e|=0,i||W(this,t,e,4,2147483647,-2147483648),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):J(this,t,e,!0),e+4},s.prototype.writeInt32BE=function(t,e,i){return t=+t,e|=0,i||W(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):J(this,t,e,!1),e+4},s.prototype.writeFloatLE=function(t,e,i){return L(this,t,e,!0,i)},s.prototype.writeFloatBE=function(t,e,i){return L(this,t,e,!1,i)},s.prototype.writeDoubleLE=function(t,e,i){return Y(this,t,e,!0,i)},s.prototype.writeDoubleBE=function(t,e,i){return Y(this,t,e,!1,i)},s.prototype.copy=function(t,e,i,n){if(i||(i=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<i&&(n=i),n===i)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-i&&(n=t.length-e+i);var c,r=n-i;if(this===t&&i<e&&e<n)for(c=r-1;c>=0;--c)t[c+e]=this[c+i];else if(r<1e3||!s.TYPED_ARRAY_SUPPORT)for(c=0;c<r;++c)t[c+e]=this[c+i];else Uint8Array.prototype.set.call(t,this.subarray(i,i+r),e);return r},s.prototype.fill=function(t,e,i,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,i=this.length):"string"==typeof i&&(n=i,i=this.length),1===t.length){var c=t.charCodeAt(0);c<256&&(t=c)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!s.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<i)throw new RangeError("Out of range index");if(i<=e)return this;var r;if(e>>>=0,i=void 0===i?this.length:i>>>0,t||(t=0),"number"==typeof t)for(r=e;r<i;++r)this[r]=t;else{var l=s.isBuffer(t)?t:w(new s(t,n).toString()),o=l.length;for(r=0;r<i-e;++r)this[r+e]=l[r%o]}return this};var H=/[^+\/0-9A-Za-z-_]/g;function N(t){return t<16?"0"+t.toString(16):t.toString(16)}function w(t,e){var i;e=e||1/0;for(var n=t.length,c=null,r=[],l=0;l<n;++l){if((i=t.charCodeAt(l))>55295&&i<57344){if(!c){if(i>56319){(e-=3)>-1&&r.push(239,191,189);continue}if(l+1===n){(e-=3)>-1&&r.push(239,191,189);continue}c=i;continue}if(i<56320){(e-=3)>-1&&r.push(239,191,189),c=i;continue}i=65536+(c-55296<<10|i-56320)}else c&&(e-=3)>-1&&r.push(239,191,189);if(c=null,i<128){if((e-=1)<0)break;r.push(i)}else if(i<2048){if((e-=2)<0)break;r.push(i>>6|192,63&i|128)}else if(i<65536){if((e-=3)<0)break;r.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;r.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return r}function E(t){return n.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(H,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function k(t,e,i,n){for(var c=0;c<n&&!(c+i>=e.length||c>=t.length);++c)e[c+i]=t[c];return c}}).call(this,i(6))},function(t,e,i){"use strict";e.byteLength=function(t){var e=I(t),i=e[0],n=e[1];return 3*(i+n)/4-n},e.toByteArray=function(t){var e,i,n=I(t),l=n[0],o=n[1],s=new r(function(t,e,i){return 3*(e+i)/4-i}(0,l,o)),g=0,a=o>0?l-4:l;for(i=0;i<a;i+=4)e=c[t.charCodeAt(i)]<<18|c[t.charCodeAt(i+1)]<<12|c[t.charCodeAt(i+2)]<<6|c[t.charCodeAt(i+3)],s[g++]=e>>16&255,s[g++]=e>>8&255,s[g++]=255&e;2===o&&(e=c[t.charCodeAt(i)]<<2|c[t.charCodeAt(i+1)]>>4,s[g++]=255&e);1===o&&(e=c[t.charCodeAt(i)]<<10|c[t.charCodeAt(i+1)]<<4|c[t.charCodeAt(i+2)]>>2,s[g++]=e>>8&255,s[g++]=255&e);return s},e.fromByteArray=function(t){for(var e,i=t.length,c=i%3,r=[],l=0,o=i-c;l<o;l+=16383)r.push(g(t,l,l+16383>o?o:l+16383));1===c?(e=t[i-1],r.push(n[e>>2]+n[e<<4&63]+"==")):2===c&&(e=(t[i-2]<<8)+t[i-1],r.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"="));return r.join("")};for(var n=[],c=[],r="undefined"!=typeof Uint8Array?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,s=l.length;o<s;++o)n[o]=l[o],c[l.charCodeAt(o)]=o;function I(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=t.indexOf("=");return-1===i&&(i=e),[i,i===e?0:4-i%4]}function g(t,e,i){for(var c,r,l=[],o=e;o<i;o+=3)c=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]),l.push(n[(r=c)>>18&63]+n[r>>12&63]+n[r>>6&63]+n[63&r]);return l.join("")}c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,i,n,c){var r,l,o=8*c-n-1,s=(1<<o)-1,I=s>>1,g=-7,a=i?c-1:0,u=i?-1:1,d=t[e+a];for(a+=u,r=d&(1<<-g)-1,d>>=-g,g+=o;g>0;r=256*r+t[e+a],a+=u,g-=8);for(l=r&(1<<-g)-1,r>>=-g,g+=n;g>0;l=256*l+t[e+a],a+=u,g-=8);if(0===r)r=1-I;else{if(r===s)return l?NaN:1/0*(d?-1:1);l+=Math.pow(2,n),r-=I}return(d?-1:1)*l*Math.pow(2,r-n)},e.write=function(t,e,i,n,c,r){var l,o,s,I=8*r-c-1,g=(1<<I)-1,a=g>>1,u=23===c?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:r-1,b=n?1:-1,B=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,l=g):(l=Math.floor(Math.log(e)/Math.LN2),e*(s=Math.pow(2,-l))<1&&(l--,s*=2),(e+=l+a>=1?u/s:u*Math.pow(2,1-a))*s>=2&&(l++,s/=2),l+a>=g?(o=0,l=g):l+a>=1?(o=(e*s-1)*Math.pow(2,c),l+=a):(o=e*Math.pow(2,a-1)*Math.pow(2,c),l=0));c>=8;t[i+d]=255&o,d+=b,o/=256,c-=8);for(l=l<<c|o,I+=c;I>0;t[i+d]=255&l,d+=b,l/=256,I-=8);t[i+d-b]|=128*B}},function(t,e){var i={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==i.call(t)}},function(t,e,i){"use strict";
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n="function"==typeof Symbol&&Symbol.for,c=n?Symbol.for("react.element"):60103,r=n?Symbol.for("react.portal"):60106,l=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,I=n?Symbol.for("react.provider"):60109,g=n?Symbol.for("react.context"):60110,a=n?Symbol.for("react.async_mode"):60111,u=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,b=n?Symbol.for("react.suspense"):60113,B=n?Symbol.for("react.suspense_list"):60120,C=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,F=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,Z=n?Symbol.for("react.responder"):60118,U=n?Symbol.for("react.scope"):60119;function V(t){if("object"==typeof t&&null!==t){var e=t.$$typeof;switch(e){case c:switch(t=t.type){case a:case u:case l:case s:case o:case b:return t;default:switch(t=t&&t.$$typeof){case g:case d:case m:case C:case I:return t;default:return e}}case r:return e}}}function h(t){return V(t)===u}e.AsyncMode=a,e.ConcurrentMode=u,e.ContextConsumer=g,e.ContextProvider=I,e.Element=c,e.ForwardRef=d,e.Fragment=l,e.Lazy=m,e.Memo=C,e.Portal=r,e.Profiler=s,e.StrictMode=o,e.Suspense=b,e.isAsyncMode=function(t){return h(t)||V(t)===a},e.isConcurrentMode=h,e.isContextConsumer=function(t){return V(t)===g},e.isContextProvider=function(t){return V(t)===I},e.isElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===c},e.isForwardRef=function(t){return V(t)===d},e.isFragment=function(t){return V(t)===l},e.isLazy=function(t){return V(t)===m},e.isMemo=function(t){return V(t)===C},e.isPortal=function(t){return V(t)===r},e.isProfiler=function(t){return V(t)===s},e.isStrictMode=function(t){return V(t)===o},e.isSuspense=function(t){return V(t)===b},e.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===l||t===u||t===s||t===o||t===b||t===B||"object"==typeof t&&null!==t&&(t.$$typeof===m||t.$$typeof===C||t.$$typeof===I||t.$$typeof===g||t.$$typeof===d||t.$$typeof===y||t.$$typeof===Z||t.$$typeof===U||t.$$typeof===F)},e.typeOf=V}])}));